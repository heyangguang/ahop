{"level":"info","msg":"Starting Auto Healing Platform...","time":"2025-07-22T19:07:59+08:00"}
{"level":"info","msg":"Database connected successfully","time":"2025-07-22T19:07:59+08:00"}
{"level":"info","msg":"Starting database migration...","time":"2025-07-22T19:07:59+08:00"}

2025/07/22 19:07:59 [32m/opt/ahop/internal/database/migrate.go:14
[0m[33m[10.385ms] [34;1m[rows:1][0m SELECT count(*) FROM information_schema.tables WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'tenants' AND table_type = 'BASE TABLE'

2025/07/22 19:07:59 [32m/opt/ahop/internal/database/migrate.go:14
[0m[33m[1.006ms] [34;1m[rows:1][0m SELECT CURRENT_DATABASE()

2025/07/22 19:07:59 [32m/opt/ahop/internal/database/migrate.go:14
[0m[33m[23.650ms] [34;1m[rows:-][0m SELECT c.column_name, c.is_nullable = 'YES', c.udt_name, c.character_maximum_length, c.numeric_precision, c.numeric_precision_radix, c.numeric_scale, c.datetime_precision, 8 * typlen, c.column_default, pd.description, c.identity_increment FROM information_schema.columns AS c JOIN pg_type AS pgt ON c.udt_name = pgt.typname LEFT JOIN pg_catalog.pg_description as pd ON pd.objsubid = c.ordinal_position AND pd.objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = c.table_name AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = c.table_schema)) where table_catalog = 'auto_healing_platform' AND table_schema = CURRENT_SCHEMA() AND table_name = 'tenants'

2025/07/22 19:07:59 [32m/opt/ahop/internal/database/migrate.go:14
[0m[33m[0.852ms] [34;1m[rows:-][0m SELECT * FROM "tenants" LIMIT 5

2025/07/22 19:07:59 [32m/opt/ahop/internal/database/migrate.go:14
[0m[33m[16.856ms] [34;1m[rows:-][0m SELECT constraint_name FROM information_schema.table_constraints tc JOIN information_schema.constraint_column_usage AS ccu USING (constraint_schema, constraint_catalog, table_name, constraint_name) JOIN information_schema.columns AS c ON c.table_schema = tc.constraint_schema AND tc.table_name = c.table_name AND ccu.column_name = c.column_name WHERE constraint_type IN ('PRIMARY KEY', 'UNIQUE') AND c.table_catalog = 'auto_healing_platform' AND c.table_schema = CURRENT_SCHEMA() AND c.table_name = 'tenants' AND constraint_type = 'UNIQUE'

2025/07/22 19:07:59 [32m/opt/ahop/internal/database/migrate.go:14
[0m[33m[13.130ms] [34;1m[rows:-][0m SELECT c.column_name, constraint_name, constraint_type FROM information_schema.table_constraints tc JOIN information_schema.constraint_column_usage AS ccu USING (constraint_schema, constraint_catalog, table_name, constraint_name) JOIN information_schema.columns AS c ON c.table_schema = tc.constraint_schema AND tc.table_name = c.table_name AND ccu.column_name = c.column_name WHERE constraint_type IN ('PRIMARY KEY', 'UNIQUE') AND c.table_catalog = 'auto_healing_platform' AND c.table_schema = CURRENT_SCHEMA() AND c.table_name = 'tenants'

2025/07/22 19:07:59 [32m/opt/ahop/internal/database/migrate.go:14
[0m[33m[2.321ms] [34;1m[rows:-][0m SELECT a.attname as column_name, format_type(a.atttypid, a.atttypmod) AS data_type
		FROM pg_attribute a JOIN pg_class b ON a.attrelid = b.oid AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA())
		WHERE a.attnum > 0 -- hide internal columns
		AND NOT a.attisdropped -- hide deleted columns
		AND b.relname = 'tenants'

2025/07/22 19:07:59 [32m/opt/ahop/internal/database/migrate.go:14
[0m[33m[9.945ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'tenants' AND column_name = 'id') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'tenants' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2025/07/22 19:07:59 [32m/opt/ahop/internal/database/migrate.go:14
[0m[33m[3.263ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'tenants' AND column_name = 'created_at') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'tenants' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2025/07/22 19:07:59 [32m/opt/ahop/internal/database/migrate.go:14
[0m[33m[3.326ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'tenants' AND column_name = 'updated_at') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'tenants' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2025/07/22 19:07:59 [32m/opt/ahop/internal/database/migrate.go:14
[0m[33m[3.179ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'tenants' AND column_name = 'name') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'tenants' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2025/07/22 19:07:59 [32m/opt/ahop/internal/database/migrate.go:14
[0m[33m[3.180ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'tenants' AND column_name = 'code') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'tenants' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2025/07/22 19:07:59 [32m/opt/ahop/internal/database/migrate.go:14
[0m[33m[3.117ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'tenants' AND column_name = 'status') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'tenants' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2025/07/22 19:07:59 [32m/opt/ahop/internal/database/migrate.go:14
[0m[33m[2.883ms] [34;1m[rows:1][0m SELECT count(*) FROM pg_indexes WHERE tablename = 'tenants' AND indexname = 'idx_tenants_code' AND schemaname = CURRENT_SCHEMA()

2025/07/22 19:07:59 [32m/opt/ahop/internal/database/migrate.go:14
[0m[33m[1.171ms] [34;1m[rows:1][0m SELECT count(*) FROM information_schema.tables WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'users' AND table_type = 'BASE TABLE'

2025/07/22 19:07:59 [32m/opt/ahop/internal/database/migrate.go:14
[0m[33m[0.422ms] [34;1m[rows:1][0m SELECT CURRENT_DATABASE()

2025/07/22 19:07:59 [32m/opt/ahop/internal/database/migrate.go:14
[0m[33m[10.922ms] [34;1m[rows:-][0m SELECT c.column_name, c.is_nullable = 'YES', c.udt_name, c.character_maximum_length, c.numeric_precision, c.numeric_precision_radix, c.numeric_scale, c.datetime_precision, 8 * typlen, c.column_default, pd.description, c.identity_increment FROM information_schema.columns AS c JOIN pg_type AS pgt ON c.udt_name = pgt.typname LEFT JOIN pg_catalog.pg_description as pd ON pd.objsubid = c.ordinal_position AND pd.objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = c.table_name AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = c.table_schema)) where table_catalog = 'auto_healing_platform' AND table_schema = CURRENT_SCHEMA() AND table_name = 'users'

2025/07/22 19:07:59 [32m/opt/ahop/internal/database/migrate.go:14
[0m[33m[1.043ms] [34;1m[rows:-][0m SELECT * FROM "users" LIMIT 5

2025/07/22 19:07:59 [32m/opt/ahop/internal/database/migrate.go:14
[0m[33m[11.460ms] [34;1m[rows:-][0m SELECT constraint_name FROM information_schema.table_constraints tc JOIN information_schema.constraint_column_usage AS ccu USING (constraint_schema, constraint_catalog, table_name, constraint_name) JOIN information_schema.columns AS c ON c.table_schema = tc.constraint_schema AND tc.table_name = c.table_name AND ccu.column_name = c.column_name WHERE constraint_type IN ('PRIMARY KEY', 'UNIQUE') AND c.table_catalog = 'auto_healing_platform' AND c.table_schema = CURRENT_SCHEMA() AND c.table_name = 'users' AND constraint_type = 'UNIQUE'

2025/07/22 19:08:00 [32m/opt/ahop/internal/database/migrate.go:14
[0m[33m[10.289ms] [34;1m[rows:-][0m SELECT c.column_name, constraint_name, constraint_type FROM information_schema.table_constraints tc JOIN information_schema.constraint_column_usage AS ccu USING (constraint_schema, constraint_catalog, table_name, constraint_name) JOIN information_schema.columns AS c ON c.table_schema = tc.constraint_schema AND tc.table_name = c.table_name AND ccu.column_name = c.column_name WHERE constraint_type IN ('PRIMARY KEY', 'UNIQUE') AND c.table_catalog = 'auto_healing_platform' AND c.table_schema = CURRENT_SCHEMA() AND c.table_name = 'users'

2025/07/22 19:08:00 [32m/opt/ahop/internal/database/migrate.go:14
[0m[33m[1.071ms] [34;1m[rows:-][0m SELECT a.attname as column_name, format_type(a.atttypid, a.atttypmod) AS data_type
		FROM pg_attribute a JOIN pg_class b ON a.attrelid = b.oid AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA())
		WHERE a.attnum > 0 -- hide internal columns
		AND NOT a.attisdropped -- hide deleted columns
		AND b.relname = 'users'

2025/07/22 19:08:00 [32m/opt/ahop/internal/database/migrate.go:14
[0m[33m[0.704ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'users' AND column_name = 'id') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'users' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2025/07/22 19:08:00 [32m/opt/ahop/internal/database/migrate.go:14
[0m[33m[0.641ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'users' AND column_name = 'created_at') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'users' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2025/07/22 19:08:00 [32m/opt/ahop/internal/database/migrate.go:14
[0m[33m[0.631ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'users' AND column_name = 'updated_at') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'users' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2025/07/22 19:08:00 [32m/opt/ahop/internal/database/migrate.go:14
[0m[33m[0.668ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'users' AND column_name = 'tenant_id') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'users' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2025/07/22 19:08:00 [32m/opt/ahop/internal/database/migrate.go:14
[0m[33m[0.666ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'users' AND column_name = 'username') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'users' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2025/07/22 19:08:00 [32m/opt/ahop/internal/database/migrate.go:14
[0m[33m[0.637ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'users' AND column_name = 'email') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'users' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2025/07/22 19:08:00 [32m/opt/ahop/internal/database/migrate.go:14
[0m[33m[0.640ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'users' AND column_name = 'password_hash') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'users' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2025/07/22 19:08:00 [32m/opt/ahop/internal/database/migrate.go:14
[0m[33m[0.650ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'users' AND column_name = 'name') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'users' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2025/07/22 19:08:00 [32m/opt/ahop/internal/database/migrate.go:14
[0m[33m[0.657ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'users' AND column_name = 'phone') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'users' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2025/07/22 19:08:00 [32m/opt/ahop/internal/database/migrate.go:14
[0m[33m[0.623ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'users' AND column_name = 'avatar') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'users' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2025/07/22 19:08:00 [32m/opt/ahop/internal/database/migrate.go:14
[0m[33m[0.636ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'users' AND column_name = 'status') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'users' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2025/07/22 19:08:00 [32m/opt/ahop/internal/database/migrate.go:14
[0m[33m[0.619ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'users' AND column_name = 'is_platform_admin') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'users' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2025/07/22 19:08:00 [32m/opt/ahop/internal/database/migrate.go:14
[0m[33m[0.606ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'users' AND column_name = 'is_tenant_admin') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'users' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2025/07/22 19:08:00 [32m/opt/ahop/internal/database/migrate.go:14
[0m[33m[0.631ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'users' AND column_name = 'last_login_at') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'users' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2025/07/22 19:08:00 [32m/opt/ahop/internal/database/migrate.go:14
[0m[33m[2.359ms] [34;1m[rows:1][0m SELECT count(*) FROM INFORMATION_SCHEMA.table_constraints WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'users' AND constraint_name = 'fk_users_tenant'

2025/07/22 19:08:00 [32m/opt/ahop/internal/database/migrate.go:14
[0m[33m[1.294ms] [34;1m[rows:1][0m SELECT count(*) FROM pg_indexes WHERE tablename = 'users' AND indexname = 'idx_users_tenant_id' AND schemaname = CURRENT_SCHEMA()

2025/07/22 19:08:00 [32m/opt/ahop/internal/database/migrate.go:14
[0m[33m[1.274ms] [34;1m[rows:1][0m SELECT count(*) FROM pg_indexes WHERE tablename = 'users' AND indexname = 'idx_users_username' AND schemaname = CURRENT_SCHEMA()

2025/07/22 19:08:00 [32m/opt/ahop/internal/database/migrate.go:14
[0m[33m[1.257ms] [34;1m[rows:1][0m SELECT count(*) FROM pg_indexes WHERE tablename = 'users' AND indexname = 'idx_users_email' AND schemaname = CURRENT_SCHEMA()

2025/07/22 19:08:00 [32m/opt/ahop/internal/database/migrate.go:14
[0m[33m[0.985ms] [34;1m[rows:1][0m SELECT count(*) FROM information_schema.tables WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'user_roles' AND table_type = 'BASE TABLE'

2025/07/22 19:08:00 [32m/opt/ahop/internal/database/migrate.go:14
[0m[33m[0.340ms] [34;1m[rows:1][0m SELECT CURRENT_DATABASE()

2025/07/22 19:08:00 [32m/opt/ahop/internal/database/migrate.go:14
[0m[33m[7.878ms] [34;1m[rows:-][0m SELECT c.column_name, c.is_nullable = 'YES', c.udt_name, c.character_maximum_length, c.numeric_precision, c.numeric_precision_radix, c.numeric_scale, c.datetime_precision, 8 * typlen, c.column_default, pd.description, c.identity_increment FROM information_schema.columns AS c JOIN pg_type AS pgt ON c.udt_name = pgt.typname LEFT JOIN pg_catalog.pg_description as pd ON pd.objsubid = c.ordinal_position AND pd.objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = c.table_name AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = c.table_schema)) where table_catalog = 'auto_healing_platform' AND table_schema = CURRENT_SCHEMA() AND table_name = 'user_roles'

2025/07/22 19:08:00 [32m/opt/ahop/internal/database/migrate.go:14
[0m[33m[0.666ms] [34;1m[rows:-][0m SELECT * FROM "user_roles" LIMIT 5

2025/07/22 19:08:00 [32m/opt/ahop/internal/database/migrate.go:14
[0m[33m[8.519ms] [34;1m[rows:-][0m SELECT constraint_name FROM information_schema.table_constraints tc JOIN information_schema.constraint_column_usage AS ccu USING (constraint_schema, constraint_catalog, table_name, constraint_name) JOIN information_schema.columns AS c ON c.table_schema = tc.constraint_schema AND tc.table_name = c.table_name AND ccu.column_name = c.column_name WHERE constraint_type IN ('PRIMARY KEY', 'UNIQUE') AND c.table_catalog = 'auto_healing_platform' AND c.table_schema = CURRENT_SCHEMA() AND c.table_name = 'user_roles' AND constraint_type = 'UNIQUE'

2025/07/22 19:08:00 [32m/opt/ahop/internal/database/migrate.go:14
[0m[33m[8.450ms] [34;1m[rows:-][0m SELECT c.column_name, constraint_name, constraint_type FROM information_schema.table_constraints tc JOIN information_schema.constraint_column_usage AS ccu USING (constraint_schema, constraint_catalog, table_name, constraint_name) JOIN information_schema.columns AS c ON c.table_schema = tc.constraint_schema AND tc.table_name = c.table_name AND ccu.column_name = c.column_name WHERE constraint_type IN ('PRIMARY KEY', 'UNIQUE') AND c.table_catalog = 'auto_healing_platform' AND c.table_schema = CURRENT_SCHEMA() AND c.table_name = 'user_roles'

2025/07/22 19:08:00 [32m/opt/ahop/internal/database/migrate.go:14
[0m[33m[0.932ms] [34;1m[rows:-][0m SELECT a.attname as column_name, format_type(a.atttypid, a.atttypmod) AS data_type
		FROM pg_attribute a JOIN pg_class b ON a.attrelid = b.oid AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA())
		WHERE a.attnum > 0 -- hide internal columns
		AND NOT a.attisdropped -- hide deleted columns
		AND b.relname = 'user_roles'

2025/07/22 19:08:00 [32m/opt/ahop/internal/database/migrate.go:14
[0m[33m[0.722ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'user_roles' AND column_name = 'id') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'user_roles' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2025/07/22 19:08:00 [32m/opt/ahop/internal/database/migrate.go:14
[0m[33m[0.667ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'user_roles' AND column_name = 'user_id') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'user_roles' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2025/07/22 19:08:00 [32m/opt/ahop/internal/database/migrate.go:14
[0m[33m[0.668ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'user_roles' AND column_name = 'role_id') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'user_roles' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2025/07/22 19:08:00 [32m/opt/ahop/internal/database/migrate.go:14
[0m[33m[0.665ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'user_roles' AND column_name = 'created_at') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'user_roles' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2025/07/22 19:08:00 [32m/opt/ahop/internal/database/migrate.go:14
[0m[33m[0.634ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'user_roles' AND column_name = 'created_by') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'user_roles' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2025/07/22 19:08:00 [32m/opt/ahop/internal/database/migrate.go:14
[0m[33m[1.291ms] [34;1m[rows:1][0m SELECT count(*) FROM pg_indexes WHERE tablename = 'user_roles' AND indexname = 'idx_user_roles_user_id' AND schemaname = CURRENT_SCHEMA()

2025/07/22 19:08:00 [32m/opt/ahop/internal/database/migrate.go:14
[0m[33m[1.277ms] [34;1m[rows:1][0m SELECT count(*) FROM pg_indexes WHERE tablename = 'user_roles' AND indexname = 'idx_user_roles_role_id' AND schemaname = CURRENT_SCHEMA()

2025/07/22 19:08:00 [32m/opt/ahop/internal/database/migrate.go:14
[0m[33m[1.067ms] [34;1m[rows:1][0m SELECT count(*) FROM information_schema.tables WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'permissions' AND table_type = 'BASE TABLE'

2025/07/22 19:08:00 [32m/opt/ahop/internal/database/migrate.go:14
[0m[33m[0.313ms] [34;1m[rows:1][0m SELECT CURRENT_DATABASE()

2025/07/22 19:08:00 [32m/opt/ahop/internal/database/migrate.go:14
[0m[33m[8.011ms] [34;1m[rows:-][0m SELECT c.column_name, c.is_nullable = 'YES', c.udt_name, c.character_maximum_length, c.numeric_precision, c.numeric_precision_radix, c.numeric_scale, c.datetime_precision, 8 * typlen, c.column_default, pd.description, c.identity_increment FROM information_schema.columns AS c JOIN pg_type AS pgt ON c.udt_name = pgt.typname LEFT JOIN pg_catalog.pg_description as pd ON pd.objsubid = c.ordinal_position AND pd.objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = c.table_name AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = c.table_schema)) where table_catalog = 'auto_healing_platform' AND table_schema = CURRENT_SCHEMA() AND table_name = 'permissions'

2025/07/22 19:08:00 [32m/opt/ahop/internal/database/migrate.go:14
[0m[33m[0.895ms] [34;1m[rows:-][0m SELECT * FROM "permissions" LIMIT 5

2025/07/22 19:08:00 [32m/opt/ahop/internal/database/migrate.go:14
[0m[33m[8.757ms] [34;1m[rows:-][0m SELECT constraint_name FROM information_schema.table_constraints tc JOIN information_schema.constraint_column_usage AS ccu USING (constraint_schema, constraint_catalog, table_name, constraint_name) JOIN information_schema.columns AS c ON c.table_schema = tc.constraint_schema AND tc.table_name = c.table_name AND ccu.column_name = c.column_name WHERE constraint_type IN ('PRIMARY KEY', 'UNIQUE') AND c.table_catalog = 'auto_healing_platform' AND c.table_schema = CURRENT_SCHEMA() AND c.table_name = 'permissions' AND constraint_type = 'UNIQUE'

2025/07/22 19:08:00 [32m/opt/ahop/internal/database/migrate.go:14
[0m[33m[8.778ms] [34;1m[rows:-][0m SELECT c.column_name, constraint_name, constraint_type FROM information_schema.table_constraints tc JOIN information_schema.constraint_column_usage AS ccu USING (constraint_schema, constraint_catalog, table_name, constraint_name) JOIN information_schema.columns AS c ON c.table_schema = tc.constraint_schema AND tc.table_name = c.table_name AND ccu.column_name = c.column_name WHERE constraint_type IN ('PRIMARY KEY', 'UNIQUE') AND c.table_catalog = 'auto_healing_platform' AND c.table_schema = CURRENT_SCHEMA() AND c.table_name = 'permissions'

2025/07/22 19:08:00 [32m/opt/ahop/internal/database/migrate.go:14
[0m[33m[0.938ms] [34;1m[rows:-][0m SELECT a.attname as column_name, format_type(a.atttypid, a.atttypmod) AS data_type
		FROM pg_attribute a JOIN pg_class b ON a.attrelid = b.oid AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA())
		WHERE a.attnum > 0 -- hide internal columns
		AND NOT a.attisdropped -- hide deleted columns
		AND b.relname = 'permissions'

2025/07/22 19:08:00 [32m/opt/ahop/internal/database/migrate.go:14
[0m[33m[0.710ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'permissions' AND column_name = 'id') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'permissions' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2025/07/22 19:08:00 [32m/opt/ahop/internal/database/migrate.go:14
[0m[33m[0.788ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'permissions' AND column_name = 'created_at') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'permissions' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2025/07/22 19:08:00 [32m/opt/ahop/internal/database/migrate.go:14
[0m[33m[0.535ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'permissions' AND column_name = 'updated_at') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'permissions' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2025/07/22 19:08:00 [32m/opt/ahop/internal/database/migrate.go:14
[0m[33m[0.521ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'permissions' AND column_name = 'code') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'permissions' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2025/07/22 19:08:00 [32m/opt/ahop/internal/database/migrate.go:14
[0m[33m[0.519ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'permissions' AND column_name = 'name') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'permissions' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2025/07/22 19:08:00 [32m/opt/ahop/internal/database/migrate.go:14
[0m[33m[0.530ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'permissions' AND column_name = 'description') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'permissions' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2025/07/22 19:08:00 [32m/opt/ahop/internal/database/migrate.go:14
[0m[33m[0.509ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'permissions' AND column_name = 'module') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'permissions' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2025/07/22 19:08:00 [32m/opt/ahop/internal/database/migrate.go:14
[0m[33m[0.527ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'permissions' AND column_name = 'action') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'permissions' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2025/07/22 19:08:00 [32m/opt/ahop/internal/database/migrate.go:14
[0m[33m[0.391ms] [34;1m[rows:1][0m SELECT count(*) FROM pg_indexes WHERE tablename = 'permissions' AND indexname = 'idx_permissions_code' AND schemaname = CURRENT_SCHEMA()

2025/07/22 19:08:00 [32m/opt/ahop/internal/database/migrate.go:14
[0m[33m[0.999ms] [34;1m[rows:1][0m SELECT count(*) FROM information_schema.tables WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'roles' AND table_type = 'BASE TABLE'

2025/07/22 19:08:00 [32m/opt/ahop/internal/database/migrate.go:14
[0m[33m[0.317ms] [34;1m[rows:1][0m SELECT CURRENT_DATABASE()

2025/07/22 19:08:00 [32m/opt/ahop/internal/database/migrate.go:14
[0m[33m[7.907ms] [34;1m[rows:-][0m SELECT c.column_name, c.is_nullable = 'YES', c.udt_name, c.character_maximum_length, c.numeric_precision, c.numeric_precision_radix, c.numeric_scale, c.datetime_precision, 8 * typlen, c.column_default, pd.description, c.identity_increment FROM information_schema.columns AS c JOIN pg_type AS pgt ON c.udt_name = pgt.typname LEFT JOIN pg_catalog.pg_description as pd ON pd.objsubid = c.ordinal_position AND pd.objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = c.table_name AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = c.table_schema)) where table_catalog = 'auto_healing_platform' AND table_schema = CURRENT_SCHEMA() AND table_name = 'roles'

2025/07/22 19:08:00 [32m/opt/ahop/internal/database/migrate.go:14
[0m[33m[0.805ms] [34;1m[rows:-][0m SELECT * FROM "roles" LIMIT 5

2025/07/22 19:08:00 [32m/opt/ahop/internal/database/migrate.go:14
[0m[33m[8.925ms] [34;1m[rows:-][0m SELECT constraint_name FROM information_schema.table_constraints tc JOIN information_schema.constraint_column_usage AS ccu USING (constraint_schema, constraint_catalog, table_name, constraint_name) JOIN information_schema.columns AS c ON c.table_schema = tc.constraint_schema AND tc.table_name = c.table_name AND ccu.column_name = c.column_name WHERE constraint_type IN ('PRIMARY KEY', 'UNIQUE') AND c.table_catalog = 'auto_healing_platform' AND c.table_schema = CURRENT_SCHEMA() AND c.table_name = 'roles' AND constraint_type = 'UNIQUE'

2025/07/22 19:08:00 [32m/opt/ahop/internal/database/migrate.go:14
[0m[33m[9.088ms] [34;1m[rows:-][0m SELECT c.column_name, constraint_name, constraint_type FROM information_schema.table_constraints tc JOIN information_schema.constraint_column_usage AS ccu USING (constraint_schema, constraint_catalog, table_name, constraint_name) JOIN information_schema.columns AS c ON c.table_schema = tc.constraint_schema AND tc.table_name = c.table_name AND ccu.column_name = c.column_name WHERE constraint_type IN ('PRIMARY KEY', 'UNIQUE') AND c.table_catalog = 'auto_healing_platform' AND c.table_schema = CURRENT_SCHEMA() AND c.table_name = 'roles'

2025/07/22 19:08:00 [32m/opt/ahop/internal/database/migrate.go:14
[0m[33m[1.024ms] [34;1m[rows:-][0m SELECT a.attname as column_name, format_type(a.atttypid, a.atttypmod) AS data_type
		FROM pg_attribute a JOIN pg_class b ON a.attrelid = b.oid AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA())
		WHERE a.attnum > 0 -- hide internal columns
		AND NOT a.attisdropped -- hide deleted columns
		AND b.relname = 'roles'

2025/07/22 19:08:00 [32m/opt/ahop/internal/database/migrate.go:14
[0m[33m[0.796ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'roles' AND column_name = 'id') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'roles' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2025/07/22 19:08:00 [32m/opt/ahop/internal/database/migrate.go:14
[0m[33m[0.750ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'roles' AND column_name = 'created_at') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'roles' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2025/07/22 19:08:00 [32m/opt/ahop/internal/database/migrate.go:14
[0m[33m[0.683ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'roles' AND column_name = 'updated_at') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'roles' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2025/07/22 19:08:00 [32m/opt/ahop/internal/database/migrate.go:14
[0m[33m[2.010ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'roles' AND column_name = 'tenant_id') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'roles' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2025/07/22 19:08:00 [32m/opt/ahop/internal/database/migrate.go:14
[0m[33m[0.974ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'roles' AND column_name = 'code') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'roles' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2025/07/22 19:08:00 [32m/opt/ahop/internal/database/migrate.go:14
[0m[33m[0.856ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'roles' AND column_name = 'name') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'roles' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2025/07/22 19:08:00 [32m/opt/ahop/internal/database/migrate.go:14
[0m[33m[0.769ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'roles' AND column_name = 'description') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'roles' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2025/07/22 19:08:00 [32m/opt/ahop/internal/database/migrate.go:14
[0m[33m[0.738ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'roles' AND column_name = 'is_system') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'roles' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2025/07/22 19:08:00 [32m/opt/ahop/internal/database/migrate.go:14
[0m[33m[0.683ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'roles' AND column_name = 'status') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'roles' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2025/07/22 19:08:00 [32m/opt/ahop/internal/database/migrate.go:14
[0m[33m[1.809ms] [34;1m[rows:1][0m SELECT count(*) FROM INFORMATION_SCHEMA.table_constraints WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'roles' AND constraint_name = 'fk_roles_tenant'

2025/07/22 19:08:00 [32m/opt/ahop/internal/database/migrate.go:14
[0m[33m[0.646ms] [34;1m[rows:1][0m SELECT count(*) FROM pg_indexes WHERE tablename = 'roles' AND indexname = 'idx_roles_tenant_id' AND schemaname = CURRENT_SCHEMA()

2025/07/22 19:08:00 [32m/opt/ahop/internal/database/migrate.go:14
[0m[33m[1.277ms] [34;1m[rows:1][0m SELECT count(*) FROM information_schema.tables WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'role_permissions' AND table_type = 'BASE TABLE'

2025/07/22 19:08:00 [32m/opt/ahop/internal/database/migrate.go:14
[0m[33m[0.519ms] [34;1m[rows:1][0m SELECT CURRENT_DATABASE()

2025/07/22 19:08:00 [32m/opt/ahop/internal/database/migrate.go:14
[0m[33m[7.736ms] [34;1m[rows:-][0m SELECT c.column_name, c.is_nullable = 'YES', c.udt_name, c.character_maximum_length, c.numeric_precision, c.numeric_precision_radix, c.numeric_scale, c.datetime_precision, 8 * typlen, c.column_default, pd.description, c.identity_increment FROM information_schema.columns AS c JOIN pg_type AS pgt ON c.udt_name = pgt.typname LEFT JOIN pg_catalog.pg_description as pd ON pd.objsubid = c.ordinal_position AND pd.objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = c.table_name AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = c.table_schema)) where table_catalog = 'auto_healing_platform' AND table_schema = CURRENT_SCHEMA() AND table_name = 'role_permissions'

2025/07/22 19:08:00 [32m/opt/ahop/internal/database/migrate.go:14
[0m[33m[0.832ms] [34;1m[rows:-][0m SELECT * FROM "role_permissions" LIMIT 5

2025/07/22 19:08:00 [32m/opt/ahop/internal/database/migrate.go:14
[0m[33m[8.763ms] [34;1m[rows:-][0m SELECT constraint_name FROM information_schema.table_constraints tc JOIN information_schema.constraint_column_usage AS ccu USING (constraint_schema, constraint_catalog, table_name, constraint_name) JOIN information_schema.columns AS c ON c.table_schema = tc.constraint_schema AND tc.table_name = c.table_name AND ccu.column_name = c.column_name WHERE constraint_type IN ('PRIMARY KEY', 'UNIQUE') AND c.table_catalog = 'auto_healing_platform' AND c.table_schema = CURRENT_SCHEMA() AND c.table_name = 'role_permissions' AND constraint_type = 'UNIQUE'

2025/07/22 19:08:00 [32m/opt/ahop/internal/database/migrate.go:14
[0m[33m[8.997ms] [34;1m[rows:-][0m SELECT c.column_name, constraint_name, constraint_type FROM information_schema.table_constraints tc JOIN information_schema.constraint_column_usage AS ccu USING (constraint_schema, constraint_catalog, table_name, constraint_name) JOIN information_schema.columns AS c ON c.table_schema = tc.constraint_schema AND tc.table_name = c.table_name AND ccu.column_name = c.column_name WHERE constraint_type IN ('PRIMARY KEY', 'UNIQUE') AND c.table_catalog = 'auto_healing_platform' AND c.table_schema = CURRENT_SCHEMA() AND c.table_name = 'role_permissions'

2025/07/22 19:08:00 [32m/opt/ahop/internal/database/migrate.go:14
[0m[33m[0.984ms] [34;1m[rows:-][0m SELECT a.attname as column_name, format_type(a.atttypid, a.atttypmod) AS data_type
		FROM pg_attribute a JOIN pg_class b ON a.attrelid = b.oid AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA())
		WHERE a.attnum > 0 -- hide internal columns
		AND NOT a.attisdropped -- hide deleted columns
		AND b.relname = 'role_permissions'

2025/07/22 19:08:00 [32m/opt/ahop/internal/database/migrate.go:14
[0m[33m[0.711ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'role_permissions' AND column_name = 'id') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'role_permissions' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2025/07/22 19:08:00 [32m/opt/ahop/internal/database/migrate.go:14
[0m[33m[0.700ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'role_permissions' AND column_name = 'role_id') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'role_permissions' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2025/07/22 19:08:00 [32m/opt/ahop/internal/database/migrate.go:14
[0m[33m[0.755ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'role_permissions' AND column_name = 'permission_id') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'role_permissions' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2025/07/22 19:08:00 [32m/opt/ahop/internal/database/migrate.go:14
[0m[33m[0.725ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'role_permissions' AND column_name = 'created_at') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'role_permissions' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2025/07/22 19:08:00 [32m/opt/ahop/internal/database/migrate.go:14
[0m[33m[0.578ms] [34;1m[rows:1][0m SELECT count(*) FROM pg_indexes WHERE tablename = 'role_permissions' AND indexname = 'idx_role_permissions_role_id' AND schemaname = CURRENT_SCHEMA()

2025/07/22 19:08:00 [32m/opt/ahop/internal/database/migrate.go:14
[0m[33m[0.652ms] [34;1m[rows:1][0m SELECT count(*) FROM pg_indexes WHERE tablename = 'role_permissions' AND indexname = 'idx_role_permissions_permission_id' AND schemaname = CURRENT_SCHEMA()

2025/07/22 19:08:00 [32m/opt/ahop/internal/database/migrate.go:14
[0m[33m[0.595ms] [34;1m[rows:1][0m SELECT count(*) FROM information_schema.tables WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'credentials' AND table_type = 'BASE TABLE'

2025/07/22 19:08:00 [32m/opt/ahop/internal/database/migrate.go:14
[0m[33m[0.453ms] [34;1m[rows:1][0m SELECT CURRENT_DATABASE()

2025/07/22 19:08:00 [32m/opt/ahop/internal/database/migrate.go:14
[0m[33m[4.196ms] [34;1m[rows:-][0m SELECT c.column_name, c.is_nullable = 'YES', c.udt_name, c.character_maximum_length, c.numeric_precision, c.numeric_precision_radix, c.numeric_scale, c.datetime_precision, 8 * typlen, c.column_default, pd.description, c.identity_increment FROM information_schema.columns AS c JOIN pg_type AS pgt ON c.udt_name = pgt.typname LEFT JOIN pg_catalog.pg_description as pd ON pd.objsubid = c.ordinal_position AND pd.objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = c.table_name AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = c.table_schema)) where table_catalog = 'auto_healing_platform' AND table_schema = CURRENT_SCHEMA() AND table_name = 'credentials'

2025/07/22 19:08:00 [32m/opt/ahop/internal/database/migrate.go:14
[0m[33m[1.090ms] [34;1m[rows:-][0m SELECT * FROM "credentials" LIMIT 5

2025/07/22 19:08:00 [32m/opt/ahop/internal/database/migrate.go:14
[0m[33m[5.331ms] [34;1m[rows:-][0m SELECT constraint_name FROM information_schema.table_constraints tc JOIN information_schema.constraint_column_usage AS ccu USING (constraint_schema, constraint_catalog, table_name, constraint_name) JOIN information_schema.columns AS c ON c.table_schema = tc.constraint_schema AND tc.table_name = c.table_name AND ccu.column_name = c.column_name WHERE constraint_type IN ('PRIMARY KEY', 'UNIQUE') AND c.table_catalog = 'auto_healing_platform' AND c.table_schema = CURRENT_SCHEMA() AND c.table_name = 'credentials' AND constraint_type = 'UNIQUE'

2025/07/22 19:08:00 [32m/opt/ahop/internal/database/migrate.go:14
[0m[33m[5.285ms] [34;1m[rows:-][0m SELECT c.column_name, constraint_name, constraint_type FROM information_schema.table_constraints tc JOIN information_schema.constraint_column_usage AS ccu USING (constraint_schema, constraint_catalog, table_name, constraint_name) JOIN information_schema.columns AS c ON c.table_schema = tc.constraint_schema AND tc.table_name = c.table_name AND ccu.column_name = c.column_name WHERE constraint_type IN ('PRIMARY KEY', 'UNIQUE') AND c.table_catalog = 'auto_healing_platform' AND c.table_schema = CURRENT_SCHEMA() AND c.table_name = 'credentials'

2025/07/22 19:08:00 [32m/opt/ahop/internal/database/migrate.go:14
[0m[33m[0.404ms] [34;1m[rows:-][0m SELECT a.attname as column_name, format_type(a.atttypid, a.atttypmod) AS data_type
		FROM pg_attribute a JOIN pg_class b ON a.attrelid = b.oid AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA())
		WHERE a.attnum > 0 -- hide internal columns
		AND NOT a.attisdropped -- hide deleted columns
		AND b.relname = 'credentials'

2025/07/22 19:08:00 [32m/opt/ahop/internal/database/migrate.go:14
[0m[33m[0.669ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'credentials' AND column_name = 'id') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'credentials' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2025/07/22 19:08:00 [32m/opt/ahop/internal/database/migrate.go:14
[0m[33m[0.585ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'credentials' AND column_name = 'created_at') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'credentials' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2025/07/22 19:08:00 [32m/opt/ahop/internal/database/migrate.go:14
[0m[33m[0.526ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'credentials' AND column_name = 'updated_at') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'credentials' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2025/07/22 19:08:00 [32m/opt/ahop/internal/database/migrate.go:14
[0m[33m[0.528ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'credentials' AND column_name = 'tenant_id') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'credentials' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2025/07/22 19:08:00 [32m/opt/ahop/internal/database/migrate.go:14
[0m[33m[0.521ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'credentials' AND column_name = 'name') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'credentials' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2025/07/22 19:08:00 [32m/opt/ahop/internal/database/migrate.go:14
[0m[33m[0.504ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'credentials' AND column_name = 'type') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'credentials' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2025/07/22 19:08:00 [32m/opt/ahop/internal/database/migrate.go:14
[0m[33m[0.510ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'credentials' AND column_name = 'description') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'credentials' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2025/07/22 19:08:00 [32m/opt/ahop/internal/database/migrate.go:14
[0m[33m[0.498ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'credentials' AND column_name = 'username') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'credentials' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2025/07/22 19:08:00 [32m/opt/ahop/internal/database/migrate.go:14
[0m[33m[0.510ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'credentials' AND column_name = 'password') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'credentials' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2025/07/22 19:08:00 [32m/opt/ahop/internal/database/migrate.go:14
[0m[33m[0.522ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'credentials' AND column_name = 'private_key') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'credentials' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2025/07/22 19:08:00 [32m/opt/ahop/internal/database/migrate.go:14
[0m[33m[0.647ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'credentials' AND column_name = 'public_key') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'credentials' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2025/07/22 19:08:00 [32m/opt/ahop/internal/database/migrate.go:14
[0m[33m[0.672ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'credentials' AND column_name = 'api_key') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'credentials' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2025/07/22 19:08:00 [32m/opt/ahop/internal/database/migrate.go:14
[0m[33m[0.617ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'credentials' AND column_name = 'token') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'credentials' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2025/07/22 19:08:00 [32m/opt/ahop/internal/database/migrate.go:14
[0m[33m[0.621ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'credentials' AND column_name = 'certificate') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'credentials' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2025/07/22 19:08:00 [32m/opt/ahop/internal/database/migrate.go:14
[0m[33m[0.512ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'credentials' AND column_name = 'passphrase') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'credentials' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2025/07/22 19:08:00 [32m/opt/ahop/internal/database/migrate.go:14
[0m[33m[0.520ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'credentials' AND column_name = 'allowed_hosts') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'credentials' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2025/07/22 19:08:00 [32m/opt/ahop/internal/database/migrate.go:14
[0m[33m[0.502ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'credentials' AND column_name = 'allowed_ips') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'credentials' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2025/07/22 19:08:00 [32m/opt/ahop/internal/database/migrate.go:14
[0m[33m[0.476ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'credentials' AND column_name = 'denied_hosts') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'credentials' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2025/07/22 19:08:00 [32m/opt/ahop/internal/database/migrate.go:14
[0m[33m[0.472ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'credentials' AND column_name = 'denied_ips') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'credentials' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2025/07/22 19:08:00 [32m/opt/ahop/internal/database/migrate.go:14
[0m[33m[0.481ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'credentials' AND column_name = 'expires_at') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'credentials' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2025/07/22 19:08:00 [32m/opt/ahop/internal/database/migrate.go:14
[0m[33m[0.476ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'credentials' AND column_name = 'max_usage_count') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'credentials' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2025/07/22 19:08:00 [32m/opt/ahop/internal/database/migrate.go:14
[0m[33m[0.530ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'credentials' AND column_name = 'usage_count') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'credentials' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2025/07/22 19:08:00 [32m/opt/ahop/internal/database/migrate.go:14
[0m[33m[0.496ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'credentials' AND column_name = 'last_used_at') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'credentials' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2025/07/22 19:08:00 [32m/opt/ahop/internal/database/migrate.go:14
[0m[33m[0.515ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'credentials' AND column_name = 'last_used_by') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'credentials' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2025/07/22 19:08:00 [32m/opt/ahop/internal/database/migrate.go:14
[0m[33m[0.481ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'credentials' AND column_name = 'last_used_for') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'credentials' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2025/07/22 19:08:00 [32m/opt/ahop/internal/database/migrate.go:14
[0m[33m[0.505ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'credentials' AND column_name = 'is_active') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'credentials' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2025/07/22 19:08:00 [32m/opt/ahop/internal/database/migrate.go:14
[0m[33m[0.494ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'credentials' AND column_name = 'created_by') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'credentials' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2025/07/22 19:08:00 [32m/opt/ahop/internal/database/migrate.go:14
[0m[33m[0.500ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'credentials' AND column_name = 'updated_by') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'credentials' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2025/07/22 19:08:00 [32m/opt/ahop/internal/database/migrate.go:14
[0m[33m[1.645ms] [34;1m[rows:1][0m SELECT count(*) FROM INFORMATION_SCHEMA.table_constraints WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'credentials' AND constraint_name = 'fk_credentials_tenant'

2025/07/22 19:08:00 [32m/opt/ahop/internal/database/migrate.go:14
[0m[33m[0.374ms] [34;1m[rows:1][0m SELECT count(*) FROM pg_indexes WHERE tablename = 'credentials' AND indexname = 'idx_tenant_type' AND schemaname = CURRENT_SCHEMA()

2025/07/22 19:08:00 [32m/opt/ahop/internal/database/migrate.go:14
[0m[33m[0.653ms] [34;1m[rows:1][0m SELECT count(*) FROM information_schema.tables WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'tags' AND table_type = 'BASE TABLE'

2025/07/22 19:08:00 [32m/opt/ahop/internal/database/migrate.go:14
[0m[33m[0.292ms] [34;1m[rows:1][0m SELECT CURRENT_DATABASE()

2025/07/22 19:08:00 [32m/opt/ahop/internal/database/migrate.go:14
[0m[33m[1.890ms] [34;1m[rows:-][0m SELECT c.column_name, c.is_nullable = 'YES', c.udt_name, c.character_maximum_length, c.numeric_precision, c.numeric_precision_radix, c.numeric_scale, c.datetime_precision, 8 * typlen, c.column_default, pd.description, c.identity_increment FROM information_schema.columns AS c JOIN pg_type AS pgt ON c.udt_name = pgt.typname LEFT JOIN pg_catalog.pg_description as pd ON pd.objsubid = c.ordinal_position AND pd.objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = c.table_name AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = c.table_schema)) where table_catalog = 'auto_healing_platform' AND table_schema = CURRENT_SCHEMA() AND table_name = 'tags'

2025/07/22 19:08:00 [32m/opt/ahop/internal/database/migrate.go:14
[0m[33m[0.765ms] [34;1m[rows:-][0m SELECT * FROM "tags" LIMIT 5

2025/07/22 19:08:00 [32m/opt/ahop/internal/database/migrate.go:14
[0m[33m[3.131ms] [34;1m[rows:-][0m SELECT constraint_name FROM information_schema.table_constraints tc JOIN information_schema.constraint_column_usage AS ccu USING (constraint_schema, constraint_catalog, table_name, constraint_name) JOIN information_schema.columns AS c ON c.table_schema = tc.constraint_schema AND tc.table_name = c.table_name AND ccu.column_name = c.column_name WHERE constraint_type IN ('PRIMARY KEY', 'UNIQUE') AND c.table_catalog = 'auto_healing_platform' AND c.table_schema = CURRENT_SCHEMA() AND c.table_name = 'tags' AND constraint_type = 'UNIQUE'

2025/07/22 19:08:00 [32m/opt/ahop/internal/database/migrate.go:14
[0m[33m[2.985ms] [34;1m[rows:-][0m SELECT c.column_name, constraint_name, constraint_type FROM information_schema.table_constraints tc JOIN information_schema.constraint_column_usage AS ccu USING (constraint_schema, constraint_catalog, table_name, constraint_name) JOIN information_schema.columns AS c ON c.table_schema = tc.constraint_schema AND tc.table_name = c.table_name AND ccu.column_name = c.column_name WHERE constraint_type IN ('PRIMARY KEY', 'UNIQUE') AND c.table_catalog = 'auto_healing_platform' AND c.table_schema = CURRENT_SCHEMA() AND c.table_name = 'tags'

2025/07/22 19:08:00 [32m/opt/ahop/internal/database/migrate.go:14
[0m[33m[0.473ms] [34;1m[rows:-][0m SELECT a.attname as column_name, format_type(a.atttypid, a.atttypmod) AS data_type
		FROM pg_attribute a JOIN pg_class b ON a.attrelid = b.oid AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA())
		WHERE a.attnum > 0 -- hide internal columns
		AND NOT a.attisdropped -- hide deleted columns
		AND b.relname = 'tags'

2025/07/22 19:08:00 [32m/opt/ahop/internal/database/migrate.go:14
[0m[33m[0.598ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'tags' AND column_name = 'id') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'tags' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2025/07/22 19:08:00 [32m/opt/ahop/internal/database/migrate.go:14
[0m[33m[0.504ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'tags' AND column_name = 'created_at') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'tags' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2025/07/22 19:08:00 [32m/opt/ahop/internal/database/migrate.go:14
[0m[33m[0.485ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'tags' AND column_name = 'updated_at') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'tags' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2025/07/22 19:08:00 [32m/opt/ahop/internal/database/migrate.go:14
[0m[33m[0.490ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'tags' AND column_name = 'tenant_id') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'tags' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2025/07/22 19:08:00 [32m/opt/ahop/internal/database/migrate.go:14
[0m[33m[0.476ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'tags' AND column_name = 'key') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'tags' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2025/07/22 19:08:00 [32m/opt/ahop/internal/database/migrate.go:14
[0m[33m[0.491ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'tags' AND column_name = 'value') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'tags' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2025/07/22 19:08:00 [32m/opt/ahop/internal/database/migrate.go:14
[0m[33m[0.463ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'tags' AND column_name = 'color') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'tags' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2025/07/22 19:08:00 [32m/opt/ahop/internal/database/migrate.go:14
[0m[33m[1.636ms] [34;1m[rows:1][0m SELECT count(*) FROM INFORMATION_SCHEMA.table_constraints WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'tags' AND constraint_name = 'fk_tags_tenant'

2025/07/22 19:08:00 [32m/opt/ahop/internal/database/migrate.go:14
[0m[33m[0.442ms] [34;1m[rows:1][0m SELECT count(*) FROM pg_indexes WHERE tablename = 'tags' AND indexname = 'idx_tags_tenant_id' AND schemaname = CURRENT_SCHEMA()

2025/07/22 19:08:00 [32m/opt/ahop/internal/database/migrate.go:14
[0m[33m[0.362ms] [34;1m[rows:1][0m SELECT count(*) FROM pg_indexes WHERE tablename = 'tags' AND indexname = 'idx_tenant_key_value' AND schemaname = CURRENT_SCHEMA()

2025/07/22 19:08:00 [32m/opt/ahop/internal/database/migrate.go:14
[0m[33m[0.377ms] [34;1m[rows:1][0m SELECT count(*) FROM pg_indexes WHERE tablename = 'tags' AND indexname = 'idx_tags_key' AND schemaname = CURRENT_SCHEMA()

2025/07/22 19:08:00 [32m/opt/ahop/internal/database/migrate.go:14
[0m[33m[0.358ms] [34;1m[rows:1][0m SELECT count(*) FROM pg_indexes WHERE tablename = 'tags' AND indexname = 'idx_tags_value' AND schemaname = CURRENT_SCHEMA()

2025/07/22 19:08:00 [32m/opt/ahop/internal/database/migrate.go:14
[0m[33m[0.362ms] [34;1m[rows:1][0m SELECT count(*) FROM information_schema.tables WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'credential_tags' AND table_type = 'BASE TABLE'

2025/07/22 19:08:00 [32m/opt/ahop/internal/database/migrate.go:14
[0m[33m[0.294ms] [34;1m[rows:1][0m SELECT CURRENT_DATABASE()

2025/07/22 19:08:00 [32m/opt/ahop/internal/database/migrate.go:14
[0m[33m[1.446ms] [34;1m[rows:-][0m SELECT c.column_name, c.is_nullable = 'YES', c.udt_name, c.character_maximum_length, c.numeric_precision, c.numeric_precision_radix, c.numeric_scale, c.datetime_precision, 8 * typlen, c.column_default, pd.description, c.identity_increment FROM information_schema.columns AS c JOIN pg_type AS pgt ON c.udt_name = pgt.typname LEFT JOIN pg_catalog.pg_description as pd ON pd.objsubid = c.ordinal_position AND pd.objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = c.table_name AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = c.table_schema)) where table_catalog = 'auto_healing_platform' AND table_schema = CURRENT_SCHEMA() AND table_name = 'credential_tags'

2025/07/22 19:08:00 [32m/opt/ahop/internal/database/migrate.go:14
[0m[33m[0.814ms] [34;1m[rows:-][0m SELECT * FROM "credential_tags" LIMIT 5

2025/07/22 19:08:00 [32m/opt/ahop/internal/database/migrate.go:14
[0m[33m[1.135ms] [34;1m[rows:-][0m SELECT constraint_name FROM information_schema.table_constraints tc JOIN information_schema.constraint_column_usage AS ccu USING (constraint_schema, constraint_catalog, table_name, constraint_name) JOIN information_schema.columns AS c ON c.table_schema = tc.constraint_schema AND tc.table_name = c.table_name AND ccu.column_name = c.column_name WHERE constraint_type IN ('PRIMARY KEY', 'UNIQUE') AND c.table_catalog = 'auto_healing_platform' AND c.table_schema = CURRENT_SCHEMA() AND c.table_name = 'credential_tags' AND constraint_type = 'UNIQUE'

2025/07/22 19:08:00 [32m/opt/ahop/internal/database/migrate.go:14
[0m[33m[1.161ms] [34;1m[rows:-][0m SELECT c.column_name, constraint_name, constraint_type FROM information_schema.table_constraints tc JOIN information_schema.constraint_column_usage AS ccu USING (constraint_schema, constraint_catalog, table_name, constraint_name) JOIN information_schema.columns AS c ON c.table_schema = tc.constraint_schema AND tc.table_name = c.table_name AND ccu.column_name = c.column_name WHERE constraint_type IN ('PRIMARY KEY', 'UNIQUE') AND c.table_catalog = 'auto_healing_platform' AND c.table_schema = CURRENT_SCHEMA() AND c.table_name = 'credential_tags'

2025/07/22 19:08:00 [32m/opt/ahop/internal/database/migrate.go:14
[0m[33m[0.681ms] [34;1m[rows:-][0m SELECT a.attname as column_name, format_type(a.atttypid, a.atttypmod) AS data_type
		FROM pg_attribute a JOIN pg_class b ON a.attrelid = b.oid AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA())
		WHERE a.attnum > 0 -- hide internal columns
		AND NOT a.attisdropped -- hide deleted columns
		AND b.relname = 'credential_tags'

2025/07/22 19:08:00 [32m/opt/ahop/internal/database/migrate.go:14
[0m[33m[1.181ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'credential_tags' AND column_name = 'tag_id') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'credential_tags' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2025/07/22 19:08:00 [32m/opt/ahop/internal/database/migrate.go:14
[0m[33m[1.100ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'credential_tags' AND column_name = 'credential_id') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'credential_tags' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2025/07/22 19:08:00 [32m/opt/ahop/internal/database/migrate.go:14
[0m[33m[3.306ms] [34;1m[rows:1][0m SELECT count(*) FROM INFORMATION_SCHEMA.table_constraints WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'credential_tags' AND constraint_name = 'fk_credential_tags_tag'

2025/07/22 19:08:00 [32m/opt/ahop/internal/database/migrate.go:14
[0m[33m[2.084ms] [34;1m[rows:1][0m SELECT count(*) FROM INFORMATION_SCHEMA.table_constraints WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'credential_tags' AND constraint_name = 'fk_credential_tags_credential'

2025/07/22 19:08:00 [32m/opt/ahop/internal/database/migrate.go:14
[0m[33m[0.818ms] [34;1m[rows:1][0m SELECT count(*) FROM information_schema.tables WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'credential_usage_logs' AND table_type = 'BASE TABLE'

2025/07/22 19:08:00 [32m/opt/ahop/internal/database/migrate.go:14
[0m[33m[0.610ms] [34;1m[rows:1][0m SELECT CURRENT_DATABASE()

2025/07/22 19:08:00 [32m/opt/ahop/internal/database/migrate.go:14
[0m[33m[2.604ms] [34;1m[rows:-][0m SELECT c.column_name, c.is_nullable = 'YES', c.udt_name, c.character_maximum_length, c.numeric_precision, c.numeric_precision_radix, c.numeric_scale, c.datetime_precision, 8 * typlen, c.column_default, pd.description, c.identity_increment FROM information_schema.columns AS c JOIN pg_type AS pgt ON c.udt_name = pgt.typname LEFT JOIN pg_catalog.pg_description as pd ON pd.objsubid = c.ordinal_position AND pd.objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = c.table_name AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = c.table_schema)) where table_catalog = 'auto_healing_platform' AND table_schema = CURRENT_SCHEMA() AND table_name = 'credential_usage_logs'

2025/07/22 19:08:00 [32m/opt/ahop/internal/database/migrate.go:14
[0m[33m[1.059ms] [34;1m[rows:-][0m SELECT * FROM "credential_usage_logs" LIMIT 5

2025/07/22 19:08:00 [32m/opt/ahop/internal/database/migrate.go:14
[0m[33m[1.940ms] [34;1m[rows:-][0m SELECT constraint_name FROM information_schema.table_constraints tc JOIN information_schema.constraint_column_usage AS ccu USING (constraint_schema, constraint_catalog, table_name, constraint_name) JOIN information_schema.columns AS c ON c.table_schema = tc.constraint_schema AND tc.table_name = c.table_name AND ccu.column_name = c.column_name WHERE constraint_type IN ('PRIMARY KEY', 'UNIQUE') AND c.table_catalog = 'auto_healing_platform' AND c.table_schema = CURRENT_SCHEMA() AND c.table_name = 'credential_usage_logs' AND constraint_type = 'UNIQUE'

2025/07/22 19:08:00 [32m/opt/ahop/internal/database/migrate.go:14
[0m[33m[1.896ms] [34;1m[rows:-][0m SELECT c.column_name, constraint_name, constraint_type FROM information_schema.table_constraints tc JOIN information_schema.constraint_column_usage AS ccu USING (constraint_schema, constraint_catalog, table_name, constraint_name) JOIN information_schema.columns AS c ON c.table_schema = tc.constraint_schema AND tc.table_name = c.table_name AND ccu.column_name = c.column_name WHERE constraint_type IN ('PRIMARY KEY', 'UNIQUE') AND c.table_catalog = 'auto_healing_platform' AND c.table_schema = CURRENT_SCHEMA() AND c.table_name = 'credential_usage_logs'

2025/07/22 19:08:00 [32m/opt/ahop/internal/database/migrate.go:14
[0m[33m[0.855ms] [34;1m[rows:-][0m SELECT a.attname as column_name, format_type(a.atttypid, a.atttypmod) AS data_type
		FROM pg_attribute a JOIN pg_class b ON a.attrelid = b.oid AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA())
		WHERE a.attnum > 0 -- hide internal columns
		AND NOT a.attisdropped -- hide deleted columns
		AND b.relname = 'credential_usage_logs'

2025/07/22 19:08:00 [32m/opt/ahop/internal/database/migrate.go:14
[0m[33m[0.687ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'credential_usage_logs' AND column_name = 'id') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'credential_usage_logs' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2025/07/22 19:08:00 [32m/opt/ahop/internal/database/migrate.go:14
[0m[33m[0.597ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'credential_usage_logs' AND column_name = 'created_at') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'credential_usage_logs' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2025/07/22 19:08:00 [32m/opt/ahop/internal/database/migrate.go:14
[0m[33m[0.622ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'credential_usage_logs' AND column_name = 'updated_at') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'credential_usage_logs' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2025/07/22 19:08:00 [32m/opt/ahop/internal/database/migrate.go:14
[0m[33m[0.618ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'credential_usage_logs' AND column_name = 'tenant_id') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'credential_usage_logs' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2025/07/22 19:08:00 [32m/opt/ahop/internal/database/migrate.go:14
[0m[33m[0.610ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'credential_usage_logs' AND column_name = 'credential_id') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'credential_usage_logs' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2025/07/22 19:08:00 [32m/opt/ahop/internal/database/migrate.go:14
[0m[33m[0.603ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'credential_usage_logs' AND column_name = 'user_id') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'credential_usage_logs' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2025/07/22 19:08:00 [32m/opt/ahop/internal/database/migrate.go:14
[0m[33m[0.644ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'credential_usage_logs' AND column_name = 'host_id') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'credential_usage_logs' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2025/07/22 19:08:00 [32m/opt/ahop/internal/database/migrate.go:14
[0m[33m[0.608ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'credential_usage_logs' AND column_name = 'host_name') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'credential_usage_logs' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2025/07/22 19:08:00 [32m/opt/ahop/internal/database/migrate.go:14
[0m[33m[0.628ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'credential_usage_logs' AND column_name = 'host_ip') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'credential_usage_logs' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2025/07/22 19:08:00 [32m/opt/ahop/internal/database/migrate.go:14
[0m[33m[0.561ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'credential_usage_logs' AND column_name = 'purpose') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'credential_usage_logs' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2025/07/22 19:08:00 [32m/opt/ahop/internal/database/migrate.go:14
[0m[33m[0.560ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'credential_usage_logs' AND column_name = 'success') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'credential_usage_logs' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2025/07/22 19:08:00 [32m/opt/ahop/internal/database/migrate.go:14
[0m[33m[0.570ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'credential_usage_logs' AND column_name = 'error_message') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'credential_usage_logs' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2025/07/22 19:08:00 [32m/opt/ahop/internal/database/migrate.go:14
[0m[33m[0.559ms] [34;1m[rows:1][0m SELECT count(*) FROM INFORMATION_SCHEMA.table_constraints WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'credential_usage_logs' AND constraint_name = 'fk_credential_usage_logs_credential'

2025/07/22 19:08:00 [32m/opt/ahop/internal/database/migrate.go:14
[0m[33m[0.544ms] [34;1m[rows:1][0m SELECT count(*) FROM INFORMATION_SCHEMA.table_constraints WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'credential_usage_logs' AND constraint_name = 'fk_credential_usage_logs_user'

2025/07/22 19:08:00 [32m/opt/ahop/internal/database/migrate.go:14
[0m[33m[0.489ms] [34;1m[rows:1][0m SELECT count(*) FROM pg_indexes WHERE tablename = 'credential_usage_logs' AND indexname = 'idx_credential_usage_logs_tenant_id' AND schemaname = CURRENT_SCHEMA()

2025/07/22 19:08:00 [32m/opt/ahop/internal/database/migrate.go:14
[0m[33m[0.468ms] [34;1m[rows:1][0m SELECT count(*) FROM pg_indexes WHERE tablename = 'credential_usage_logs' AND indexname = 'idx_credential_usage_logs_credential_id' AND schemaname = CURRENT_SCHEMA()

2025/07/22 19:08:00 [32m/opt/ahop/internal/database/migrate.go:14
[0m[33m[0.477ms] [34;1m[rows:1][0m SELECT count(*) FROM information_schema.tables WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'hosts' AND table_type = 'BASE TABLE'

2025/07/22 19:08:00 [32m/opt/ahop/internal/database/migrate.go:14
[0m[33m[0.372ms] [34;1m[rows:1][0m SELECT CURRENT_DATABASE()

2025/07/22 19:08:00 [32m/opt/ahop/internal/database/migrate.go:14
[0m[33m[3.375ms] [34;1m[rows:-][0m SELECT c.column_name, c.is_nullable = 'YES', c.udt_name, c.character_maximum_length, c.numeric_precision, c.numeric_precision_radix, c.numeric_scale, c.datetime_precision, 8 * typlen, c.column_default, pd.description, c.identity_increment FROM information_schema.columns AS c JOIN pg_type AS pgt ON c.udt_name = pgt.typname LEFT JOIN pg_catalog.pg_description as pd ON pd.objsubid = c.ordinal_position AND pd.objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = c.table_name AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = c.table_schema)) where table_catalog = 'auto_healing_platform' AND table_schema = CURRENT_SCHEMA() AND table_name = 'hosts'

2025/07/22 19:08:00 [32m/opt/ahop/internal/database/migrate.go:14
[0m[33m[1.056ms] [34;1m[rows:-][0m SELECT * FROM "hosts" LIMIT 5

2025/07/22 19:08:00 [32m/opt/ahop/internal/database/migrate.go:14
[0m[33m[5.215ms] [34;1m[rows:-][0m SELECT constraint_name FROM information_schema.table_constraints tc JOIN information_schema.constraint_column_usage AS ccu USING (constraint_schema, constraint_catalog, table_name, constraint_name) JOIN information_schema.columns AS c ON c.table_schema = tc.constraint_schema AND tc.table_name = c.table_name AND ccu.column_name = c.column_name WHERE constraint_type IN ('PRIMARY KEY', 'UNIQUE') AND c.table_catalog = 'auto_healing_platform' AND c.table_schema = CURRENT_SCHEMA() AND c.table_name = 'hosts' AND constraint_type = 'UNIQUE'

2025/07/22 19:08:00 [32m/opt/ahop/internal/database/migrate.go:14
[0m[33m[5.183ms] [34;1m[rows:-][0m SELECT c.column_name, constraint_name, constraint_type FROM information_schema.table_constraints tc JOIN information_schema.constraint_column_usage AS ccu USING (constraint_schema, constraint_catalog, table_name, constraint_name) JOIN information_schema.columns AS c ON c.table_schema = tc.constraint_schema AND tc.table_name = c.table_name AND ccu.column_name = c.column_name WHERE constraint_type IN ('PRIMARY KEY', 'UNIQUE') AND c.table_catalog = 'auto_healing_platform' AND c.table_schema = CURRENT_SCHEMA() AND c.table_name = 'hosts'

2025/07/22 19:08:00 [32m/opt/ahop/internal/database/migrate.go:14
[0m[33m[0.496ms] [34;1m[rows:-][0m SELECT a.attname as column_name, format_type(a.atttypid, a.atttypmod) AS data_type
		FROM pg_attribute a JOIN pg_class b ON a.attrelid = b.oid AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA())
		WHERE a.attnum > 0 -- hide internal columns
		AND NOT a.attisdropped -- hide deleted columns
		AND b.relname = 'hosts'

2025/07/22 19:08:00 [32m/opt/ahop/internal/database/migrate.go:14
[0m[33m[0.761ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'hosts' AND column_name = 'id') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'hosts' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2025/07/22 19:08:00 [32m/opt/ahop/internal/database/migrate.go:14
[0m[33m[0.519ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'hosts' AND column_name = 'created_at') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'hosts' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2025/07/22 19:08:00 [32m/opt/ahop/internal/database/migrate.go:14
[0m[33m[0.441ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'hosts' AND column_name = 'updated_at') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'hosts' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2025/07/22 19:08:00 [32m/opt/ahop/internal/database/migrate.go:14
[0m[33m[0.541ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'hosts' AND column_name = 'tenant_id') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'hosts' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2025/07/22 19:08:00 [32m/opt/ahop/internal/database/migrate.go:14
[0m[33m[0.535ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'hosts' AND column_name = 'name') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'hosts' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2025/07/22 19:08:00 [32m/opt/ahop/internal/database/migrate.go:14
[0m[33m[0.502ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'hosts' AND column_name = 'ip_address') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'hosts' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2025/07/22 19:08:00 [32m/opt/ahop/internal/database/migrate.go:14
[0m[33m[0.500ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'hosts' AND column_name = 'port') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'hosts' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2025/07/22 19:08:00 [32m/opt/ahop/internal/database/migrate.go:14
[0m[33m[0.420ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'hosts' AND column_name = 'credential_id') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'hosts' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2025/07/22 19:08:00 [32m/opt/ahop/internal/database/migrate.go:14
[0m[33m[0.465ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'hosts' AND column_name = 'hostname') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'hosts' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2025/07/22 19:08:00 [32m/opt/ahop/internal/database/migrate.go:14
[0m[33m[0.440ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'hosts' AND column_name = 'os_type') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'hosts' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2025/07/22 19:08:00 [32m/opt/ahop/internal/database/migrate.go:14
[0m[33m[0.446ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'hosts' AND column_name = 'os_version') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'hosts' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2025/07/22 19:08:00 [32m/opt/ahop/internal/database/migrate.go:14
[0m[33m[0.429ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'hosts' AND column_name = 'kernel') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'hosts' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2025/07/22 19:08:00 [32m/opt/ahop/internal/database/migrate.go:14
[0m[33m[0.457ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'hosts' AND column_name = 'architecture') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'hosts' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2025/07/22 19:08:00 [32m/opt/ahop/internal/database/migrate.go:14
[0m[33m[0.430ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'hosts' AND column_name = 'cpu_model') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'hosts' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2025/07/22 19:08:00 [32m/opt/ahop/internal/database/migrate.go:14
[0m[33m[0.438ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'hosts' AND column_name = 'cpu_cores') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'hosts' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2025/07/22 19:08:00 [32m/opt/ahop/internal/database/migrate.go:14
[0m[33m[0.422ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'hosts' AND column_name = 'memory_total_mb') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'hosts' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2025/07/22 19:08:00 [32m/opt/ahop/internal/database/migrate.go:14
[0m[33m[0.437ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'hosts' AND column_name = 'status') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'hosts' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2025/07/22 19:08:00 [32m/opt/ahop/internal/database/migrate.go:14
[0m[33m[0.421ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'hosts' AND column_name = 'last_check_at') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'hosts' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2025/07/22 19:08:00 [32m/opt/ahop/internal/database/migrate.go:14
[0m[33m[0.452ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'hosts' AND column_name = 'description') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'hosts' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2025/07/22 19:08:00 [32m/opt/ahop/internal/database/migrate.go:14
[0m[33m[0.526ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'hosts' AND column_name = 'is_active') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'hosts' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2025/07/22 19:08:00 [32m/opt/ahop/internal/database/migrate.go:14
[0m[33m[0.596ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'hosts' AND column_name = 'created_by') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'hosts' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2025/07/22 19:08:00 [32m/opt/ahop/internal/database/migrate.go:14
[0m[33m[0.590ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'hosts' AND column_name = 'updated_by') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'hosts' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2025/07/22 19:08:00 [32m/opt/ahop/internal/database/migrate.go:14
[0m[33m[0.573ms] [34;1m[rows:1][0m SELECT count(*) FROM INFORMATION_SCHEMA.table_constraints WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'hosts' AND constraint_name = 'fk_hosts_credential'

2025/07/22 19:08:00 [32m/opt/ahop/internal/database/migrate.go:14
[0m[33m[0.375ms] [34;1m[rows:1][0m SELECT count(*) FROM pg_indexes WHERE tablename = 'hosts' AND indexname = 'idx_hosts_tenant_id' AND schemaname = CURRENT_SCHEMA()

2025/07/22 19:08:00 [32m/opt/ahop/internal/database/migrate.go:14
[0m[33m[0.341ms] [34;1m[rows:1][0m SELECT count(*) FROM pg_indexes WHERE tablename = 'hosts' AND indexname = 'idx_tenant_host' AND schemaname = CURRENT_SCHEMA()

2025/07/22 19:08:00 [32m/opt/ahop/internal/database/migrate.go:14
[0m[33m[0.333ms] [34;1m[rows:1][0m SELECT count(*) FROM information_schema.tables WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'host_groups' AND table_type = 'BASE TABLE'

2025/07/22 19:08:00 [32m/opt/ahop/internal/database/migrate.go:14
[0m[33m[0.258ms] [34;1m[rows:1][0m SELECT CURRENT_DATABASE()

2025/07/22 19:08:00 [32m/opt/ahop/internal/database/migrate.go:14
[0m[33m[1.973ms] [34;1m[rows:-][0m SELECT c.column_name, c.is_nullable = 'YES', c.udt_name, c.character_maximum_length, c.numeric_precision, c.numeric_precision_radix, c.numeric_scale, c.datetime_precision, 8 * typlen, c.column_default, pd.description, c.identity_increment FROM information_schema.columns AS c JOIN pg_type AS pgt ON c.udt_name = pgt.typname LEFT JOIN pg_catalog.pg_description as pd ON pd.objsubid = c.ordinal_position AND pd.objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = c.table_name AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = c.table_schema)) where table_catalog = 'auto_healing_platform' AND table_schema = CURRENT_SCHEMA() AND table_name = 'host_groups'

2025/07/22 19:08:00 [32m/opt/ahop/internal/database/migrate.go:14
[0m[33m[0.679ms] [34;1m[rows:-][0m SELECT * FROM "host_groups" LIMIT 5

2025/07/22 19:08:00 [32m/opt/ahop/internal/database/migrate.go:14
[0m[33m[1.411ms] [34;1m[rows:-][0m SELECT constraint_name FROM information_schema.table_constraints tc JOIN information_schema.constraint_column_usage AS ccu USING (constraint_schema, constraint_catalog, table_name, constraint_name) JOIN information_schema.columns AS c ON c.table_schema = tc.constraint_schema AND tc.table_name = c.table_name AND ccu.column_name = c.column_name WHERE constraint_type IN ('PRIMARY KEY', 'UNIQUE') AND c.table_catalog = 'auto_healing_platform' AND c.table_schema = CURRENT_SCHEMA() AND c.table_name = 'host_groups' AND constraint_type = 'UNIQUE'

2025/07/22 19:08:00 [32m/opt/ahop/internal/database/migrate.go:14
[0m[33m[1.426ms] [34;1m[rows:-][0m SELECT c.column_name, constraint_name, constraint_type FROM information_schema.table_constraints tc JOIN information_schema.constraint_column_usage AS ccu USING (constraint_schema, constraint_catalog, table_name, constraint_name) JOIN information_schema.columns AS c ON c.table_schema = tc.constraint_schema AND tc.table_name = c.table_name AND ccu.column_name = c.column_name WHERE constraint_type IN ('PRIMARY KEY', 'UNIQUE') AND c.table_catalog = 'auto_healing_platform' AND c.table_schema = CURRENT_SCHEMA() AND c.table_name = 'host_groups'

2025/07/22 19:08:00 [32m/opt/ahop/internal/database/migrate.go:14
[0m[33m[0.366ms] [34;1m[rows:-][0m SELECT a.attname as column_name, format_type(a.atttypid, a.atttypmod) AS data_type
		FROM pg_attribute a JOIN pg_class b ON a.attrelid = b.oid AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA())
		WHERE a.attnum > 0 -- hide internal columns
		AND NOT a.attisdropped -- hide deleted columns
		AND b.relname = 'host_groups'

2025/07/22 19:08:00 [32m/opt/ahop/internal/database/migrate.go:14
[0m[33m[0.565ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'host_groups' AND column_name = 'id') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'host_groups' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2025/07/22 19:08:00 [32m/opt/ahop/internal/database/migrate.go:14
[0m[33m[0.526ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'host_groups' AND column_name = 'created_at') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'host_groups' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2025/07/22 19:08:00 [32m/opt/ahop/internal/database/migrate.go:14
[0m[33m[0.522ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'host_groups' AND column_name = 'updated_at') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'host_groups' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2025/07/22 19:08:00 [32m/opt/ahop/internal/database/migrate.go:14
[0m[33m[0.541ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'host_groups' AND column_name = 'tenant_id') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'host_groups' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2025/07/22 19:08:00 [32m/opt/ahop/internal/database/migrate.go:14
[0m[33m[0.522ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'host_groups' AND column_name = 'name') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'host_groups' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2025/07/22 19:08:00 [32m/opt/ahop/internal/database/migrate.go:14
[0m[33m[0.636ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'host_groups' AND column_name = 'description') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'host_groups' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2025/07/22 19:08:00 [32m/opt/ahop/internal/database/migrate.go:14
[0m[33m[0.759ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'host_groups' AND column_name = 'is_active') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'host_groups' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2025/07/22 19:08:00 [32m/opt/ahop/internal/database/migrate.go:14
[0m[33m[0.618ms] [34;1m[rows:1][0m SELECT count(*) FROM pg_indexes WHERE tablename = 'host_groups' AND indexname = 'idx_host_groups_tenant_id' AND schemaname = CURRENT_SCHEMA()

2025/07/22 19:08:00 [32m/opt/ahop/internal/database/migrate.go:14
[0m[33m[0.573ms] [34;1m[rows:1][0m SELECT count(*) FROM pg_indexes WHERE tablename = 'host_groups' AND indexname = 'idx_tenant_group' AND schemaname = CURRENT_SCHEMA()

2025/07/22 19:08:00 [32m/opt/ahop/internal/database/migrate.go:14
[0m[33m[0.566ms] [34;1m[rows:1][0m SELECT count(*) FROM information_schema.tables WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'host_group_members' AND table_type = 'BASE TABLE'

2025/07/22 19:08:00 [32m/opt/ahop/internal/database/migrate.go:14
[0m[33m[0.441ms] [34;1m[rows:1][0m SELECT CURRENT_DATABASE()

2025/07/22 19:08:00 [32m/opt/ahop/internal/database/migrate.go:14
[0m[33m[1.462ms] [34;1m[rows:-][0m SELECT c.column_name, c.is_nullable = 'YES', c.udt_name, c.character_maximum_length, c.numeric_precision, c.numeric_precision_radix, c.numeric_scale, c.datetime_precision, 8 * typlen, c.column_default, pd.description, c.identity_increment FROM information_schema.columns AS c JOIN pg_type AS pgt ON c.udt_name = pgt.typname LEFT JOIN pg_catalog.pg_description as pd ON pd.objsubid = c.ordinal_position AND pd.objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = c.table_name AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = c.table_schema)) where table_catalog = 'auto_healing_platform' AND table_schema = CURRENT_SCHEMA() AND table_name = 'host_group_members'

2025/07/22 19:08:00 [32m/opt/ahop/internal/database/migrate.go:14
[0m[33m[0.712ms] [34;1m[rows:-][0m SELECT * FROM "host_group_members" LIMIT 5

2025/07/22 19:08:00 [32m/opt/ahop/internal/database/migrate.go:14
[0m[33m[1.105ms] [34;1m[rows:-][0m SELECT constraint_name FROM information_schema.table_constraints tc JOIN information_schema.constraint_column_usage AS ccu USING (constraint_schema, constraint_catalog, table_name, constraint_name) JOIN information_schema.columns AS c ON c.table_schema = tc.constraint_schema AND tc.table_name = c.table_name AND ccu.column_name = c.column_name WHERE constraint_type IN ('PRIMARY KEY', 'UNIQUE') AND c.table_catalog = 'auto_healing_platform' AND c.table_schema = CURRENT_SCHEMA() AND c.table_name = 'host_group_members' AND constraint_type = 'UNIQUE'

2025/07/22 19:08:00 [32m/opt/ahop/internal/database/migrate.go:14
[0m[33m[1.085ms] [34;1m[rows:-][0m SELECT c.column_name, constraint_name, constraint_type FROM information_schema.table_constraints tc JOIN information_schema.constraint_column_usage AS ccu USING (constraint_schema, constraint_catalog, table_name, constraint_name) JOIN information_schema.columns AS c ON c.table_schema = tc.constraint_schema AND tc.table_name = c.table_name AND ccu.column_name = c.column_name WHERE constraint_type IN ('PRIMARY KEY', 'UNIQUE') AND c.table_catalog = 'auto_healing_platform' AND c.table_schema = CURRENT_SCHEMA() AND c.table_name = 'host_group_members'

2025/07/22 19:08:00 [32m/opt/ahop/internal/database/migrate.go:14
[0m[33m[0.526ms] [34;1m[rows:-][0m SELECT a.attname as column_name, format_type(a.atttypid, a.atttypmod) AS data_type
		FROM pg_attribute a JOIN pg_class b ON a.attrelid = b.oid AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA())
		WHERE a.attnum > 0 -- hide internal columns
		AND NOT a.attisdropped -- hide deleted columns
		AND b.relname = 'host_group_members'

2025/07/22 19:08:00 [32m/opt/ahop/internal/database/migrate.go:14
[0m[33m[0.675ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'host_group_members' AND column_name = 'host_group_id') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'host_group_members' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2025/07/22 19:08:00 [32m/opt/ahop/internal/database/migrate.go:14
[0m[33m[0.690ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'host_group_members' AND column_name = 'host_id') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'host_group_members' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2025/07/22 19:08:00 [32m/opt/ahop/internal/database/migrate.go:14
[0m[33m[0.637ms] [34;1m[rows:1][0m SELECT count(*) FROM INFORMATION_SCHEMA.table_constraints WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'host_group_members' AND constraint_name = 'fk_host_group_members_host_group'

2025/07/22 19:08:00 [32m/opt/ahop/internal/database/migrate.go:14
[0m[33m[0.605ms] [34;1m[rows:1][0m SELECT count(*) FROM INFORMATION_SCHEMA.table_constraints WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'host_group_members' AND constraint_name = 'fk_host_group_members_host'

2025/07/22 19:08:00 [32m/opt/ahop/internal/database/migrate.go:14
[0m[33m[0.532ms] [34;1m[rows:1][0m SELECT count(*) FROM information_schema.tables WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'host_tags' AND table_type = 'BASE TABLE'

2025/07/22 19:08:00 [32m/opt/ahop/internal/database/migrate.go:14
[0m[33m[0.448ms] [34;1m[rows:1][0m SELECT CURRENT_DATABASE()

2025/07/22 19:08:00 [32m/opt/ahop/internal/database/migrate.go:14
[0m[33m[1.442ms] [34;1m[rows:-][0m SELECT c.column_name, c.is_nullable = 'YES', c.udt_name, c.character_maximum_length, c.numeric_precision, c.numeric_precision_radix, c.numeric_scale, c.datetime_precision, 8 * typlen, c.column_default, pd.description, c.identity_increment FROM information_schema.columns AS c JOIN pg_type AS pgt ON c.udt_name = pgt.typname LEFT JOIN pg_catalog.pg_description as pd ON pd.objsubid = c.ordinal_position AND pd.objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = c.table_name AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = c.table_schema)) where table_catalog = 'auto_healing_platform' AND table_schema = CURRENT_SCHEMA() AND table_name = 'host_tags'

2025/07/22 19:08:00 [32m/opt/ahop/internal/database/migrate.go:14
[0m[33m[0.701ms] [34;1m[rows:-][0m SELECT * FROM "host_tags" LIMIT 5

2025/07/22 19:08:00 [32m/opt/ahop/internal/database/migrate.go:14
[0m[33m[1.063ms] [34;1m[rows:-][0m SELECT constraint_name FROM information_schema.table_constraints tc JOIN information_schema.constraint_column_usage AS ccu USING (constraint_schema, constraint_catalog, table_name, constraint_name) JOIN information_schema.columns AS c ON c.table_schema = tc.constraint_schema AND tc.table_name = c.table_name AND ccu.column_name = c.column_name WHERE constraint_type IN ('PRIMARY KEY', 'UNIQUE') AND c.table_catalog = 'auto_healing_platform' AND c.table_schema = CURRENT_SCHEMA() AND c.table_name = 'host_tags' AND constraint_type = 'UNIQUE'

2025/07/22 19:08:00 [32m/opt/ahop/internal/database/migrate.go:14
[0m[33m[1.081ms] [34;1m[rows:-][0m SELECT c.column_name, constraint_name, constraint_type FROM information_schema.table_constraints tc JOIN information_schema.constraint_column_usage AS ccu USING (constraint_schema, constraint_catalog, table_name, constraint_name) JOIN information_schema.columns AS c ON c.table_schema = tc.constraint_schema AND tc.table_name = c.table_name AND ccu.column_name = c.column_name WHERE constraint_type IN ('PRIMARY KEY', 'UNIQUE') AND c.table_catalog = 'auto_healing_platform' AND c.table_schema = CURRENT_SCHEMA() AND c.table_name = 'host_tags'

2025/07/22 19:08:00 [32m/opt/ahop/internal/database/migrate.go:14
[0m[33m[0.513ms] [34;1m[rows:-][0m SELECT a.attname as column_name, format_type(a.atttypid, a.atttypmod) AS data_type
		FROM pg_attribute a JOIN pg_class b ON a.attrelid = b.oid AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA())
		WHERE a.attnum > 0 -- hide internal columns
		AND NOT a.attisdropped -- hide deleted columns
		AND b.relname = 'host_tags'

2025/07/22 19:08:00 [32m/opt/ahop/internal/database/migrate.go:14
[0m[33m[0.692ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'host_tags' AND column_name = 'host_id') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'host_tags' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2025/07/22 19:08:00 [32m/opt/ahop/internal/database/migrate.go:14
[0m[33m[0.664ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'host_tags' AND column_name = 'tag_id') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'host_tags' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2025/07/22 19:08:00 [32m/opt/ahop/internal/database/migrate.go:14
[0m[33m[0.633ms] [34;1m[rows:1][0m SELECT count(*) FROM INFORMATION_SCHEMA.table_constraints WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'host_tags' AND constraint_name = 'fk_host_tags_host'

2025/07/22 19:08:00 [32m/opt/ahop/internal/database/migrate.go:14
[0m[33m[0.630ms] [34;1m[rows:1][0m SELECT count(*) FROM INFORMATION_SCHEMA.table_constraints WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'host_tags' AND constraint_name = 'fk_host_tags_tag'

2025/07/22 19:08:00 [32m/opt/ahop/internal/database/migrate.go:14
[0m[33m[0.534ms] [34;1m[rows:1][0m SELECT count(*) FROM information_schema.tables WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'host_disks' AND table_type = 'BASE TABLE'

2025/07/22 19:08:00 [32m/opt/ahop/internal/database/migrate.go:14
[0m[33m[0.475ms] [34;1m[rows:1][0m SELECT CURRENT_DATABASE()

2025/07/22 19:08:00 [32m/opt/ahop/internal/database/migrate.go:14
[0m[33m[2.206ms] [34;1m[rows:-][0m SELECT c.column_name, c.is_nullable = 'YES', c.udt_name, c.character_maximum_length, c.numeric_precision, c.numeric_precision_radix, c.numeric_scale, c.datetime_precision, 8 * typlen, c.column_default, pd.description, c.identity_increment FROM information_schema.columns AS c JOIN pg_type AS pgt ON c.udt_name = pgt.typname LEFT JOIN pg_catalog.pg_description as pd ON pd.objsubid = c.ordinal_position AND pd.objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = c.table_name AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = c.table_schema)) where table_catalog = 'auto_healing_platform' AND table_schema = CURRENT_SCHEMA() AND table_name = 'host_disks'

2025/07/22 19:08:00 [32m/opt/ahop/internal/database/migrate.go:14
[0m[33m[0.712ms] [34;1m[rows:-][0m SELECT * FROM "host_disks" LIMIT 5

2025/07/22 19:08:00 [32m/opt/ahop/internal/database/migrate.go:14
[0m[33m[1.594ms] [34;1m[rows:-][0m SELECT constraint_name FROM information_schema.table_constraints tc JOIN information_schema.constraint_column_usage AS ccu USING (constraint_schema, constraint_catalog, table_name, constraint_name) JOIN information_schema.columns AS c ON c.table_schema = tc.constraint_schema AND tc.table_name = c.table_name AND ccu.column_name = c.column_name WHERE constraint_type IN ('PRIMARY KEY', 'UNIQUE') AND c.table_catalog = 'auto_healing_platform' AND c.table_schema = CURRENT_SCHEMA() AND c.table_name = 'host_disks' AND constraint_type = 'UNIQUE'

2025/07/22 19:08:00 [32m/opt/ahop/internal/database/migrate.go:14
[0m[33m[1.566ms] [34;1m[rows:-][0m SELECT c.column_name, constraint_name, constraint_type FROM information_schema.table_constraints tc JOIN information_schema.constraint_column_usage AS ccu USING (constraint_schema, constraint_catalog, table_name, constraint_name) JOIN information_schema.columns AS c ON c.table_schema = tc.constraint_schema AND tc.table_name = c.table_name AND ccu.column_name = c.column_name WHERE constraint_type IN ('PRIMARY KEY', 'UNIQUE') AND c.table_catalog = 'auto_healing_platform' AND c.table_schema = CURRENT_SCHEMA() AND c.table_name = 'host_disks'

2025/07/22 19:08:00 [32m/opt/ahop/internal/database/migrate.go:14
[0m[33m[0.436ms] [34;1m[rows:-][0m SELECT a.attname as column_name, format_type(a.atttypid, a.atttypmod) AS data_type
		FROM pg_attribute a JOIN pg_class b ON a.attrelid = b.oid AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA())
		WHERE a.attnum > 0 -- hide internal columns
		AND NOT a.attisdropped -- hide deleted columns
		AND b.relname = 'host_disks'

2025/07/22 19:08:00 [32m/opt/ahop/internal/database/migrate.go:14
[0m[33m[0.700ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'host_disks' AND column_name = 'id') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'host_disks' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2025/07/22 19:08:00 [32m/opt/ahop/internal/database/migrate.go:14
[0m[33m[0.660ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'host_disks' AND column_name = 'host_id') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'host_disks' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2025/07/22 19:08:00 [32m/opt/ahop/internal/database/migrate.go:14
[0m[33m[0.648ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'host_disks' AND column_name = 'device') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'host_disks' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2025/07/22 19:08:00 [32m/opt/ahop/internal/database/migrate.go:14
[0m[33m[0.624ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'host_disks' AND column_name = 'mount_point') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'host_disks' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2025/07/22 19:08:00 [32m/opt/ahop/internal/database/migrate.go:14
[0m[33m[0.655ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'host_disks' AND column_name = 'file_system') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'host_disks' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2025/07/22 19:08:00 [32m/opt/ahop/internal/database/migrate.go:14
[0m[33m[0.649ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'host_disks' AND column_name = 'total_mb') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'host_disks' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2025/07/22 19:08:00 [32m/opt/ahop/internal/database/migrate.go:14
[0m[33m[0.655ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'host_disks' AND column_name = 'used_mb') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'host_disks' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2025/07/22 19:08:00 [32m/opt/ahop/internal/database/migrate.go:14
[0m[33m[0.617ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'host_disks' AND column_name = 'free_mb') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'host_disks' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2025/07/22 19:08:00 [32m/opt/ahop/internal/database/migrate.go:14
[0m[33m[0.650ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'host_disks' AND column_name = 'usage_percent') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'host_disks' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2025/07/22 19:08:00 [32m/opt/ahop/internal/database/migrate.go:14
[0m[33m[0.621ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'host_disks' AND column_name = 'updated_at') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'host_disks' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2025/07/22 19:08:00 [32m/opt/ahop/internal/database/migrate.go:14
[0m[33m[0.610ms] [34;1m[rows:1][0m SELECT count(*) FROM INFORMATION_SCHEMA.table_constraints WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'host_disks' AND constraint_name = 'fk_hosts_disks'

2025/07/22 19:08:00 [32m/opt/ahop/internal/database/migrate.go:14
[0m[33m[0.538ms] [34;1m[rows:1][0m SELECT count(*) FROM pg_indexes WHERE tablename = 'host_disks' AND indexname = 'idx_host_disks_host_id' AND schemaname = CURRENT_SCHEMA()

2025/07/22 19:08:00 [32m/opt/ahop/internal/database/migrate.go:14
[0m[33m[0.534ms] [34;1m[rows:1][0m SELECT count(*) FROM information_schema.tables WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'host_network_cards' AND table_type = 'BASE TABLE'

2025/07/22 19:08:00 [32m/opt/ahop/internal/database/migrate.go:14
[0m[33m[0.401ms] [34;1m[rows:1][0m SELECT CURRENT_DATABASE()

2025/07/22 19:08:00 [32m/opt/ahop/internal/database/migrate.go:14
[0m[33m[2.287ms] [34;1m[rows:-][0m SELECT c.column_name, c.is_nullable = 'YES', c.udt_name, c.character_maximum_length, c.numeric_precision, c.numeric_precision_radix, c.numeric_scale, c.datetime_precision, 8 * typlen, c.column_default, pd.description, c.identity_increment FROM information_schema.columns AS c JOIN pg_type AS pgt ON c.udt_name = pgt.typname LEFT JOIN pg_catalog.pg_description as pd ON pd.objsubid = c.ordinal_position AND pd.objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = c.table_name AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = c.table_schema)) where table_catalog = 'auto_healing_platform' AND table_schema = CURRENT_SCHEMA() AND table_name = 'host_network_cards'

2025/07/22 19:08:00 [32m/opt/ahop/internal/database/migrate.go:14
[0m[33m[1.194ms] [34;1m[rows:-][0m SELECT * FROM "host_network_cards" LIMIT 5

2025/07/22 19:08:00 [32m/opt/ahop/internal/database/migrate.go:14
[0m[33m[1.670ms] [34;1m[rows:-][0m SELECT constraint_name FROM information_schema.table_constraints tc JOIN information_schema.constraint_column_usage AS ccu USING (constraint_schema, constraint_catalog, table_name, constraint_name) JOIN information_schema.columns AS c ON c.table_schema = tc.constraint_schema AND tc.table_name = c.table_name AND ccu.column_name = c.column_name WHERE constraint_type IN ('PRIMARY KEY', 'UNIQUE') AND c.table_catalog = 'auto_healing_platform' AND c.table_schema = CURRENT_SCHEMA() AND c.table_name = 'host_network_cards' AND constraint_type = 'UNIQUE'

2025/07/22 19:08:00 [32m/opt/ahop/internal/database/migrate.go:14
[0m[33m[1.669ms] [34;1m[rows:-][0m SELECT c.column_name, constraint_name, constraint_type FROM information_schema.table_constraints tc JOIN information_schema.constraint_column_usage AS ccu USING (constraint_schema, constraint_catalog, table_name, constraint_name) JOIN information_schema.columns AS c ON c.table_schema = tc.constraint_schema AND tc.table_name = c.table_name AND ccu.column_name = c.column_name WHERE constraint_type IN ('PRIMARY KEY', 'UNIQUE') AND c.table_catalog = 'auto_healing_platform' AND c.table_schema = CURRENT_SCHEMA() AND c.table_name = 'host_network_cards'

2025/07/22 19:08:00 [32m/opt/ahop/internal/database/migrate.go:14
[0m[33m[0.507ms] [34;1m[rows:-][0m SELECT a.attname as column_name, format_type(a.atttypid, a.atttypmod) AS data_type
		FROM pg_attribute a JOIN pg_class b ON a.attrelid = b.oid AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA())
		WHERE a.attnum > 0 -- hide internal columns
		AND NOT a.attisdropped -- hide deleted columns
		AND b.relname = 'host_network_cards'

2025/07/22 19:08:00 [32m/opt/ahop/internal/database/migrate.go:14
[0m[33m[0.653ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'host_network_cards' AND column_name = 'id') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'host_network_cards' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2025/07/22 19:08:00 [32m/opt/ahop/internal/database/migrate.go:14
[0m[33m[0.670ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'host_network_cards' AND column_name = 'host_id') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'host_network_cards' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2025/07/22 19:08:00 [32m/opt/ahop/internal/database/migrate.go:14
[0m[33m[0.648ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'host_network_cards' AND column_name = 'name') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'host_network_cards' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2025/07/22 19:08:00 [32m/opt/ahop/internal/database/migrate.go:14
[0m[33m[0.634ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'host_network_cards' AND column_name = 'mac_address') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'host_network_cards' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2025/07/22 19:08:00 [32m/opt/ahop/internal/database/migrate.go:14
[0m[33m[0.646ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'host_network_cards' AND column_name = 'ip_address') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'host_network_cards' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2025/07/22 19:08:00 [32m/opt/ahop/internal/database/migrate.go:14
[0m[33m[0.664ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'host_network_cards' AND column_name = 'ip_addresses') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'host_network_cards' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2025/07/22 19:08:00 [32m/opt/ahop/internal/database/migrate.go:14
[0m[33m[0.792ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'host_network_cards' AND column_name = 'mtu') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'host_network_cards' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2025/07/22 19:08:00 [32m/opt/ahop/internal/database/migrate.go:14
[0m[33m[0.673ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'host_network_cards' AND column_name = 'speed') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'host_network_cards' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2025/07/22 19:08:00 [32m/opt/ahop/internal/database/migrate.go:14
[0m[33m[0.650ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'host_network_cards' AND column_name = 'state') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'host_network_cards' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2025/07/22 19:08:00 [32m/opt/ahop/internal/database/migrate.go:14
[0m[33m[0.666ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'host_network_cards' AND column_name = 'updated_at') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'host_network_cards' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2025/07/22 19:08:00 [32m/opt/ahop/internal/database/migrate.go:14
[0m[33m[0.622ms] [34;1m[rows:1][0m SELECT count(*) FROM INFORMATION_SCHEMA.table_constraints WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'host_network_cards' AND constraint_name = 'fk_hosts_network_cards'

2025/07/22 19:08:00 [32m/opt/ahop/internal/database/migrate.go:14
[0m[33m[0.527ms] [34;1m[rows:1][0m SELECT count(*) FROM pg_indexes WHERE tablename = 'host_network_cards' AND indexname = 'idx_host_network_cards_host_id' AND schemaname = CURRENT_SCHEMA()

2025/07/22 19:08:00 [32m/opt/ahop/internal/database/migrate.go:14
[0m[33m[0.529ms] [34;1m[rows:1][0m SELECT count(*) FROM information_schema.tables WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'tasks' AND table_type = 'BASE TABLE'

2025/07/22 19:08:00 [32m/opt/ahop/internal/database/migrate.go:14
[0m[33m[0.433ms] [34;1m[rows:1][0m SELECT CURRENT_DATABASE()

2025/07/22 19:08:00 [32m/opt/ahop/internal/database/migrate.go:14
[0m[33m[3.992ms] [34;1m[rows:-][0m SELECT c.column_name, c.is_nullable = 'YES', c.udt_name, c.character_maximum_length, c.numeric_precision, c.numeric_precision_radix, c.numeric_scale, c.datetime_precision, 8 * typlen, c.column_default, pd.description, c.identity_increment FROM information_schema.columns AS c JOIN pg_type AS pgt ON c.udt_name = pgt.typname LEFT JOIN pg_catalog.pg_description as pd ON pd.objsubid = c.ordinal_position AND pd.objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = c.table_name AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = c.table_schema)) where table_catalog = 'auto_healing_platform' AND table_schema = CURRENT_SCHEMA() AND table_name = 'tasks'

2025/07/22 19:08:00 [32m/opt/ahop/internal/database/migrate.go:14
[0m[33m[1.298ms] [34;1m[rows:-][0m SELECT * FROM "tasks" LIMIT 5

2025/07/22 19:08:00 [32m/opt/ahop/internal/database/migrate.go:14
[0m[33m[3.862ms] [34;1m[rows:-][0m SELECT constraint_name FROM information_schema.table_constraints tc JOIN information_schema.constraint_column_usage AS ccu USING (constraint_schema, constraint_catalog, table_name, constraint_name) JOIN information_schema.columns AS c ON c.table_schema = tc.constraint_schema AND tc.table_name = c.table_name AND ccu.column_name = c.column_name WHERE constraint_type IN ('PRIMARY KEY', 'UNIQUE') AND c.table_catalog = 'auto_healing_platform' AND c.table_schema = CURRENT_SCHEMA() AND c.table_name = 'tasks' AND constraint_type = 'UNIQUE'

2025/07/22 19:08:00 [32m/opt/ahop/internal/database/migrate.go:14
[0m[33m[3.866ms] [34;1m[rows:-][0m SELECT c.column_name, constraint_name, constraint_type FROM information_schema.table_constraints tc JOIN information_schema.constraint_column_usage AS ccu USING (constraint_schema, constraint_catalog, table_name, constraint_name) JOIN information_schema.columns AS c ON c.table_schema = tc.constraint_schema AND tc.table_name = c.table_name AND ccu.column_name = c.column_name WHERE constraint_type IN ('PRIMARY KEY', 'UNIQUE') AND c.table_catalog = 'auto_healing_platform' AND c.table_schema = CURRENT_SCHEMA() AND c.table_name = 'tasks'

2025/07/22 19:08:00 [32m/opt/ahop/internal/database/migrate.go:14
[0m[33m[0.569ms] [34;1m[rows:-][0m SELECT a.attname as column_name, format_type(a.atttypid, a.atttypmod) AS data_type
		FROM pg_attribute a JOIN pg_class b ON a.attrelid = b.oid AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA())
		WHERE a.attnum > 0 -- hide internal columns
		AND NOT a.attisdropped -- hide deleted columns
		AND b.relname = 'tasks'

2025/07/22 19:08:00 [32m/opt/ahop/internal/database/migrate.go:14
[0m[33m[0.668ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'tasks' AND column_name = 'id') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'tasks' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2025/07/22 19:08:00 [32m/opt/ahop/internal/database/migrate.go:14
[0m[33m[0.778ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'tasks' AND column_name = 'created_at') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'tasks' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2025/07/22 19:08:00 [32m/opt/ahop/internal/database/migrate.go:14
[0m[33m[0.793ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'tasks' AND column_name = 'updated_at') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'tasks' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2025/07/22 19:08:00 [32m/opt/ahop/internal/database/migrate.go:14
[0m[33m[0.738ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'tasks' AND column_name = 'tenant_id') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'tasks' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2025/07/22 19:08:00 [32m/opt/ahop/internal/database/migrate.go:14
[0m[33m[0.709ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'tasks' AND column_name = 'task_id') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'tasks' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2025/07/22 19:08:00 [32m/opt/ahop/internal/database/migrate.go:14
[0m[33m[0.719ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'tasks' AND column_name = 'task_type') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'tasks' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2025/07/22 19:08:00 [32m/opt/ahop/internal/database/migrate.go:14
[0m[33m[0.700ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'tasks' AND column_name = 'name') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'tasks' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2025/07/22 19:08:00 [32m/opt/ahop/internal/database/migrate.go:14
[0m[33m[0.713ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'tasks' AND column_name = 'description') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'tasks' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2025/07/22 19:08:00 [32m/opt/ahop/internal/database/migrate.go:14
[0m[33m[0.746ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'tasks' AND column_name = 'priority') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'tasks' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2025/07/22 19:08:00 [32m/opt/ahop/internal/database/migrate.go:14
[0m[33m[0.656ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'tasks' AND column_name = 'params') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'tasks' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2025/07/22 19:08:00 [32m/opt/ahop/internal/database/migrate.go:14
[0m[33m[0.654ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'tasks' AND column_name = 'max_retries') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'tasks' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2025/07/22 19:08:00 [32m/opt/ahop/internal/database/migrate.go:14
[0m[33m[0.568ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'tasks' AND column_name = 'retry_count') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'tasks' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2025/07/22 19:08:00 [32m/opt/ahop/internal/database/migrate.go:14
[0m[33m[0.552ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'tasks' AND column_name = 'timeout') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'tasks' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2025/07/22 19:08:00 [32m/opt/ahop/internal/database/migrate.go:14
[0m[33m[0.556ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'tasks' AND column_name = 'status') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'tasks' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2025/07/22 19:08:00 [32m/opt/ahop/internal/database/migrate.go:14
[0m[33m[0.659ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'tasks' AND column_name = 'progress') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'tasks' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2025/07/22 19:08:00 [32m/opt/ahop/internal/database/migrate.go:14
[0m[33m[0.580ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'tasks' AND column_name = 'worker_id') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'tasks' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2025/07/22 19:08:00 [32m/opt/ahop/internal/database/migrate.go:14
[0m[33m[0.537ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'tasks' AND column_name = 'result') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'tasks' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2025/07/22 19:08:00 [32m/opt/ahop/internal/database/migrate.go:14
[0m[33m[0.516ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'tasks' AND column_name = 'error') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'tasks' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2025/07/22 19:08:00 [32m/opt/ahop/internal/database/migrate.go:14
[0m[33m[0.539ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'tasks' AND column_name = 'queued_at') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'tasks' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2025/07/22 19:08:00 [32m/opt/ahop/internal/database/migrate.go:14
[0m[33m[0.571ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'tasks' AND column_name = 'locked_at') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'tasks' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2025/07/22 19:08:00 [32m/opt/ahop/internal/database/migrate.go:14
[0m[33m[0.532ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'tasks' AND column_name = 'started_at') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'tasks' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2025/07/22 19:08:00 [32m/opt/ahop/internal/database/migrate.go:14
[0m[33m[0.558ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'tasks' AND column_name = 'finished_at') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'tasks' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2025/07/22 19:08:00 [32m/opt/ahop/internal/database/migrate.go:14
[0m[33m[0.566ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'tasks' AND column_name = 'created_by') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'tasks' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2025/07/22 19:08:00 [32m/opt/ahop/internal/database/migrate.go:14
[0m[33m[0.526ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'tasks' AND column_name = 'username') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'tasks' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2025/07/22 19:08:00 [32m/opt/ahop/internal/database/migrate.go:14
[0m[33m[0.539ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'tasks' AND column_name = 'tenant_name') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'tasks' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2025/07/22 19:08:00 [32m/opt/ahop/internal/database/migrate.go:14
[0m[33m[0.542ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'tasks' AND column_name = 'source') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'tasks' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2025/07/22 19:08:00 [32m/opt/ahop/internal/database/migrate.go:14
[0m[33m[0.537ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'tasks' AND column_name = 'cancelled_by') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'tasks' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2025/07/22 19:08:00 [32m/opt/ahop/internal/database/migrate.go:14
[0m[33m[0.449ms] [34;1m[rows:1][0m SELECT count(*) FROM pg_indexes WHERE tablename = 'tasks' AND indexname = 'idx_tasks_tenant_id' AND schemaname = CURRENT_SCHEMA()

2025/07/22 19:08:00 [32m/opt/ahop/internal/database/migrate.go:14
[0m[33m[0.491ms] [34;1m[rows:1][0m SELECT count(*) FROM pg_indexes WHERE tablename = 'tasks' AND indexname = 'idx_tasks_task_id' AND schemaname = CURRENT_SCHEMA()

2025/07/22 19:08:00 [32m/opt/ahop/internal/database/migrate.go:14
[0m[33m[0.456ms] [34;1m[rows:1][0m SELECT count(*) FROM pg_indexes WHERE tablename = 'tasks' AND indexname = 'idx_tasks_task_type' AND schemaname = CURRENT_SCHEMA()

2025/07/22 19:08:00 [32m/opt/ahop/internal/database/migrate.go:14
[0m[33m[0.466ms] [34;1m[rows:1][0m SELECT count(*) FROM pg_indexes WHERE tablename = 'tasks' AND indexname = 'idx_tasks_status' AND schemaname = CURRENT_SCHEMA()

2025/07/22 19:08:00 [32m/opt/ahop/internal/database/migrate.go:14
[0m[33m[0.371ms] [34;1m[rows:1][0m SELECT count(*) FROM pg_indexes WHERE tablename = 'tasks' AND indexname = 'idx_tasks_worker_id' AND schemaname = CURRENT_SCHEMA()

2025/07/22 19:08:00 [32m/opt/ahop/internal/database/migrate.go:14
[0m[33m[0.618ms] [34;1m[rows:1][0m SELECT count(*) FROM information_schema.tables WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'task_logs' AND table_type = 'BASE TABLE'

2025/07/22 19:08:00 [32m/opt/ahop/internal/database/migrate.go:14
[0m[33m[0.393ms] [34;1m[rows:1][0m SELECT CURRENT_DATABASE()

2025/07/22 19:08:00 [32m/opt/ahop/internal/database/migrate.go:14
[0m[33m[4.032ms] [34;1m[rows:-][0m SELECT c.column_name, c.is_nullable = 'YES', c.udt_name, c.character_maximum_length, c.numeric_precision, c.numeric_precision_radix, c.numeric_scale, c.datetime_precision, 8 * typlen, c.column_default, pd.description, c.identity_increment FROM information_schema.columns AS c JOIN pg_type AS pgt ON c.udt_name = pgt.typname LEFT JOIN pg_catalog.pg_description as pd ON pd.objsubid = c.ordinal_position AND pd.objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = c.table_name AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = c.table_schema)) where table_catalog = 'auto_healing_platform' AND table_schema = CURRENT_SCHEMA() AND table_name = 'task_logs'

2025/07/22 19:08:00 [32m/opt/ahop/internal/database/migrate.go:14
[0m[33m[1.414ms] [34;1m[rows:-][0m SELECT * FROM "task_logs" LIMIT 5

2025/07/22 19:08:00 [32m/opt/ahop/internal/database/migrate.go:14
[0m[33m[2.845ms] [34;1m[rows:-][0m SELECT constraint_name FROM information_schema.table_constraints tc JOIN information_schema.constraint_column_usage AS ccu USING (constraint_schema, constraint_catalog, table_name, constraint_name) JOIN information_schema.columns AS c ON c.table_schema = tc.constraint_schema AND tc.table_name = c.table_name AND ccu.column_name = c.column_name WHERE constraint_type IN ('PRIMARY KEY', 'UNIQUE') AND c.table_catalog = 'auto_healing_platform' AND c.table_schema = CURRENT_SCHEMA() AND c.table_name = 'task_logs' AND constraint_type = 'UNIQUE'

2025/07/22 19:08:00 [32m/opt/ahop/internal/database/migrate.go:14
[0m[33m[2.890ms] [34;1m[rows:-][0m SELECT c.column_name, constraint_name, constraint_type FROM information_schema.table_constraints tc JOIN information_schema.constraint_column_usage AS ccu USING (constraint_schema, constraint_catalog, table_name, constraint_name) JOIN information_schema.columns AS c ON c.table_schema = tc.constraint_schema AND tc.table_name = c.table_name AND ccu.column_name = c.column_name WHERE constraint_type IN ('PRIMARY KEY', 'UNIQUE') AND c.table_catalog = 'auto_healing_platform' AND c.table_schema = CURRENT_SCHEMA() AND c.table_name = 'task_logs'

2025/07/22 19:08:00 [32m/opt/ahop/internal/database/migrate.go:14
[0m[33m[0.787ms] [34;1m[rows:-][0m SELECT a.attname as column_name, format_type(a.atttypid, a.atttypmod) AS data_type
		FROM pg_attribute a JOIN pg_class b ON a.attrelid = b.oid AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA())
		WHERE a.attnum > 0 -- hide internal columns
		AND NOT a.attisdropped -- hide deleted columns
		AND b.relname = 'task_logs'

2025/07/22 19:08:00 [32m/opt/ahop/internal/database/migrate.go:14
[0m[33m[0.963ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'task_logs' AND column_name = 'id') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'task_logs' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2025/07/22 19:08:00 [32m/opt/ahop/internal/database/migrate.go:14
[0m[33m[0.801ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'task_logs' AND column_name = 'task_id') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'task_logs' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2025/07/22 19:08:00 [32m/opt/ahop/internal/database/migrate.go:14
[0m[33m[0.711ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'task_logs' AND column_name = 'timestamp') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'task_logs' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2025/07/22 19:08:00 [32m/opt/ahop/internal/database/migrate.go:14
[0m[33m[0.704ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'task_logs' AND column_name = 'level') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'task_logs' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2025/07/22 19:08:00 [32m/opt/ahop/internal/database/migrate.go:14
[0m[33m[0.694ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'task_logs' AND column_name = 'source') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'task_logs' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2025/07/22 19:08:00 [32m/opt/ahop/internal/database/migrate.go:14
[0m[33m[0.695ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'task_logs' AND column_name = 'host_name') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'task_logs' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2025/07/22 19:08:00 [32m/opt/ahop/internal/database/migrate.go:14
[0m[33m[0.679ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'task_logs' AND column_name = 'message') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'task_logs' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2025/07/22 19:08:00 [32m/opt/ahop/internal/database/migrate.go:14
[0m[33m[0.687ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'task_logs' AND column_name = 'data') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'task_logs' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2025/07/22 19:08:00 [32m/opt/ahop/internal/database/migrate.go:14
[0m[33m[0.689ms] [34;1m[rows:1][0m SELECT count(*) FROM INFORMATION_SCHEMA.table_constraints WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'task_logs' AND constraint_name = 'fk_tasks_logs'

2025/07/22 19:08:00 [32m/opt/ahop/internal/database/migrate.go:14
[0m[33m[0.596ms] [34;1m[rows:1][0m SELECT count(*) FROM pg_indexes WHERE tablename = 'task_logs' AND indexname = 'idx_task_logs_task_id' AND schemaname = CURRENT_SCHEMA()

2025/07/22 19:08:00 [32m/opt/ahop/internal/database/migrate.go:14
[0m[33m[0.559ms] [34;1m[rows:1][0m SELECT count(*) FROM pg_indexes WHERE tablename = 'task_logs' AND indexname = 'idx_task_logs_timestamp' AND schemaname = CURRENT_SCHEMA()

2025/07/22 19:08:00 [32m/opt/ahop/internal/database/migrate.go:14
[0m[33m[0.559ms] [34;1m[rows:1][0m SELECT count(*) FROM pg_indexes WHERE tablename = 'task_logs' AND indexname = 'idx_task_logs_host_name' AND schemaname = CURRENT_SCHEMA()

2025/07/22 19:08:00 [32m/opt/ahop/internal/database/migrate.go:14
[0m[33m[0.570ms] [34;1m[rows:1][0m SELECT count(*) FROM information_schema.tables WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'workers' AND table_type = 'BASE TABLE'

2025/07/22 19:08:00 [32m/opt/ahop/internal/database/migrate.go:14
[0m[33m[0.606ms] [34;1m[rows:1][0m SELECT CURRENT_DATABASE()

2025/07/22 19:08:00 [32m/opt/ahop/internal/database/migrate.go:14
[0m[33m[2.475ms] [34;1m[rows:-][0m SELECT c.column_name, c.is_nullable = 'YES', c.udt_name, c.character_maximum_length, c.numeric_precision, c.numeric_precision_radix, c.numeric_scale, c.datetime_precision, 8 * typlen, c.column_default, pd.description, c.identity_increment FROM information_schema.columns AS c JOIN pg_type AS pgt ON c.udt_name = pgt.typname LEFT JOIN pg_catalog.pg_description as pd ON pd.objsubid = c.ordinal_position AND pd.objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = c.table_name AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = c.table_schema)) where table_catalog = 'auto_healing_platform' AND table_schema = CURRENT_SCHEMA() AND table_name = 'workers'

2025/07/22 19:08:00 [32m/opt/ahop/internal/database/migrate.go:14
[0m[33m[0.753ms] [34;1m[rows:-][0m SELECT * FROM "workers" LIMIT 5

2025/07/22 19:08:00 [32m/opt/ahop/internal/database/migrate.go:14
[0m[33m[1.821ms] [34;1m[rows:-][0m SELECT constraint_name FROM information_schema.table_constraints tc JOIN information_schema.constraint_column_usage AS ccu USING (constraint_schema, constraint_catalog, table_name, constraint_name) JOIN information_schema.columns AS c ON c.table_schema = tc.constraint_schema AND tc.table_name = c.table_name AND ccu.column_name = c.column_name WHERE constraint_type IN ('PRIMARY KEY', 'UNIQUE') AND c.table_catalog = 'auto_healing_platform' AND c.table_schema = CURRENT_SCHEMA() AND c.table_name = 'workers' AND constraint_type = 'UNIQUE'

2025/07/22 19:08:00 [32m/opt/ahop/internal/database/migrate.go:14
[0m[33m[1.814ms] [34;1m[rows:-][0m SELECT c.column_name, constraint_name, constraint_type FROM information_schema.table_constraints tc JOIN information_schema.constraint_column_usage AS ccu USING (constraint_schema, constraint_catalog, table_name, constraint_name) JOIN information_schema.columns AS c ON c.table_schema = tc.constraint_schema AND tc.table_name = c.table_name AND ccu.column_name = c.column_name WHERE constraint_type IN ('PRIMARY KEY', 'UNIQUE') AND c.table_catalog = 'auto_healing_platform' AND c.table_schema = CURRENT_SCHEMA() AND c.table_name = 'workers'

2025/07/22 19:08:00 [32m/opt/ahop/internal/database/migrate.go:14
[0m[33m[0.343ms] [34;1m[rows:-][0m SELECT a.attname as column_name, format_type(a.atttypid, a.atttypmod) AS data_type
		FROM pg_attribute a JOIN pg_class b ON a.attrelid = b.oid AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA())
		WHERE a.attnum > 0 -- hide internal columns
		AND NOT a.attisdropped -- hide deleted columns
		AND b.relname = 'workers'

2025/07/22 19:08:00 [32m/opt/ahop/internal/database/migrate.go:14
[0m[33m[0.503ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'workers' AND column_name = 'id') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'workers' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2025/07/22 19:08:00 [32m/opt/ahop/internal/database/migrate.go:14
[0m[33m[0.456ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'workers' AND column_name = 'worker_id') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'workers' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2025/07/22 19:08:00 [32m/opt/ahop/internal/database/migrate.go:14
[0m[33m[0.439ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'workers' AND column_name = 'worker_type') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'workers' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2025/07/22 19:08:00 [32m/opt/ahop/internal/database/migrate.go:14
[0m[33m[0.487ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'workers' AND column_name = 'hostname') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'workers' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2025/07/22 19:08:00 [32m/opt/ahop/internal/database/migrate.go:14
[0m[33m[0.443ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'workers' AND column_name = 'ip_address') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'workers' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2025/07/22 19:08:00 [32m/opt/ahop/internal/database/migrate.go:14
[0m[33m[0.486ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'workers' AND column_name = 'concurrent') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'workers' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2025/07/22 19:08:00 [32m/opt/ahop/internal/database/migrate.go:14
[0m[33m[0.453ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'workers' AND column_name = 'task_types') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'workers' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2025/07/22 19:08:00 [32m/opt/ahop/internal/database/migrate.go:14
[0m[33m[0.627ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'workers' AND column_name = 'version') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'workers' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2025/07/22 19:08:00 [32m/opt/ahop/internal/database/migrate.go:14
[0m[33m[0.483ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'workers' AND column_name = 'status') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'workers' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2025/07/22 19:08:00 [32m/opt/ahop/internal/database/migrate.go:14
[0m[33m[0.548ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'workers' AND column_name = 'cpu_usage') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'workers' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2025/07/22 19:08:00 [32m/opt/ahop/internal/database/migrate.go:14
[0m[33m[0.502ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'workers' AND column_name = 'memory_usage') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'workers' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2025/07/22 19:08:00 [32m/opt/ahop/internal/database/migrate.go:14
[0m[33m[0.929ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'workers' AND column_name = 'task_count') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'workers' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2025/07/22 19:08:00 [32m/opt/ahop/internal/database/migrate.go:14
[0m[33m[0.822ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'workers' AND column_name = 'registered_at') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'workers' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2025/07/22 19:08:00 [32m/opt/ahop/internal/database/migrate.go:14
[0m[33m[0.812ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'workers' AND column_name = 'last_heartbeat') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'workers' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2025/07/22 19:08:00 [32m/opt/ahop/internal/database/migrate.go:14
[0m[33m[0.871ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'workers' AND column_name = 'total_tasks') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'workers' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2025/07/22 19:08:00 [32m/opt/ahop/internal/database/migrate.go:14
[0m[33m[0.955ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'workers' AND column_name = 'success_tasks') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'workers' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2025/07/22 19:08:00 [32m/opt/ahop/internal/database/migrate.go:14
[0m[33m[0.860ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'workers' AND column_name = 'failed_tasks') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'workers' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2025/07/22 19:08:00 [32m/opt/ahop/internal/database/migrate.go:14
[0m[33m[0.610ms] [34;1m[rows:1][0m SELECT count(*) FROM pg_indexes WHERE tablename = 'workers' AND indexname = 'idx_workers_worker_id' AND schemaname = CURRENT_SCHEMA()

2025/07/22 19:08:00 [32m/opt/ahop/internal/database/migrate.go:14
[0m[33m[0.572ms] [34;1m[rows:1][0m SELECT count(*) FROM information_schema.tables WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'worker_auths' AND table_type = 'BASE TABLE'

2025/07/22 19:08:00 [32m/opt/ahop/internal/database/migrate.go:14
[0m[33m[0.412ms] [34;1m[rows:1][0m SELECT CURRENT_DATABASE()

2025/07/22 19:08:00 [32m/opt/ahop/internal/database/migrate.go:14
[0m[33m[6.361ms] [34;1m[rows:-][0m SELECT c.column_name, c.is_nullable = 'YES', c.udt_name, c.character_maximum_length, c.numeric_precision, c.numeric_precision_radix, c.numeric_scale, c.datetime_precision, 8 * typlen, c.column_default, pd.description, c.identity_increment FROM information_schema.columns AS c JOIN pg_type AS pgt ON c.udt_name = pgt.typname LEFT JOIN pg_catalog.pg_description as pd ON pd.objsubid = c.ordinal_position AND pd.objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = c.table_name AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = c.table_schema)) where table_catalog = 'auto_healing_platform' AND table_schema = CURRENT_SCHEMA() AND table_name = 'worker_auths'

2025/07/22 19:08:00 [32m/opt/ahop/internal/database/migrate.go:14
[0m[33m[1.155ms] [34;1m[rows:-][0m SELECT * FROM "worker_auths" LIMIT 5

2025/07/22 19:08:00 [32m/opt/ahop/internal/database/migrate.go:14
[0m[33m[4.967ms] [34;1m[rows:-][0m SELECT constraint_name FROM information_schema.table_constraints tc JOIN information_schema.constraint_column_usage AS ccu USING (constraint_schema, constraint_catalog, table_name, constraint_name) JOIN information_schema.columns AS c ON c.table_schema = tc.constraint_schema AND tc.table_name = c.table_name AND ccu.column_name = c.column_name WHERE constraint_type IN ('PRIMARY KEY', 'UNIQUE') AND c.table_catalog = 'auto_healing_platform' AND c.table_schema = CURRENT_SCHEMA() AND c.table_name = 'worker_auths' AND constraint_type = 'UNIQUE'

2025/07/22 19:08:00 [32m/opt/ahop/internal/database/migrate.go:14
[0m[33m[4.156ms] [34;1m[rows:-][0m SELECT c.column_name, constraint_name, constraint_type FROM information_schema.table_constraints tc JOIN information_schema.constraint_column_usage AS ccu USING (constraint_schema, constraint_catalog, table_name, constraint_name) JOIN information_schema.columns AS c ON c.table_schema = tc.constraint_schema AND tc.table_name = c.table_name AND ccu.column_name = c.column_name WHERE constraint_type IN ('PRIMARY KEY', 'UNIQUE') AND c.table_catalog = 'auto_healing_platform' AND c.table_schema = CURRENT_SCHEMA() AND c.table_name = 'worker_auths'

2025/07/22 19:08:00 [32m/opt/ahop/internal/database/migrate.go:14
[0m[33m[0.526ms] [34;1m[rows:-][0m SELECT a.attname as column_name, format_type(a.atttypid, a.atttypmod) AS data_type
		FROM pg_attribute a JOIN pg_class b ON a.attrelid = b.oid AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA())
		WHERE a.attnum > 0 -- hide internal columns
		AND NOT a.attisdropped -- hide deleted columns
		AND b.relname = 'worker_auths'

2025/07/22 19:08:00 [32m/opt/ahop/internal/database/migrate.go:14
[0m[33m[0.587ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'worker_auths' AND column_name = 'id') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'worker_auths' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2025/07/22 19:08:00 [32m/opt/ahop/internal/database/migrate.go:14
[0m[33m[0.585ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'worker_auths' AND column_name = 'access_key') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'worker_auths' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2025/07/22 19:08:00 [32m/opt/ahop/internal/database/migrate.go:14
[0m[33m[0.473ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'worker_auths' AND column_name = 'secret_key') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'worker_auths' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2025/07/22 19:08:00 [32m/opt/ahop/internal/database/migrate.go:14
[0m[33m[0.457ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'worker_auths' AND column_name = 'environment') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'worker_auths' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2025/07/22 19:08:00 [32m/opt/ahop/internal/database/migrate.go:14
[0m[33m[0.458ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'worker_auths' AND column_name = 'description') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'worker_auths' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2025/07/22 19:08:00 [32m/opt/ahop/internal/database/migrate.go:14
[0m[33m[0.486ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'worker_auths' AND column_name = 'status') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'worker_auths' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2025/07/22 19:08:00 [32m/opt/ahop/internal/database/migrate.go:14
[0m[33m[0.462ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'worker_auths' AND column_name = 'created_at') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'worker_auths' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2025/07/22 19:08:00 [32m/opt/ahop/internal/database/migrate.go:14
[0m[33m[0.446ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'worker_auths' AND column_name = 'updated_at') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'worker_auths' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2025/07/22 19:08:00 [32m/opt/ahop/internal/database/migrate.go:14
[0m[33m[0.458ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'worker_auths' AND column_name = 'db_host') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'worker_auths' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2025/07/22 19:08:00 [32m/opt/ahop/internal/database/migrate.go:14
[0m[33m[0.563ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'worker_auths' AND column_name = 'db_port') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'worker_auths' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2025/07/22 19:08:00 [32m/opt/ahop/internal/database/migrate.go:14
[0m[33m[0.532ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'worker_auths' AND column_name = 'db_user') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'worker_auths' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2025/07/22 19:08:00 [32m/opt/ahop/internal/database/migrate.go:14
[0m[33m[0.449ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'worker_auths' AND column_name = 'db_password') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'worker_auths' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2025/07/22 19:08:00 [32m/opt/ahop/internal/database/migrate.go:14
[0m[33m[0.452ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'worker_auths' AND column_name = 'db_name') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'worker_auths' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2025/07/22 19:08:00 [32m/opt/ahop/internal/database/migrate.go:14
[0m[33m[0.441ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'worker_auths' AND column_name = 'redis_host') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'worker_auths' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2025/07/22 19:08:00 [32m/opt/ahop/internal/database/migrate.go:14
[0m[33m[0.460ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'worker_auths' AND column_name = 'redis_port') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'worker_auths' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2025/07/22 19:08:00 [32m/opt/ahop/internal/database/migrate.go:14
[0m[33m[0.446ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'worker_auths' AND column_name = 'redis_password') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'worker_auths' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2025/07/22 19:08:00 [32m/opt/ahop/internal/database/migrate.go:14
[0m[33m[0.470ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'worker_auths' AND column_name = 'redis_db') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'worker_auths' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2025/07/22 19:08:00 [32m/opt/ahop/internal/database/migrate.go:14
[0m[33m[0.464ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'worker_auths' AND column_name = 'redis_prefix') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'worker_auths' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2025/07/22 19:08:00 [32m/opt/ahop/internal/database/migrate.go:14
[0m[33m[0.397ms] [34;1m[rows:1][0m SELECT count(*) FROM pg_indexes WHERE tablename = 'worker_auths' AND indexname = 'idx_worker_auths_access_key' AND schemaname = CURRENT_SCHEMA()
{"level":"info","msg":"Database migration completed successfully","time":"2025-07-22T19:08:00+08:00"}
{"level":"info","msg":"Starting seed data initialization...","time":"2025-07-22T19:08:00+08:00"}

2025/07/22 19:08:00 [32m/opt/ahop/cmd/server/seed.go:46
[0m[33m[0.862ms] [34;1m[rows:1][0m SELECT count(*) FROM "tenants" WHERE code = 'default'
{"level":"info","msg":"默认租户已存在，跳过创建","time":"2025-07-22T19:08:00+08:00"}

2025/07/22 19:08:00 [32m/opt/ahop/cmd/server/seed.go:156
[0m[33m[0.779ms] [34;1m[rows:1][0m SELECT count(*) FROM "permissions" WHERE code = 'tenant:create'

2025/07/22 19:08:00 [32m/opt/ahop/cmd/server/seed.go:156
[0m[33m[0.369ms] [34;1m[rows:1][0m SELECT count(*) FROM "permissions" WHERE code = 'tenant:read'

2025/07/22 19:08:00 [32m/opt/ahop/cmd/server/seed.go:156
[0m[33m[0.355ms] [34;1m[rows:1][0m SELECT count(*) FROM "permissions" WHERE code = 'tenant:update'

2025/07/22 19:08:00 [32m/opt/ahop/cmd/server/seed.go:156
[0m[33m[0.354ms] [34;1m[rows:1][0m SELECT count(*) FROM "permissions" WHERE code = 'tenant:delete'

2025/07/22 19:08:00 [32m/opt/ahop/cmd/server/seed.go:156
[0m[33m[0.401ms] [34;1m[rows:1][0m SELECT count(*) FROM "permissions" WHERE code = 'tenant:list'

2025/07/22 19:08:00 [32m/opt/ahop/cmd/server/seed.go:156
[0m[33m[0.447ms] [34;1m[rows:1][0m SELECT count(*) FROM "permissions" WHERE code = 'user:create'

2025/07/22 19:08:00 [32m/opt/ahop/cmd/server/seed.go:156
[0m[33m[0.287ms] [34;1m[rows:1][0m SELECT count(*) FROM "permissions" WHERE code = 'user:read'

2025/07/22 19:08:00 [32m/opt/ahop/cmd/server/seed.go:156
[0m[33m[0.353ms] [34;1m[rows:1][0m SELECT count(*) FROM "permissions" WHERE code = 'user:update'

2025/07/22 19:08:00 [32m/opt/ahop/cmd/server/seed.go:156
[0m[33m[0.383ms] [34;1m[rows:1][0m SELECT count(*) FROM "permissions" WHERE code = 'user:delete'

2025/07/22 19:08:00 [32m/opt/ahop/cmd/server/seed.go:156
[0m[33m[0.375ms] [34;1m[rows:1][0m SELECT count(*) FROM "permissions" WHERE code = 'user:list'

2025/07/22 19:08:00 [32m/opt/ahop/cmd/server/seed.go:156
[0m[33m[0.365ms] [34;1m[rows:1][0m SELECT count(*) FROM "permissions" WHERE code = 'role:create'

2025/07/22 19:08:00 [32m/opt/ahop/cmd/server/seed.go:156
[0m[33m[0.354ms] [34;1m[rows:1][0m SELECT count(*) FROM "permissions" WHERE code = 'role:read'

2025/07/22 19:08:00 [32m/opt/ahop/cmd/server/seed.go:156
[0m[33m[0.372ms] [34;1m[rows:1][0m SELECT count(*) FROM "permissions" WHERE code = 'role:update'

2025/07/22 19:08:00 [32m/opt/ahop/cmd/server/seed.go:156
[0m[33m[0.361ms] [34;1m[rows:1][0m SELECT count(*) FROM "permissions" WHERE code = 'role:delete'

2025/07/22 19:08:00 [32m/opt/ahop/cmd/server/seed.go:156
[0m[33m[0.363ms] [34;1m[rows:1][0m SELECT count(*) FROM "permissions" WHERE code = 'role:list'

2025/07/22 19:08:00 [32m/opt/ahop/cmd/server/seed.go:156
[0m[33m[0.357ms] [34;1m[rows:1][0m SELECT count(*) FROM "permissions" WHERE code = 'role:assign'

2025/07/22 19:08:00 [32m/opt/ahop/cmd/server/seed.go:156
[0m[33m[0.374ms] [34;1m[rows:1][0m SELECT count(*) FROM "permissions" WHERE code = 'permission:read'

2025/07/22 19:08:00 [32m/opt/ahop/cmd/server/seed.go:156
[0m[33m[0.374ms] [34;1m[rows:1][0m SELECT count(*) FROM "permissions" WHERE code = 'permission:list'

2025/07/22 19:08:00 [32m/opt/ahop/cmd/server/seed.go:156
[0m[33m[0.393ms] [34;1m[rows:1][0m SELECT count(*) FROM "permissions" WHERE code = 'permission:assign'

2025/07/22 19:08:00 [32m/opt/ahop/cmd/server/seed.go:156
[0m[33m[0.339ms] [34;1m[rows:1][0m SELECT count(*) FROM "permissions" WHERE code = 'credential:create'

2025/07/22 19:08:00 [32m/opt/ahop/cmd/server/seed.go:156
[0m[33m[0.316ms] [34;1m[rows:1][0m SELECT count(*) FROM "permissions" WHERE code = 'credential:read'

2025/07/22 19:08:00 [32m/opt/ahop/cmd/server/seed.go:156
[0m[33m[0.328ms] [34;1m[rows:1][0m SELECT count(*) FROM "permissions" WHERE code = 'credential:update'

2025/07/22 19:08:00 [32m/opt/ahop/cmd/server/seed.go:156
[0m[33m[0.332ms] [34;1m[rows:1][0m SELECT count(*) FROM "permissions" WHERE code = 'credential:delete'

2025/07/22 19:08:00 [32m/opt/ahop/cmd/server/seed.go:156
[0m[33m[0.329ms] [34;1m[rows:1][0m SELECT count(*) FROM "permissions" WHERE code = 'credential:list'

2025/07/22 19:08:00 [32m/opt/ahop/cmd/server/seed.go:156
[0m[33m[0.335ms] [34;1m[rows:1][0m SELECT count(*) FROM "permissions" WHERE code = 'credential:decrypt'

2025/07/22 19:08:00 [32m/opt/ahop/cmd/server/seed.go:156
[0m[33m[0.334ms] [34;1m[rows:1][0m SELECT count(*) FROM "permissions" WHERE code = 'tag:list'

2025/07/22 19:08:00 [32m/opt/ahop/cmd/server/seed.go:156
[0m[33m[0.322ms] [34;1m[rows:1][0m SELECT count(*) FROM "permissions" WHERE code = 'tag:read'

2025/07/22 19:08:00 [32m/opt/ahop/cmd/server/seed.go:156
[0m[33m[0.362ms] [34;1m[rows:1][0m SELECT count(*) FROM "permissions" WHERE code = 'tag:create'

2025/07/22 19:08:00 [32m/opt/ahop/cmd/server/seed.go:156
[0m[33m[0.324ms] [34;1m[rows:1][0m SELECT count(*) FROM "permissions" WHERE code = 'tag:update'

2025/07/22 19:08:00 [32m/opt/ahop/cmd/server/seed.go:156
[0m[33m[0.336ms] [34;1m[rows:1][0m SELECT count(*) FROM "permissions" WHERE code = 'tag:delete'

2025/07/22 19:08:00 [32m/opt/ahop/cmd/server/seed.go:156
[0m[33m[0.327ms] [34;1m[rows:1][0m SELECT count(*) FROM "permissions" WHERE code = 'host:list'

2025/07/22 19:08:00 [32m/opt/ahop/cmd/server/seed.go:156
[0m[33m[0.333ms] [34;1m[rows:1][0m SELECT count(*) FROM "permissions" WHERE code = 'host:read'

2025/07/22 19:08:00 [32m/opt/ahop/cmd/server/seed.go:156
[0m[33m[0.334ms] [34;1m[rows:1][0m SELECT count(*) FROM "permissions" WHERE code = 'host:create'

2025/07/22 19:08:00 [32m/opt/ahop/cmd/server/seed.go:156
[0m[33m[0.339ms] [34;1m[rows:1][0m SELECT count(*) FROM "permissions" WHERE code = 'host:update'

2025/07/22 19:08:00 [32m/opt/ahop/cmd/server/seed.go:156
[0m[33m[0.304ms] [34;1m[rows:1][0m SELECT count(*) FROM "permissions" WHERE code = 'host:delete'

2025/07/22 19:08:00 [32m/opt/ahop/cmd/server/seed.go:156
[0m[33m[0.323ms] [34;1m[rows:1][0m SELECT count(*) FROM "permissions" WHERE code = 'host:execute'

2025/07/22 19:08:00 [32m/opt/ahop/cmd/server/seed.go:156
[0m[33m[0.297ms] [34;1m[rows:1][0m SELECT count(*) FROM "permissions" WHERE code = 'host:import'

2025/07/22 19:08:00 [32m/opt/ahop/cmd/server/seed.go:156
[0m[33m[0.295ms] [34;1m[rows:1][0m SELECT count(*) FROM "permissions" WHERE code = 'host:export'

2025/07/22 19:08:00 [32m/opt/ahop/cmd/server/seed.go:156
[0m[33m[0.305ms] [34;1m[rows:1][0m SELECT count(*) FROM "permissions" WHERE code = 'host_group:list'

2025/07/22 19:08:00 [32m/opt/ahop/cmd/server/seed.go:156
[0m[33m[0.286ms] [34;1m[rows:1][0m SELECT count(*) FROM "permissions" WHERE code = 'host_group:read'

2025/07/22 19:08:00 [32m/opt/ahop/cmd/server/seed.go:156
[0m[33m[0.284ms] [34;1m[rows:1][0m SELECT count(*) FROM "permissions" WHERE code = 'host_group:create'

2025/07/22 19:08:00 [32m/opt/ahop/cmd/server/seed.go:156
[0m[33m[0.297ms] [34;1m[rows:1][0m SELECT count(*) FROM "permissions" WHERE code = 'host_group:update'

2025/07/22 19:08:00 [32m/opt/ahop/cmd/server/seed.go:156
[0m[33m[0.310ms] [34;1m[rows:1][0m SELECT count(*) FROM "permissions" WHERE code = 'host_group:delete'

2025/07/22 19:08:00 [32m/opt/ahop/cmd/server/seed.go:156
[0m[33m[0.263ms] [34;1m[rows:1][0m SELECT count(*) FROM "permissions" WHERE code = 'task:list'

2025/07/22 19:08:00 [32m/opt/ahop/cmd/server/seed.go:156
[0m[33m[0.272ms] [34;1m[rows:1][0m SELECT count(*) FROM "permissions" WHERE code = 'task:read'

2025/07/22 19:08:00 [32m/opt/ahop/cmd/server/seed.go:156
[0m[33m[0.260ms] [34;1m[rows:1][0m SELECT count(*) FROM "permissions" WHERE code = 'task:create'

2025/07/22 19:08:00 [32m/opt/ahop/cmd/server/seed.go:156
[0m[33m[0.254ms] [34;1m[rows:1][0m SELECT count(*) FROM "permissions" WHERE code = 'task:cancel'

2025/07/22 19:08:00 [32m/opt/ahop/cmd/server/seed.go:156
[0m[33m[0.257ms] [34;1m[rows:1][0m SELECT count(*) FROM "permissions" WHERE code = 'task:retry'

2025/07/22 19:08:00 [32m/opt/ahop/cmd/server/seed.go:156
[0m[33m[0.259ms] [34;1m[rows:1][0m SELECT count(*) FROM "permissions" WHERE code = 'task:logs'

2025/07/22 19:08:00 [32m/opt/ahop/cmd/server/seed.go:156
[0m[33m[0.267ms] [34;1m[rows:1][0m SELECT count(*) FROM "permissions" WHERE code = 'task:stats'

2025/07/22 19:08:00 [32m/opt/ahop/cmd/server/seed.go:156
[0m[33m[0.259ms] [34;1m[rows:1][0m SELECT count(*) FROM "permissions" WHERE code = 'worker:list'

2025/07/22 19:08:00 [32m/opt/ahop/cmd/server/seed.go:156
[0m[33m[0.261ms] [34;1m[rows:1][0m SELECT count(*) FROM "permissions" WHERE code = 'worker:read'

2025/07/22 19:08:00 [32m/opt/ahop/cmd/server/seed.go:156
[0m[33m[0.262ms] [34;1m[rows:1][0m SELECT count(*) FROM "permissions" WHERE code = 'worker:delete'

2025/07/22 19:08:00 [32m/opt/ahop/cmd/server/seed.go:156
[0m[33m[0.258ms] [34;1m[rows:1][0m SELECT count(*) FROM "permissions" WHERE code = 'worker:queue'

2025/07/22 19:08:00 [32m/opt/ahop/cmd/server/seed.go:156
[0m[33m[0.277ms] [34;1m[rows:1][0m SELECT count(*) FROM "permissions" WHERE code = 'network_scan:start'

2025/07/22 19:08:00 [32m/opt/ahop/cmd/server/seed.go:156
[0m[33m[0.264ms] [34;1m[rows:1][0m SELECT count(*) FROM "permissions" WHERE code = 'network_scan:view'

2025/07/22 19:08:00 [32m/opt/ahop/cmd/server/seed.go:156
[0m[33m[0.262ms] [34;1m[rows:1][0m SELECT count(*) FROM "permissions" WHERE code = 'network_scan:cancel'

2025/07/22 19:08:00 [32m/opt/ahop/cmd/server/seed.go:156
[0m[33m[0.271ms] [34;1m[rows:1][0m SELECT count(*) FROM "permissions" WHERE code = 'network_scan:import'
{"level":"info","msg":"权限初始化完成","time":"2025-07-22T19:08:00+08:00"}

2025/07/22 19:08:00 [32m/opt/ahop/cmd/server/seed.go:171
[0m[33m[0.904ms] [34;1m[rows:1][0m SELECT count(*) FROM "roles" WHERE code = 'platform_admin'
{"level":"info","msg":"平台管理员角色已存在，跳过创建","time":"2025-07-22T19:08:00+08:00"}

2025/07/22 19:08:00 [32m/opt/ahop/cmd/server/seed.go:221
[0m[33m[0.930ms] [34;1m[rows:1][0m SELECT count(*) FROM "users" WHERE username = 'admin'
{"level":"info","msg":"管理员用户已存在，跳过创建","time":"2025-07-22T19:08:00+08:00"}
{"level":"info","msg":"Seed data initialization completed successfully","time":"2025-07-22T19:08:00+08:00"}
[GIN-debug] [WARNING] Running in "debug" mode. Switch to "release" mode in production.
 - using env:	export GIN_MODE=release
 - using code:	gin.SetMode(gin.ReleaseMode)

[GIN-debug] GET    /api/v1/health            --> ahop/internal/router.healthCheck (5 handlers)
[GIN-debug] GET    /api/v1/ping              --> ahop/internal/router.ping (5 handlers)
[GIN-debug] POST   /api/v1/auth/login        --> ahop/internal/handlers.(*AuthHandler).Login-fm (5 handlers)
[GIN-debug] POST   /api/v1/auth/logout       --> ahop/internal/handlers.(*AuthHandler).Logout-fm (5 handlers)
[GIN-debug] POST   /api/v1/auth/refresh      --> ahop/internal/handlers.(*AuthHandler).RefreshToken-fm (5 handlers)
[GIN-debug] GET    /api/v1/auth/me           --> ahop/internal/handlers.(*AuthHandler).Me-fm (6 handlers)
[GIN-debug] POST   /api/v1/auth/switch-tenant --> ahop/internal/handlers.(*AuthHandler).SwitchTenant-fm (6 handlers)
[GIN-debug] POST   /api/v1/users             --> ahop/internal/handlers.(*UserHandler).Create-fm (7 handlers)
[GIN-debug] GET    /api/v1/users             --> ahop/internal/handlers.(*UserHandler).GetAll-fm (7 handlers)
[GIN-debug] GET    /api/v1/users/:id         --> ahop/internal/handlers.(*UserHandler).GetByID-fm (7 handlers)
[GIN-debug] PUT    /api/v1/users/:id         --> ahop/internal/handlers.(*UserHandler).Update-fm (7 handlers)
[GIN-debug] DELETE /api/v1/users/:id         --> ahop/internal/handlers.(*UserHandler).Delete-fm (7 handlers)
[GIN-debug] POST   /api/v1/users/:id/activate --> ahop/internal/handlers.(*UserHandler).Activate-fm (7 handlers)
[GIN-debug] POST   /api/v1/users/:id/deactivate --> ahop/internal/handlers.(*UserHandler).Deactivate-fm (7 handlers)
[GIN-debug] POST   /api/v1/users/:id/lock    --> ahop/internal/handlers.(*UserHandler).Lock-fm (7 handlers)
[GIN-debug] POST   /api/v1/users/:id/reset-password --> ahop/internal/handlers.(*UserHandler).ResetPassword-fm (7 handlers)
[GIN-debug] GET    /api/v1/users/username/:username --> ahop/internal/handlers.(*UserHandler).GetByUsername-fm (7 handlers)
[GIN-debug] GET    /api/v1/users/email       --> ahop/internal/handlers.(*UserHandler).GetByEmail-fm (7 handlers)
[GIN-debug] GET    /api/v1/users/stats       --> ahop/internal/handlers.(*UserHandler).GetStats-fm (7 handlers)
[GIN-debug] GET    /api/v1/users/recent      --> ahop/internal/handlers.(*UserHandler).GetRecentlyCreated-fm (7 handlers)
[GIN-debug] GET    /api/v1/users/status-distribution --> ahop/internal/handlers.(*UserHandler).GetStatusDistribution-fm (7 handlers)
[GIN-debug] POST   /api/v1/users/:id/roles   --> ahop/internal/handlers.(*UserHandler).AssignRoles-fm (7 handlers)
[GIN-debug] POST   /api/v1/users/:id/roles/add --> ahop/internal/handlers.(*UserHandler).AddRole-fm (7 handlers)
[GIN-debug] DELETE /api/v1/users/:id/roles/:role_id --> ahop/internal/handlers.(*UserHandler).RemoveRole-fm (7 handlers)
[GIN-debug] GET    /api/v1/users/:id/roles   --> ahop/internal/handlers.(*UserHandler).GetUserRoles-fm (7 handlers)
[GIN-debug] GET    /api/v1/users/:id/permissions --> ahop/internal/handlers.(*UserHandler).GetUserPermissions-fm (7 handlers)
[GIN-debug] GET    /api/v1/users/:id/check-permission --> ahop/internal/handlers.(*UserHandler).CheckPermission-fm (7 handlers)
[GIN-debug] GET    /api/v1/users/:id/check-role --> ahop/internal/handlers.(*UserHandler).CheckRole-fm (7 handlers)
[GIN-debug] POST   /api/v1/tenants           --> ahop/internal/handlers.(*TenantHandler).Create-fm (7 handlers)
[GIN-debug] GET    /api/v1/tenants           --> ahop/internal/handlers.(*TenantHandler).GetAll-fm (7 handlers)
[GIN-debug] GET    /api/v1/tenants/:id       --> ahop/internal/handlers.(*TenantHandler).GetByID-fm (7 handlers)
[GIN-debug] PUT    /api/v1/tenants/:id       --> ahop/internal/handlers.(*TenantHandler).Update-fm (7 handlers)
[GIN-debug] DELETE /api/v1/tenants/:id       --> ahop/internal/handlers.(*TenantHandler).Delete-fm (7 handlers)
[GIN-debug] POST   /api/v1/tenants/:id/activate --> ahop/internal/handlers.(*TenantHandler).Activate-fm (7 handlers)
[GIN-debug] POST   /api/v1/tenants/:id/deactivate --> ahop/internal/handlers.(*TenantHandler).Deactivate-fm (7 handlers)
[GIN-debug] GET    /api/v1/tenants/stats     --> ahop/internal/handlers.(*TenantHandler).GetStats-fm (7 handlers)
[GIN-debug] GET    /api/v1/tenants/recent    --> ahop/internal/handlers.(*TenantHandler).GetRecentlyCreated-fm (7 handlers)
[GIN-debug] GET    /api/v1/tenants/status-distribution --> ahop/internal/handlers.(*TenantHandler).GetStatusDistribution-fm (7 handlers)
[GIN-debug] POST   /api/v1/roles             --> ahop/internal/handlers.(*RoleHandler).Create-fm (7 handlers)
[GIN-debug] GET    /api/v1/roles/:id         --> ahop/internal/handlers.(*RoleHandler).GetByID-fm (7 handlers)
[GIN-debug] PUT    /api/v1/roles/:id         --> ahop/internal/handlers.(*RoleHandler).Update-fm (7 handlers)
[GIN-debug] DELETE /api/v1/roles/:id         --> ahop/internal/handlers.(*RoleHandler).Delete-fm (7 handlers)
[GIN-debug] GET    /api/v1/roles/tenant/:tenant_id --> ahop/internal/handlers.(*RoleHandler).GetByTenant-fm (8 handlers)
[GIN-debug] POST   /api/v1/roles/:id/permissions --> ahop/internal/handlers.(*RoleHandler).AssignPermissions-fm (7 handlers)
[GIN-debug] GET    /api/v1/roles/:id/permissions --> ahop/internal/handlers.(*RoleHandler).GetPermissions-fm (7 handlers)
[GIN-debug] GET    /api/v1/permissions       --> ahop/internal/handlers.(*PermissionHandler).GetAll-fm (5 handlers)
[GIN-debug] GET    /api/v1/permissions/module/:module --> ahop/internal/handlers.(*PermissionHandler).GetByModule-fm (5 handlers)
[GIN-debug] POST   /api/v1/credentials       --> ahop/internal/handlers.(*CredentialHandler).Create-fm (7 handlers)
[GIN-debug] GET    /api/v1/credentials       --> ahop/internal/handlers.(*CredentialHandler).List-fm (7 handlers)
[GIN-debug] GET    /api/v1/credentials/:id   --> ahop/internal/handlers.(*CredentialHandler).Get-fm (7 handlers)
[GIN-debug] PUT    /api/v1/credentials/:id   --> ahop/internal/handlers.(*CredentialHandler).Update-fm (7 handlers)
[GIN-debug] DELETE /api/v1/credentials/:id   --> ahop/internal/handlers.(*CredentialHandler).Delete-fm (7 handlers)
[GIN-debug] GET    /api/v1/credentials/:id/decrypt --> ahop/internal/handlers.(*CredentialHandler).GetDecrypted-fm (7 handlers)
[GIN-debug] GET    /api/v1/credentials/:id/logs --> ahop/internal/handlers.(*CredentialHandler).GetUsageLogs-fm (7 handlers)
[GIN-debug] GET    /api/v1/credentials/:id/tags --> ahop/internal/handlers.(*CredentialHandler).GetTags-fm (7 handlers)
[GIN-debug] PUT    /api/v1/credentials/:id/tags --> ahop/internal/handlers.(*CredentialHandler).UpdateTags-fm (7 handlers)
[GIN-debug] GET    /api/v1/tags              --> ahop/internal/handlers.(*TagHandler).GetAll-fm (7 handlers)
[GIN-debug] GET    /api/v1/tags/:id          --> ahop/internal/handlers.(*TagHandler).GetByID-fm (7 handlers)
[GIN-debug] POST   /api/v1/tags              --> ahop/internal/handlers.(*TagHandler).Create-fm (7 handlers)
[GIN-debug] PUT    /api/v1/tags/:id          --> ahop/internal/handlers.(*TagHandler).Update-fm (7 handlers)
[GIN-debug] DELETE /api/v1/tags/:id          --> ahop/internal/handlers.(*TagHandler).Delete-fm (7 handlers)
[GIN-debug] GET    /api/v1/tags/grouped      --> ahop/internal/handlers.(*TagHandler).GetGroupedByKey-fm (7 handlers)
[GIN-debug] GET    /api/v1/hosts/template    --> ahop/internal/handlers.(*HostHandler).DownloadTemplate-fm (7 handlers)
[GIN-debug] POST   /api/v1/hosts/import      --> ahop/internal/handlers.(*HostHandler).Import-fm (7 handlers)
[GIN-debug] GET    /api/v1/hosts/export      --> ahop/internal/handlers.(*HostHandler).Export-fm (7 handlers)
[GIN-debug] POST   /api/v1/hosts             --> ahop/internal/handlers.(*HostHandler).Create-fm (7 handlers)
[GIN-debug] GET    /api/v1/hosts             --> ahop/internal/handlers.(*HostHandler).List-fm (7 handlers)
[GIN-debug] GET    /api/v1/hosts/:id         --> ahop/internal/handlers.(*HostHandler).GetByID-fm (7 handlers)
[GIN-debug] PUT    /api/v1/hosts/:id         --> ahop/internal/handlers.(*HostHandler).Update-fm (7 handlers)
[GIN-debug] DELETE /api/v1/hosts/:id         --> ahop/internal/handlers.(*HostHandler).Delete-fm (7 handlers)
[GIN-debug] GET    /api/v1/hosts/:id/tags    --> ahop/internal/handlers.(*HostHandler).GetTags-fm (7 handlers)
[GIN-debug] PUT    /api/v1/hosts/:id/tags    --> ahop/internal/handlers.(*HostHandler).UpdateTags-fm (7 handlers)
[GIN-debug] POST   /api/v1/hosts/:id/test-connection --> ahop/internal/handlers.(*HostHandler).TestConnection-fm (7 handlers)
[GIN-debug] POST   /api/v1/hosts/:id/test-ping --> ahop/internal/handlers.(*HostHandler).TestPing-fm (7 handlers)
[GIN-debug] POST   /api/v1/tasks             --> ahop/internal/handlers.(*TaskHandler).Create-fm (7 handlers)
[GIN-debug] GET    /api/v1/tasks             --> ahop/internal/handlers.(*TaskHandler).List-fm (7 handlers)
[GIN-debug] GET    /api/v1/tasks/:id         --> ahop/internal/handlers.(*TaskHandler).GetByID-fm (7 handlers)
[GIN-debug] POST   /api/v1/tasks/:id/cancel  --> ahop/internal/handlers.(*TaskHandler).Cancel-fm (7 handlers)
[GIN-debug] GET    /api/v1/tasks/:id/logs    --> ahop/internal/handlers.(*TaskHandler).GetLogs-fm (7 handlers)
[GIN-debug] GET    /api/v1/tasks/stats       --> ahop/internal/handlers.(*TaskHandler).GetStats-fm (7 handlers)
[GIN-debug] GET    /api/v1/ws/tasks/:id/logs --> ahop/internal/handlers.(*WebSocketHandler).TaskLogs-fm (5 handlers)
[GIN-debug] GET    /api/v1/ws/network-scan/:scan_id --> ahop/internal/handlers.(*WebSocketHandler).NetworkScanResults-fm (5 handlers)
[GIN-debug] POST   /api/v1/worker/auth       --> ahop/internal/handlers.(*WorkerAuthHandler).Authenticate-fm (5 handlers)
[GIN-debug] POST   /api/v1/admin/worker-auths --> ahop/internal/handlers.(*WorkerAuthHandler).CreateWorkerAuth-fm (7 handlers)
[GIN-debug] GET    /api/v1/admin/worker-auths --> ahop/internal/handlers.(*WorkerAuthHandler).ListWorkerAuths-fm (7 handlers)
[GIN-debug] PUT    /api/v1/admin/worker-auths/:id/status --> ahop/internal/handlers.(*WorkerAuthHandler).UpdateWorkerAuthStatus-fm (7 handlers)
[GIN-debug] DELETE /api/v1/admin/worker-auths/:id --> ahop/internal/handlers.(*WorkerAuthHandler).DeleteWorkerAuth-fm (7 handlers)
[GIN-debug] GET    /api/v1/workers           --> ahop/internal/handlers.(*WorkerManagerHandler).GetAllWorkers-fm (7 handlers)
[GIN-debug] GET    /api/v1/workers/summary   --> ahop/internal/handlers.(*WorkerManagerHandler).GetWorkerSummary-fm (7 handlers)
[GIN-debug] GET    /api/v1/workers/active    --> ahop/internal/handlers.(*WorkerManagerHandler).GetActiveWorkers-fm (7 handlers)
[GIN-debug] GET    /api/v1/workers/status    --> ahop/internal/handlers.(*WorkerManagerHandler).GetWorkersByStatus-fm (7 handlers)
[GIN-debug] GET    /api/v1/workers/dashboard --> ahop/internal/handlers.(*WorkerManagerHandler).GetDashboardData-fm (7 handlers)
[GIN-debug] GET    /api/v1/workers/:worker_id --> ahop/internal/handlers.(*WorkerManagerHandler).GetWorkerByID-fm (7 handlers)
[GIN-debug] GET    /api/v1/workers/:worker_id/tasks --> ahop/internal/handlers.(*WorkerManagerHandler).GetWorkerTasks-fm (7 handlers)
[GIN-debug] DELETE /api/v1/workers/:worker_id --> ahop/internal/handlers.(*WorkerManagerHandler).RemoveOfflineWorker-fm (7 handlers)
[GIN-debug] GET    /api/v1/workers/queue/stats --> ahop/internal/handlers.(*WorkerManagerHandler).GetQueueStats-fm (7 handlers)
[GIN-debug] POST   /api/v1/network-scan/start --> ahop/internal/handlers.(*NetworkScanHandler).StartScan-fm (7 handlers)
[GIN-debug] GET    /api/v1/network-scan/:scan_id --> ahop/internal/handlers.(*NetworkScanHandler).GetScanStatus-fm (7 handlers)
[GIN-debug] POST   /api/v1/network-scan/:scan_id/cancel --> ahop/internal/handlers.(*NetworkScanHandler).CancelScan-fm (7 handlers)
[GIN-debug] GET    /api/v1/network-scan/active --> ahop/internal/handlers.(*NetworkScanHandler).GetActiveTasks-fm (7 handlers)
[GIN-debug] POST   /api/v1/network-scan/estimate --> ahop/internal/handlers.(*NetworkScanHandler).EstimateTargets-fm (7 handlers)
[GIN-debug] GET    /api/v1/network-scan/:scan_id/result --> ahop/internal/handlers.(*NetworkScanHandler).GetScanResult-fm (7 handlers)
[GIN-debug] POST   /api/v1/network-scan/import --> ahop/internal/handlers.(*NetworkScanHandler).ImportDiscoveredHosts-fm (7 handlers)
{"level":"info","msg":"Server started on port 8080","time":"2025-07-22T19:08:00+08:00"}
{"level":"fatal","msg":"Failed to start server: listen tcp :8080: bind: address already in use","time":"2025-07-22T19:08:00+08:00"}
exit status 1
