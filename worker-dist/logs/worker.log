{"level":"info","master_url":"http://localhost:8080","msg":"启动AHOP Worker","time":"2025-07-22 09:36:49","version":"1.0.0","worker_name":"Test Worker"}
{"level":"info","master_url":"http://localhost:8080","msg":"Worker认证成功，获得数据库和Redis凭据","time":"2025-07-22 09:36:49","worker_id":"worker-development-1753148209298293971"}
{"error":"Redis连接失败: NOAUTH Authentication required.","level":"fatal","msg":"创建Worker失败","time":"2025-07-22 09:36:49"}
{"level":"info","master_url":"http://localhost:8080","msg":"启动AHOP Worker","time":"2025-07-22 09:38:32","version":"1.0.0","worker_name":"Test Worker"}
{"level":"info","master_url":"http://localhost:8080","msg":"Worker认证成功，获得数据库和Redis凭据","time":"2025-07-22 09:38:32","worker_id":"worker-development-1753148312464145714"}
{"error":"Redis连接失败: NOAUTH Authentication required.","level":"fatal","msg":"创建Worker失败","time":"2025-07-22 09:38:32"}
{"level":"info","master_url":"http://localhost:8080","msg":"启动AHOP Worker","time":"2025-07-22 09:40:53","version":"1.0.0","worker_name":"Test Worker"}
{"level":"info","master_url":"http://localhost:8080","msg":"Worker认证成功，获得数据库和Redis凭据","time":"2025-07-22 09:40:53","worker_id":"worker-development-1753148453538667444"}
{"has_password":false,"level":"debug","msg":"Redis配置详情","redis_db":0,"redis_host":"localhost","redis_port":6379,"redis_prefix":"ahop:queue","time":"2025-07-22 09:40:53"}
{"error":"Redis连接失败: NOAUTH Authentication required.","level":"fatal","msg":"创建Worker失败","time":"2025-07-22 09:40:53"}
{"level":"info","master_url":"http://localhost:8080","msg":"启动AHOP Worker","time":"2025-07-22 09:43:59","version":"1.0.0","worker_name":"Test Worker"}
{"level":"info","master_url":"http://localhost:8080","msg":"Worker认证成功，获得数据库和Redis凭据","time":"2025-07-22 09:43:59","worker_id":"worker-development-1753148639905995790"}
{"has_password":true,"level":"debug","msg":"Redis配置详情","redis_db":0,"redis_host":"localhost","redis_port":6379,"redis_prefix":"ahop:queue","time":"2025-07-22 09:43:59"}
{"executors":2,"level":"info","msg":"已注册任务执行器","time":"2025-07-22 09:43:59"}
{"concurrency":2,"level":"info","msg":"Worker启动成功","time":"2025-07-22 09:43:59","worker_id":"worker-development-1753148639905995790"}
{"level":"info","msg":"Worker启动成功，正在等待任务...","time":"2025-07-22 09:43:59"}
{"consumer_id":0,"level":"info","msg":"任务消费者启动","time":"2025-07-22 09:43:59","worker_id":"worker-development-1753148639905995790"}
{"consumer_id":1,"level":"info","msg":"任务消费者启动","time":"2025-07-22 09:43:59","worker_id":"worker-development-1753148639905995790"}
{"level":"info","master_url":"http://localhost:8080","msg":"启动AHOP Worker","time":"2025-07-22 09:46:16","version":"1.0.0","worker_name":"Test Worker"}
{"level":"info","master_url":"http://localhost:8080","msg":"Worker认证成功，获得数据库和Redis凭据","time":"2025-07-22 09:46:16","worker_id":"worker-development-1753148776304919061"}
{"has_password":true,"level":"debug","msg":"Redis配置详情","redis_db":0,"redis_host":"localhost","redis_port":6379,"redis_prefix":"ahop:queue","time":"2025-07-22 09:46:16"}
{"executors":2,"level":"info","msg":"已注册任务执行器","time":"2025-07-22 09:46:16"}
{"concurrency":2,"level":"info","msg":"Worker启动成功","time":"2025-07-22 09:46:16","worker_id":"worker-development-1753148776304919061"}
{"level":"info","msg":"Worker启动成功，正在等待任务...","time":"2025-07-22 09:46:16"}
{"consumer_id":0,"level":"info","msg":"任务消费者启动","time":"2025-07-22 09:46:16","worker_id":"worker-development-1753148776304919061"}
{"consumer_id":1,"level":"info","msg":"任务消费者启动","time":"2025-07-22 09:46:16","worker_id":"worker-development-1753148776304919061"}
{"level":"info","master_url":"http://localhost:8080","msg":"启动AHOP Worker","time":"2025-07-22 09:48:53","version":"1.0.0","worker_name":"Test Worker"}
{"level":"info","master_url":"http://localhost:8080","msg":"Worker认证成功，获得数据库和Redis凭据","time":"2025-07-22 09:48:53","worker_id":"worker-development-1753148933014583838"}
{"has_password":true,"level":"debug","msg":"Redis配置详情","redis_db":0,"redis_host":"localhost","redis_port":6379,"redis_prefix":"ahop:queue","time":"2025-07-22 09:48:53"}
{"executors":2,"level":"info","msg":"已注册任务执行器","time":"2025-07-22 09:48:53"}
{"concurrency":2,"level":"info","msg":"Worker启动成功","time":"2025-07-22 09:48:53","worker_id":"worker-development-1753148933014583838"}
{"level":"info","msg":"Worker启动成功，正在等待任务...","time":"2025-07-22 09:48:53"}
{"consumer_id":0,"level":"info","msg":"任务消费者启动","time":"2025-07-22 09:48:53","worker_id":"worker-development-1753148933014583838"}
{"consumer_id":1,"level":"info","msg":"任务消费者启动","time":"2025-07-22 09:48:53","worker_id":"worker-development-1753148933014583838"}
{"level":"info","msg":"收到退出信号，正在停止Worker...","time":"2025-07-22 09:51:23"}
{"level":"info","msg":"收到退出信号，正在停止Worker...","time":"2025-07-22 09:51:23"}
{"level":"info","msg":"开始停止Worker","time":"2025-07-22 09:51:23"}
{"level":"info","msg":"开始停止Worker","time":"2025-07-22 09:51:23"}
{"consumer_id":0,"level":"info","msg":"任务消费者收到退出信号","time":"2025-07-22 09:51:23","worker_id":"worker-development-1753148776304919061"}
{"consumer_id":1,"level":"info","msg":"任务消费者收到退出信号","time":"2025-07-22 09:51:23","worker_id":"worker-development-1753148776304919061"}
{"level":"info","msg":"所有任务已完成","time":"2025-07-22 09:51:23"}
{"level":"info","msg":"Worker已停止","time":"2025-07-22 09:51:23"}
{"level":"info","msg":"Worker已优雅停止","time":"2025-07-22 09:51:23"}
{"consumer_id":1,"level":"info","msg":"任务消费者收到退出信号","time":"2025-07-22 09:51:23","worker_id":"worker-development-1753148933014583838"}
{"consumer_id":0,"level":"info","msg":"任务消费者收到退出信号","time":"2025-07-22 09:51:23","worker_id":"worker-development-1753148933014583838"}
{"level":"info","msg":"所有任务已完成","time":"2025-07-22 09:51:24"}
{"level":"info","msg":"Worker已停止","time":"2025-07-22 09:51:24"}
{"level":"info","msg":"Worker已优雅停止","time":"2025-07-22 09:51:24"}
{"level":"info","master_url":"http://localhost:8080","msg":"启动AHOP Worker","time":"2025-07-22 09:51:37","version":"1.0.0","worker_name":"Test Worker"}
{"configured_id":"worker-test-001","level":"info","msg":"使用配置的worker_id","time":"2025-07-22 09:51:37"}
{"level":"info","master_url":"http://localhost:8080","msg":"Worker认证成功，获得数据库和Redis凭据","time":"2025-07-22 09:51:37","worker_id":"worker-test-001"}
{"executors":2,"level":"info","msg":"已注册任务执行器","time":"2025-07-22 09:51:37"}
{"concurrency":2,"level":"info","msg":"Worker启动成功","time":"2025-07-22 09:51:37","worker_id":"worker-test-001"}
{"consumer_id":0,"level":"info","msg":"任务消费者启动","time":"2025-07-22 09:51:37","worker_id":"worker-test-001"}
{"level":"info","msg":"Worker启动成功，正在等待任务...","time":"2025-07-22 09:51:37"}
{"consumer_id":1,"level":"info","msg":"任务消费者启动","time":"2025-07-22 09:51:37","worker_id":"worker-test-001"}
{"level":"info","master_url":"http://localhost:8080","msg":"启动AHOP Worker","time":"2025-07-22 09:54:42","version":"1.0.0","worker_name":"Test Worker"}
{"error":"worker_id未配置，请在配置文件中设置worker.worker_id","level":"fatal","msg":"创建Worker失败","time":"2025-07-22 09:54:42"}
{"level":"info","master_url":"http://localhost:8080","msg":"启动AHOP Worker","time":"2025-07-22 10:06:24","version":"1.0.0","worker_name":"Test Worker"}
{"level":"info","msg":"使用配置的worker_id","time":"2025-07-22 10:06:24","worker_id":"worker-test-001"}
{"level":"info","master_url":"http://localhost:8080","msg":"Worker认证成功，获得数据库和Redis凭据","time":"2025-07-22 10:06:24","worker_id":"worker-test-001"}
{"executors":2,"level":"info","msg":"已注册任务执行器","time":"2025-07-22 10:06:24"}
{"concurrency":2,"level":"info","msg":"Worker启动成功","time":"2025-07-22 10:06:24","worker_id":"worker-test-001"}
{"level":"info","msg":"Worker启动成功，正在等待任务...","time":"2025-07-22 10:06:24"}
{"consumer_id":0,"level":"info","msg":"任务消费者启动","time":"2025-07-22 10:06:24","worker_id":"worker-test-001"}
{"consumer_id":1,"level":"info","msg":"任务消费者启动","time":"2025-07-22 10:06:24","worker_id":"worker-test-001"}
{"level":"info","master_url":"http://localhost:8080","msg":"启动AHOP Worker","time":"2025-07-22 10:23:30","version":"1.0.0","worker_name":"Test Worker"}
{"level":"info","msg":"使用配置的worker_id","time":"2025-07-22 10:23:30","worker_id":"worker-test-001"}
{"level":"info","master_url":"http://localhost:8080","msg":"Worker认证成功，获得数据库和Redis凭据","time":"2025-07-22 10:23:30","worker_id":"worker-test-001"}
{"executors":2,"level":"info","msg":"已注册任务执行器","time":"2025-07-22 10:23:30"}
{"concurrency":2,"level":"info","msg":"Worker启动成功","time":"2025-07-22 10:23:30","worker_id":"worker-test-001"}
{"level":"info","msg":"Worker启动成功，正在等待任务...","time":"2025-07-22 10:23:30"}
{"consumer_id":1,"level":"info","msg":"任务消费者启动","time":"2025-07-22 10:23:30","worker_id":"worker-test-001"}
{"consumer_id":0,"level":"info","msg":"任务消费者启动","time":"2025-07-22 10:23:30","worker_id":"worker-test-001"}
{"level":"info","msg":"收到退出信号，正在停止Worker...","time":"2025-07-22 10:23:38"}
{"level":"info","msg":"开始停止Worker","time":"2025-07-22 10:23:38"}
{"consumer_id":1,"level":"info","msg":"任务消费者收到退出信号","time":"2025-07-22 10:23:39","worker_id":"worker-test-001"}
{"consumer_id":0,"level":"info","msg":"任务消费者收到退出信号","time":"2025-07-22 10:23:39","worker_id":"worker-test-001"}
{"level":"info","msg":"所有任务已完成","time":"2025-07-22 10:23:39"}
{"level":"info","msg":"Worker已停止","time":"2025-07-22 10:23:39"}
{"level":"info","msg":"Worker已优雅停止","time":"2025-07-22 10:23:39"}
{"level":"info","master_url":"http://localhost:8080","msg":"启动AHOP Worker","time":"2025-07-22 10:23:40","version":"1.0.0","worker_name":"Test Worker"}
{"level":"info","msg":"使用配置的worker_id","time":"2025-07-22 10:23:40","worker_id":"worker-test-001"}
{"level":"info","master_url":"http://localhost:8080","msg":"Worker认证成功，获得数据库和Redis凭据","time":"2025-07-22 10:23:40","worker_id":"worker-test-001"}
{"executors":2,"level":"info","msg":"已注册任务执行器","time":"2025-07-22 10:23:40"}
{"concurrency":3,"level":"info","msg":"Worker启动成功","time":"2025-07-22 10:23:40","worker_id":"worker-test-001"}
{"level":"info","msg":"Worker启动成功，正在等待任务...","time":"2025-07-22 10:23:40"}
{"consumer_id":0,"level":"info","msg":"任务消费者启动","time":"2025-07-22 10:23:40","worker_id":"worker-test-001"}
{"consumer_id":1,"level":"info","msg":"任务消费者启动","time":"2025-07-22 10:23:40","worker_id":"worker-test-001"}
{"consumer_id":2,"level":"info","msg":"任务消费者启动","time":"2025-07-22 10:23:40","worker_id":"worker-test-001"}
{"level":"info","msg":"收到退出信号，正在停止Worker...","time":"2025-07-22 10:23:44"}
{"level":"info","msg":"开始停止Worker","time":"2025-07-22 10:23:44"}
{"consumer_id":0,"level":"info","msg":"任务消费者收到退出信号","time":"2025-07-22 10:23:45","worker_id":"worker-test-001"}
{"consumer_id":1,"level":"info","msg":"任务消费者收到退出信号","time":"2025-07-22 10:23:45","worker_id":"worker-test-001"}
{"consumer_id":2,"level":"info","msg":"任务消费者收到退出信号","time":"2025-07-22 10:23:45","worker_id":"worker-test-001"}
{"level":"info","msg":"所有任务已完成","time":"2025-07-22 10:23:45"}
{"level":"info","msg":"Worker已停止","time":"2025-07-22 10:23:45"}
{"level":"info","msg":"Worker已优雅停止","time":"2025-07-22 10:23:45"}
{"level":"info","master_url":"http://localhost:8080","msg":"启动AHOP Worker","time":"2025-07-22 10:26:29","version":"1.0.0","worker_name":"Test Worker"}
{"level":"info","msg":"使用配置的worker_id","time":"2025-07-22 10:26:29","worker_id":"worker-test-001"}
{"level":"info","master_url":"http://localhost:8080","msg":"Worker认证成功，获得数据库和Redis凭据","time":"2025-07-22 10:26:29","worker_id":"worker-test-001"}
{"executors":2,"level":"info","msg":"已注册任务执行器","time":"2025-07-22 10:26:29"}
{"concurrency":3,"level":"info","msg":"Worker启动成功","time":"2025-07-22 10:26:29","worker_id":"worker-test-001"}
{"level":"info","msg":"Worker启动成功，正在等待任务...","time":"2025-07-22 10:26:29"}
{"consumer_id":2,"level":"info","msg":"任务消费者启动","time":"2025-07-22 10:26:29","worker_id":"worker-test-001"}
{"consumer_id":0,"level":"info","msg":"任务消费者启动","time":"2025-07-22 10:26:29","worker_id":"worker-test-001"}
{"consumer_id":1,"level":"info","msg":"任务消费者启动","time":"2025-07-22 10:26:29","worker_id":"worker-test-001"}
{"consumer_id":2,"level":"info","msg":"开始处理任务","source":"api","task_id":"4c0ceefe-ed83-4f4b-8dcd-1938004297a2","task_type":"collect","tenant_id":1,"tenant_name":"默认租户","time":"2025-07-22 10:26:29","user_id":1,"username":"admin","worker_id":"worker-test-001"}
{"consumer_id":1,"level":"info","msg":"开始处理任务","source":"api","task_id":"d9f56a49-3ad9-4327-aab9-ed3278b247a3","task_type":"ping","tenant_id":1,"tenant_name":"默认租户","time":"2025-07-22 10:26:29","user_id":1,"username":"admin","worker_id":"worker-test-001"}
{"credential_id":103,"credential_type":"ssh_key","host_ip":"null","level":"debug","msg":"准备主机连接信息","time":"2025-07-22 10:26:29","username":"root"}
{"consumer_id":2,"error":"解析参数失败: 解析hosts数据失败: json: cannot unmarshal string into Go value of type executor.TaskHost","level":"error","msg":"任务执行失败","source":"api","task_id":"4c0ceefe-ed83-4f4b-8dcd-1938004297a2","task_type":"collect","tenant_id":1,"tenant_name":"默认租户","time":"2025-07-22 10:26:29","user_id":1,"username":"admin","worker_id":"worker-test-001"}
{"credential_id":103,"credential_type":"ssh_key","host_ip":"null","level":"debug","msg":"准备主机连接信息","time":"2025-07-22 10:26:29","username":"root"}
{"consumer_id":1,"error":"解析参数失败: 没有有效的主机","level":"error","msg":"任务执行失败","source":"api","task_id":"d9f56a49-3ad9-4327-aab9-ed3278b247a3","task_type":"ping","tenant_id":1,"tenant_name":"默认租户","time":"2025-07-22 10:26:29","user_id":1,"username":"admin","worker_id":"worker-test-001"}
{"consumer_id":2,"level":"info","msg":"开始处理任务","source":"api","task_id":"c938d7fa-a17b-40e1-92a5-e6494350408c","task_type":"ping","tenant_id":1,"tenant_name":"默认租户","time":"2025-07-22 10:29:03","user_id":1,"username":"admin","worker_id":"worker-test-001"}
{"credential_id":103,"credential_type":"ssh_key","host_ip":"127.0.0.1","level":"debug","msg":"准备主机连接信息","time":"2025-07-22 10:29:03","username":"root"}
{"consumer_id":2,"error":"解析参数失败: 没有有效的主机","level":"error","msg":"任务执行失败","source":"api","task_id":"c938d7fa-a17b-40e1-92a5-e6494350408c","task_type":"ping","tenant_id":1,"tenant_name":"默认租户","time":"2025-07-22 10:29:03","user_id":1,"username":"admin","worker_id":"worker-test-001"}
{"consumer_id":1,"level":"info","msg":"开始处理任务","source":"api","task_id":"e90f3e99-3298-45d4-bb08-8bed06a344cd","task_type":"collect","tenant_id":1,"tenant_name":"默认租户","time":"2025-07-22 10:29:03","user_id":1,"username":"admin","worker_id":"worker-test-001"}
{"credential_id":103,"credential_type":"ssh_key","host_ip":"127.0.0.1","level":"debug","msg":"准备主机连接信息","time":"2025-07-22 10:29:03","username":"root"}
{"consumer_id":1,"error":"解析参数失败: 解析hosts数据失败: json: cannot unmarshal string into Go value of type executor.TaskHost","level":"error","msg":"任务执行失败","source":"api","task_id":"e90f3e99-3298-45d4-bb08-8bed06a344cd","task_type":"collect","tenant_id":1,"tenant_name":"默认租户","time":"2025-07-22 10:29:03","user_id":1,"username":"admin","worker_id":"worker-test-001"}
{"level":"info","msg":"收到退出信号，正在停止Worker...","time":"2025-07-22 10:31:56"}
{"level":"info","msg":"开始停止Worker","time":"2025-07-22 10:31:56"}
{"consumer_id":2,"level":"info","msg":"任务消费者收到退出信号","time":"2025-07-22 10:31:56","worker_id":"worker-test-001"}
{"consumer_id":1,"level":"info","msg":"任务消费者收到退出信号","time":"2025-07-22 10:31:56","worker_id":"worker-test-001"}
{"consumer_id":0,"level":"info","msg":"任务消费者收到退出信号","time":"2025-07-22 10:31:57","worker_id":"worker-test-001"}
{"level":"info","msg":"所有任务已完成","time":"2025-07-22 10:31:57"}
{"level":"info","msg":"Worker已停止","time":"2025-07-22 10:31:57"}
{"level":"info","msg":"Worker已优雅停止","time":"2025-07-22 10:31:57"}
{"level":"info","master_url":"http://localhost:8080","msg":"启动AHOP Worker","time":"2025-07-22 10:32:18","version":"1.0.0","worker_name":"Test Worker"}
{"level":"info","msg":"使用配置的worker_id","time":"2025-07-22 10:32:18","worker_id":"worker-test-001"}
{"level":"info","master_url":"http://localhost:8080","msg":"Worker认证成功，获得数据库和Redis凭据","time":"2025-07-22 10:32:18","worker_id":"worker-test-001"}
{"executors":2,"level":"info","msg":"已注册任务执行器","time":"2025-07-22 10:32:18"}
{"concurrency":3,"level":"info","msg":"Worker启动成功","time":"2025-07-22 10:32:18","worker_id":"worker-test-001"}
{"level":"info","msg":"Worker启动成功，正在等待任务...","time":"2025-07-22 10:32:18"}
{"consumer_id":2,"level":"info","msg":"任务消费者启动","time":"2025-07-22 10:32:18","worker_id":"worker-test-001"}
{"consumer_id":0,"level":"info","msg":"任务消费者启动","time":"2025-07-22 10:32:18","worker_id":"worker-test-001"}
{"consumer_id":1,"level":"info","msg":"任务消费者启动","time":"2025-07-22 10:32:18","worker_id":"worker-test-001"}
{"consumer_id":0,"level":"info","msg":"开始处理任务","source":"api","task_id":"678f5455-d31e-4ff8-8295-556b92b4481e","task_type":"ping","tenant_id":1,"tenant_name":"默认租户","time":"2025-07-22 10:32:20","user_id":1,"username":"admin","worker_id":"worker-test-001"}
{"credential_id":103,"credential_type":"ssh_key","host_ip":"127.0.0.1","level":"debug","msg":"准备主机连接信息","time":"2025-07-22 10:32:20","username":"root"}
{"consumer_id":0,"error":"解析参数失败: 没有有效的主机","level":"error","msg":"任务执行失败","source":"api","task_id":"678f5455-d31e-4ff8-8295-556b92b4481e","task_type":"ping","tenant_id":1,"tenant_name":"默认租户","time":"2025-07-22 10:32:20","user_id":1,"username":"admin","worker_id":"worker-test-001"}
{"consumer_id":1,"level":"info","msg":"开始处理任务","source":"api","task_id":"4ac5e838-3b59-4a84-9e83-e359aa6064e9","task_type":"collect","tenant_id":1,"tenant_name":"默认租户","time":"2025-07-22 10:32:20","user_id":1,"username":"admin","worker_id":"worker-test-001"}
{"credential_id":103,"credential_type":"ssh_key","host_ip":"127.0.0.1","level":"debug","msg":"准备主机连接信息","time":"2025-07-22 10:32:20","username":"root"}
{"consumer_id":1,"error":"解析参数失败: 解析hosts数据失败: json: cannot unmarshal string into Go value of type executor.TaskHost","level":"error","msg":"任务执行失败","source":"api","task_id":"4ac5e838-3b59-4a84-9e83-e359aa6064e9","task_type":"collect","tenant_id":1,"tenant_name":"默认租户","time":"2025-07-22 10:32:20","user_id":1,"username":"admin","worker_id":"worker-test-001"}
{"consumer_id":2,"level":"info","msg":"开始处理任务","source":"api","task_id":"29d41663-3f4e-4d7c-a89e-7a789df1bad4","task_type":"ping","tenant_id":1,"tenant_name":"默认租户","time":"2025-07-22 10:41:14","user_id":1,"username":"admin","worker_id":"worker-test-001"}
{"credential_id":1,"credential_type":"ssh_key","host_ip":"127.0.0.1","level":"debug","msg":"准备主机连接信息","time":"2025-07-22 10:41:14","username":""}
{"consumer_id":2,"error":"解析参数失败: 没有有效的主机","level":"error","msg":"任务执行失败","source":"api","task_id":"29d41663-3f4e-4d7c-a89e-7a789df1bad4","task_type":"ping","tenant_id":1,"tenant_name":"默认租户","time":"2025-07-22 10:41:14","user_id":1,"username":"admin","worker_id":"worker-test-001"}
{"level":"info","msg":"收到退出信号，正在停止Worker...","time":"2025-07-22 10:44:19"}
{"level":"info","msg":"开始停止Worker","time":"2025-07-22 10:44:19"}
{"consumer_id":2,"level":"info","msg":"任务消费者收到退出信号","time":"2025-07-22 10:44:19","worker_id":"worker-test-001"}
{"consumer_id":1,"level":"info","msg":"任务消费者收到退出信号","time":"2025-07-22 10:44:19","worker_id":"worker-test-001"}
{"consumer_id":0,"level":"info","msg":"任务消费者收到退出信号","time":"2025-07-22 10:44:19","worker_id":"worker-test-001"}
{"level":"info","msg":"所有任务已完成","time":"2025-07-22 10:44:19"}
{"level":"info","msg":"Worker已停止","time":"2025-07-22 10:44:19"}
{"level":"info","msg":"Worker已优雅停止","time":"2025-07-22 10:44:19"}
{"level":"info","master_url":"http://localhost:8080","msg":"启动AHOP Worker","time":"2025-07-22 10:44:39","version":"1.0.0","worker_name":"Test Worker"}
{"level":"info","msg":"使用配置的worker_id","time":"2025-07-22 10:44:39","worker_id":"worker-test-001"}
{"level":"info","master_url":"http://localhost:8080","msg":"Worker认证成功，获得数据库和Redis凭据","time":"2025-07-22 10:44:39","worker_id":"worker-test-001"}
{"executors":2,"level":"info","msg":"已注册任务执行器","time":"2025-07-22 10:44:40"}
{"concurrency":3,"level":"info","msg":"Worker启动成功","time":"2025-07-22 10:44:40","worker_id":"worker-test-001"}
{"level":"info","msg":"Worker启动成功，正在等待任务...","time":"2025-07-22 10:44:40"}
{"consumer_id":1,"level":"info","msg":"任务消费者启动","time":"2025-07-22 10:44:40","worker_id":"worker-test-001"}
{"consumer_id":2,"level":"info","msg":"任务消费者启动","time":"2025-07-22 10:44:40","worker_id":"worker-test-001"}
{"consumer_id":0,"level":"info","msg":"任务消费者启动","time":"2025-07-22 10:44:40","worker_id":"worker-test-001"}
{"consumer_id":0,"level":"info","msg":"开始处理任务","source":"api","task_id":"9f9ca417-afda-49ae-872b-044172b59873","task_type":"ping","tenant_id":1,"tenant_name":"默认租户","time":"2025-07-22 10:44:42","user_id":1,"username":"admin","worker_id":"worker-test-001"}
{"credential_id":103,"credential_type":"ssh_key","host_ip":"127.0.0.1","level":"debug","msg":"准备主机连接信息","time":"2025-07-22 10:44:42","username":"root"}
{"consumer_id":0,"error":"解析参数失败: 没有有效的主机","level":"error","msg":"任务执行失败","source":"api","task_id":"9f9ca417-afda-49ae-872b-044172b59873","task_type":"ping","tenant_id":1,"tenant_name":"默认租户","time":"2025-07-22 10:44:42","user_id":1,"username":"admin","worker_id":"worker-test-001"}
{"consumer_id":2,"level":"info","msg":"开始处理任务","source":"api","task_id":"3b35db51-7d86-4338-a649-17d1c1d06c6e","task_type":"collect","tenant_id":1,"tenant_name":"默认租户","time":"2025-07-22 10:44:42","user_id":1,"username":"admin","worker_id":"worker-test-001"}
{"credential_id":103,"credential_type":"ssh_key","host_ip":"127.0.0.1","level":"debug","msg":"准备主机连接信息","time":"2025-07-22 10:44:42","username":"root"}
{"consumer_id":2,"error":"解析参数失败: 没有有效的主机","level":"error","msg":"任务执行失败","source":"api","task_id":"3b35db51-7d86-4338-a649-17d1c1d06c6e","task_type":"collect","tenant_id":1,"tenant_name":"默认租户","time":"2025-07-22 10:44:42","user_id":1,"username":"admin","worker_id":"worker-test-001"}
{"level":"info","msg":"收到退出信号，正在停止Worker...","time":"2025-07-22 10:45:30"}
{"level":"info","msg":"开始停止Worker","time":"2025-07-22 10:45:30"}
{"consumer_id":2,"level":"info","msg":"任务消费者收到退出信号","time":"2025-07-22 10:45:30","worker_id":"worker-test-001"}
{"consumer_id":0,"level":"info","msg":"任务消费者收到退出信号","time":"2025-07-22 10:45:30","worker_id":"worker-test-001"}
{"consumer_id":1,"level":"info","msg":"任务消费者收到退出信号","time":"2025-07-22 10:45:31","worker_id":"worker-test-001"}
{"level":"info","msg":"所有任务已完成","time":"2025-07-22 10:45:31"}
{"level":"info","msg":"Worker已停止","time":"2025-07-22 10:45:31"}
{"level":"info","msg":"Worker已优雅停止","time":"2025-07-22 10:45:31"}
{"level":"info","master_url":"http://localhost:8080","msg":"启动AHOP Worker","time":"2025-07-22 10:45:43","version":"1.0.0","worker_name":"Test Worker"}
{"level":"info","msg":"使用配置的worker_id","time":"2025-07-22 10:45:43","worker_id":"worker-test-001"}
{"level":"info","master_url":"http://localhost:8080","msg":"Worker认证成功，获得数据库和Redis凭据","time":"2025-07-22 10:45:43","worker_id":"worker-test-001"}
{"executors":2,"level":"info","msg":"已注册任务执行器","time":"2025-07-22 10:45:43"}
{"concurrency":3,"level":"info","msg":"Worker启动成功","time":"2025-07-22 10:45:43","worker_id":"worker-test-001"}
{"level":"info","msg":"Worker启动成功，正在等待任务...","time":"2025-07-22 10:45:43"}
{"consumer_id":0,"level":"info","msg":"任务消费者启动","time":"2025-07-22 10:45:43","worker_id":"worker-test-001"}
{"consumer_id":1,"level":"info","msg":"任务消费者启动","time":"2025-07-22 10:45:43","worker_id":"worker-test-001"}
{"consumer_id":2,"level":"info","msg":"任务消费者启动","time":"2025-07-22 10:45:43","worker_id":"worker-test-001"}
{"consumer_id":2,"level":"info","msg":"开始处理任务","source":"api","task_id":"a91142b1-472b-4b21-917c-9619513cacec","task_type":"ping","tenant_id":1,"tenant_name":"默认租户","time":"2025-07-22 10:45:46","user_id":1,"username":"admin","worker_id":"worker-test-001"}
{"credential_id":103,"credential_type":"ssh_key","host_ip":"127.0.0.1","level":"debug","msg":"准备主机连接信息","time":"2025-07-22 10:45:46","username":"root"}
{"consumer_id":2,"error":"解析参数失败: 没有有效的主机","level":"error","msg":"任务执行失败","source":"api","task_id":"a91142b1-472b-4b21-917c-9619513cacec","task_type":"ping","tenant_id":1,"tenant_name":"默认租户","time":"2025-07-22 10:45:46","user_id":1,"username":"admin","worker_id":"worker-test-001"}
{"level":"info","msg":"收到退出信号，正在停止Worker...","time":"2025-07-22 10:49:31"}
{"level":"info","msg":"开始停止Worker","time":"2025-07-22 10:49:31"}
{"consumer_id":2,"level":"info","msg":"任务消费者收到退出信号","time":"2025-07-22 10:49:31","worker_id":"worker-test-001"}
{"consumer_id":1,"level":"info","msg":"任务消费者收到退出信号","time":"2025-07-22 10:49:32","worker_id":"worker-test-001"}
{"consumer_id":0,"level":"info","msg":"任务消费者收到退出信号","time":"2025-07-22 10:49:32","worker_id":"worker-test-001"}
{"level":"info","msg":"所有任务已完成","time":"2025-07-22 10:49:32"}
{"level":"info","msg":"Worker已停止","time":"2025-07-22 10:49:32"}
{"level":"info","msg":"Worker已优雅停止","time":"2025-07-22 10:49:32"}
{"level":"info","master_url":"http://localhost:8080","msg":"启动AHOP Worker","time":"2025-07-22 10:53:59","version":"1.0.0","worker_name":"Test Worker"}
{"level":"info","msg":"使用配置的worker_id","time":"2025-07-22 10:53:59","worker_id":"worker-test-001"}
{"level":"info","master_url":"http://localhost:8080","msg":"Worker认证成功，获得数据库和Redis凭据","time":"2025-07-22 10:53:59","worker_id":"worker-test-001"}
{"executors":2,"level":"info","msg":"已注册任务执行器","time":"2025-07-22 10:53:59"}
{"concurrency":3,"level":"info","msg":"Worker启动成功","time":"2025-07-22 10:53:59","worker_id":"worker-test-001"}
{"level":"info","msg":"Worker启动成功，正在等待任务...","time":"2025-07-22 10:53:59"}
{"consumer_id":0,"level":"info","msg":"任务消费者启动","time":"2025-07-22 10:53:59","worker_id":"worker-test-001"}
{"consumer_id":1,"level":"info","msg":"任务消费者启动","time":"2025-07-22 10:53:59","worker_id":"worker-test-001"}
{"consumer_id":2,"level":"info","msg":"任务消费者启动","time":"2025-07-22 10:53:59","worker_id":"worker-test-001"}
{"level":"info","master_url":"http://localhost:8080","msg":"启动AHOP Worker","time":"2025-07-22 10:54:04","version":"1.0.0","worker_name":"Test Worker"}
{"level":"info","msg":"使用配置的worker_id","time":"2025-07-22 10:54:04","worker_id":"worker-test-001"}
{"level":"info","master_url":"http://localhost:8080","msg":"Worker认证成功，获得数据库和Redis凭据","time":"2025-07-22 10:54:04","worker_id":"worker-test-001"}
{"executors":2,"level":"info","msg":"已注册任务执行器","time":"2025-07-22 10:54:04"}
{"concurrency":3,"level":"info","msg":"Worker启动成功","time":"2025-07-22 10:54:04","worker_id":"worker-test-001"}
{"level":"info","msg":"Worker启动成功，正在等待任务...","time":"2025-07-22 10:54:04"}
{"consumer_id":2,"level":"info","msg":"任务消费者启动","time":"2025-07-22 10:54:04","worker_id":"worker-test-001"}
{"consumer_id":0,"level":"info","msg":"任务消费者启动","time":"2025-07-22 10:54:04","worker_id":"worker-test-001"}
{"consumer_id":1,"level":"info","msg":"任务消费者启动","time":"2025-07-22 10:54:04","worker_id":"worker-test-001"}
{"level":"info","master_url":"http://localhost:8080","msg":"启动AHOP Worker","time":"2025-07-22 10:54:10","version":"1.0.0","worker_name":"Test Worker"}
{"level":"info","msg":"使用配置的worker_id","time":"2025-07-22 10:54:10","worker_id":"worker-test-001"}
{"level":"info","master_url":"http://localhost:8080","msg":"Worker认证成功，获得数据库和Redis凭据","time":"2025-07-22 10:54:10","worker_id":"worker-test-001"}
{"executors":2,"level":"info","msg":"已注册任务执行器","time":"2025-07-22 10:54:10"}
{"concurrency":3,"level":"info","msg":"Worker启动成功","time":"2025-07-22 10:54:10","worker_id":"worker-test-001"}
{"level":"info","msg":"Worker启动成功，正在等待任务...","time":"2025-07-22 10:54:10"}
{"consumer_id":0,"level":"info","msg":"任务消费者启动","time":"2025-07-22 10:54:10","worker_id":"worker-test-001"}
{"consumer_id":1,"level":"info","msg":"任务消费者启动","time":"2025-07-22 10:54:10","worker_id":"worker-test-001"}
{"consumer_id":2,"level":"info","msg":"任务消费者启动","time":"2025-07-22 10:54:10","worker_id":"worker-test-001"}
{"level":"info","master_url":"http://localhost:8080","msg":"启动AHOP Worker","time":"2025-07-22 10:54:15","version":"1.0.0","worker_name":"Test Worker"}
{"level":"info","msg":"使用配置的worker_id","time":"2025-07-22 10:54:15","worker_id":"worker-test-001"}
{"level":"info","master_url":"http://localhost:8080","msg":"Worker认证成功，获得数据库和Redis凭据","time":"2025-07-22 10:54:15","worker_id":"worker-test-001"}
{"executors":2,"level":"info","msg":"已注册任务执行器","time":"2025-07-22 10:54:15"}
{"concurrency":3,"level":"info","msg":"Worker启动成功","time":"2025-07-22 10:54:15","worker_id":"worker-test-001"}
{"level":"info","msg":"Worker启动成功，正在等待任务...","time":"2025-07-22 10:54:15"}
{"consumer_id":0,"level":"info","msg":"任务消费者启动","time":"2025-07-22 10:54:15","worker_id":"worker-test-001"}
{"consumer_id":2,"level":"info","msg":"任务消费者启动","time":"2025-07-22 10:54:15","worker_id":"worker-test-001"}
{"consumer_id":1,"level":"info","msg":"任务消费者启动","time":"2025-07-22 10:54:15","worker_id":"worker-test-001"}
{"level":"info","master_url":"http://localhost:8080","msg":"启动AHOP Worker","time":"2025-07-22 10:54:20","version":"1.0.0","worker_name":"Test Worker"}
{"level":"info","msg":"使用配置的worker_id","time":"2025-07-22 10:54:20","worker_id":"worker-test-001"}
{"level":"info","master_url":"http://localhost:8080","msg":"Worker认证成功，获得数据库和Redis凭据","time":"2025-07-22 10:54:20","worker_id":"worker-test-001"}
{"executors":2,"level":"info","msg":"已注册任务执行器","time":"2025-07-22 10:54:20"}
{"concurrency":3,"level":"info","msg":"Worker启动成功","time":"2025-07-22 10:54:20","worker_id":"worker-test-001"}
{"consumer_id":0,"level":"info","msg":"任务消费者启动","time":"2025-07-22 10:54:20","worker_id":"worker-test-001"}
{"level":"info","msg":"Worker启动成功，正在等待任务...","time":"2025-07-22 10:54:20"}
{"consumer_id":1,"level":"info","msg":"任务消费者启动","time":"2025-07-22 10:54:20","worker_id":"worker-test-001"}
{"consumer_id":2,"level":"info","msg":"任务消费者启动","time":"2025-07-22 10:54:20","worker_id":"worker-test-001"}
{"level":"info","master_url":"http://localhost:8080","msg":"启动AHOP Worker","time":"2025-07-22 10:54:30","version":"1.0.0","worker_name":"Test Worker"}
{"level":"info","msg":"使用配置的worker_id","time":"2025-07-22 10:54:30","worker_id":"worker-test-001"}
{"level":"info","master_url":"http://localhost:8080","msg":"Worker认证成功，获得数据库和Redis凭据","time":"2025-07-22 10:54:30","worker_id":"worker-test-001"}
{"executors":2,"level":"info","msg":"已注册任务执行器","time":"2025-07-22 10:54:30"}
{"concurrency":3,"level":"info","msg":"Worker启动成功","time":"2025-07-22 10:54:30","worker_id":"worker-test-001"}
{"consumer_id":1,"level":"info","msg":"任务消费者启动","time":"2025-07-22 10:54:30","worker_id":"worker-test-001"}
{"level":"info","msg":"Worker启动成功，正在等待任务...","time":"2025-07-22 10:54:30"}
{"consumer_id":2,"level":"info","msg":"任务消费者启动","time":"2025-07-22 10:54:30","worker_id":"worker-test-001"}
{"consumer_id":0,"level":"info","msg":"任务消费者启动","time":"2025-07-22 10:54:30","worker_id":"worker-test-001"}
{"consumer_id":2,"level":"info","msg":"开始处理任务","source":"api","task_id":"870e5491-26d2-4590-ba75-298dc246cee7","task_type":"ping","tenant_id":1,"tenant_name":"默认租户","time":"2025-07-22 10:55:03","user_id":1,"username":"admin","worker_id":"worker-test-001"}
{"credential_id":103,"credential_type":"ssh_key","host_ip":"127.0.0.1","level":"debug","msg":"准备主机连接信息","time":"2025-07-22 10:55:03","username":"root"}
{"consumer_id":2,"level":"info","msg":"开始处理任务","source":"api","task_id":"600a8807-28b6-444e-b91f-ea37cb386677","task_type":"collect","tenant_id":1,"tenant_name":"默认租户","time":"2025-07-22 10:55:03","user_id":1,"username":"admin","worker_id":"worker-test-001"}
{"credential_id":103,"credential_type":"ssh_key","host_ip":"127.0.0.1","level":"debug","msg":"准备主机连接信息","time":"2025-07-22 10:55:03","username":"root"}
{"consumer_id":2,"error":"所有主机信息采集失败","level":"error","msg":"任务执行失败","source":"api","task_id":"600a8807-28b6-444e-b91f-ea37cb386677","task_type":"collect","tenant_id":1,"tenant_name":"默认租户","time":"2025-07-22 10:55:03","user_id":1,"username":"admin","worker_id":"worker-test-001"}
{"consumer_id":2,"level":"info","msg":"任务执行成功","source":"api","task_id":"870e5491-26d2-4590-ba75-298dc246cee7","task_type":"ping","tenant_id":1,"tenant_name":"默认租户","time":"2025-07-22 10:55:05","user_id":1,"username":"admin","worker_id":"worker-test-001"}
{"level":"info","msg":"收到退出信号，正在停止Worker...","time":"2025-07-22 10:59:24"}
{"level":"info","msg":"开始停止Worker","time":"2025-07-22 10:59:24"}
{"level":"info","msg":"收到退出信号，正在停止Worker...","time":"2025-07-22 10:59:24"}
{"level":"info","msg":"开始停止Worker","time":"2025-07-22 10:59:24"}
{"level":"info","msg":"收到退出信号，正在停止Worker...","time":"2025-07-22 10:59:24"}
{"level":"info","msg":"收到退出信号，正在停止Worker...","time":"2025-07-22 10:59:24"}
{"level":"info","msg":"开始停止Worker","time":"2025-07-22 10:59:24"}
{"level":"info","msg":"开始停止Worker","time":"2025-07-22 10:59:24"}
{"level":"info","msg":"收到退出信号，正在停止Worker...","time":"2025-07-22 10:59:24"}
{"level":"info","msg":"开始停止Worker","time":"2025-07-22 10:59:24"}
{"consumer_id":0,"level":"info","msg":"任务消费者收到退出信号","time":"2025-07-22 10:59:24","worker_id":"worker-test-001"}
{"consumer_id":1,"level":"info","msg":"任务消费者收到退出信号","time":"2025-07-22 10:59:24","worker_id":"worker-test-001"}
{"consumer_id":2,"level":"info","msg":"任务消费者收到退出信号","time":"2025-07-22 10:59:24","worker_id":"worker-test-001"}
{"level":"info","msg":"所有任务已完成","time":"2025-07-22 10:59:24"}
{"level":"info","msg":"Worker已停止","time":"2025-07-22 10:59:24"}
{"level":"info","msg":"Worker已优雅停止","time":"2025-07-22 10:59:24"}
{"consumer_id":2,"level":"info","msg":"任务消费者收到退出信号","time":"2025-07-22 10:59:24","worker_id":"worker-test-001"}
{"consumer_id":1,"level":"info","msg":"任务消费者收到退出信号","time":"2025-07-22 10:59:24","worker_id":"worker-test-001"}
{"consumer_id":0,"level":"info","msg":"任务消费者收到退出信号","time":"2025-07-22 10:59:24","worker_id":"worker-test-001"}
{"level":"info","msg":"所有任务已完成","time":"2025-07-22 10:59:24"}
{"level":"info","msg":"Worker已停止","time":"2025-07-22 10:59:24"}
{"level":"info","msg":"Worker已优雅停止","time":"2025-07-22 10:59:24"}
{"consumer_id":1,"level":"info","msg":"任务消费者收到退出信号","time":"2025-07-22 10:59:25","worker_id":"worker-test-001"}
{"consumer_id":0,"level":"info","msg":"任务消费者收到退出信号","time":"2025-07-22 10:59:25","worker_id":"worker-test-001"}
{"consumer_id":1,"level":"info","msg":"任务消费者收到退出信号","time":"2025-07-22 10:59:25","worker_id":"worker-test-001"}
{"consumer_id":2,"level":"info","msg":"任务消费者收到退出信号","time":"2025-07-22 10:59:25","worker_id":"worker-test-001"}
{"level":"info","msg":"所有任务已完成","time":"2025-07-22 10:59:25"}
{"consumer_id":2,"level":"info","msg":"任务消费者收到退出信号","time":"2025-07-22 10:59:25","worker_id":"worker-test-001"}
{"consumer_id":0,"level":"info","msg":"任务消费者收到退出信号","time":"2025-07-22 10:59:25","worker_id":"worker-test-001"}
{"consumer_id":0,"level":"info","msg":"任务消费者收到退出信号","time":"2025-07-22 10:59:25","worker_id":"worker-test-001"}
{"consumer_id":1,"level":"info","msg":"任务消费者收到退出信号","time":"2025-07-22 10:59:25","worker_id":"worker-test-001"}
{"consumer_id":2,"level":"info","msg":"任务消费者收到退出信号","time":"2025-07-22 10:59:25","worker_id":"worker-test-001"}
{"level":"info","msg":"所有任务已完成","time":"2025-07-22 10:59:25"}
{"level":"info","msg":"所有任务已完成","time":"2025-07-22 10:59:25"}
{"level":"info","msg":"Worker已停止","time":"2025-07-22 10:59:25"}
{"level":"info","msg":"Worker已优雅停止","time":"2025-07-22 10:59:25"}
{"level":"info","msg":"Worker已停止","time":"2025-07-22 10:59:25"}
{"level":"info","msg":"Worker已优雅停止","time":"2025-07-22 10:59:25"}
{"level":"info","msg":"Worker已停止","time":"2025-07-22 10:59:25"}
{"level":"info","msg":"Worker已优雅停止","time":"2025-07-22 10:59:25"}
{"level":"info","master_url":"http://localhost:8080","msg":"启动AHOP Worker","time":"2025-07-22 10:59:30","version":"1.0.0","worker_name":"Test Worker"}
{"level":"info","msg":"使用配置的worker_id","time":"2025-07-22 10:59:30","worker_id":"worker-test-001"}
{"level":"info","master_url":"http://localhost:8080","msg":"Worker认证成功，获得数据库和Redis凭据","time":"2025-07-22 10:59:30","worker_id":"worker-test-001"}
{"executors":2,"level":"info","msg":"已注册任务执行器","time":"2025-07-22 10:59:30"}
{"concurrency":3,"level":"info","msg":"Worker启动成功","time":"2025-07-22 10:59:30","worker_id":"worker-test-001"}
{"level":"info","msg":"Worker启动成功，正在等待任务...","time":"2025-07-22 10:59:30"}
{"consumer_id":0,"level":"info","msg":"任务消费者启动","time":"2025-07-22 10:59:30","worker_id":"worker-test-001"}
{"consumer_id":1,"level":"info","msg":"任务消费者启动","time":"2025-07-22 10:59:30","worker_id":"worker-test-001"}
{"consumer_id":2,"level":"info","msg":"任务消费者启动","time":"2025-07-22 10:59:30","worker_id":"worker-test-001"}
{"consumer_id":0,"level":"info","msg":"开始处理任务","source":"api","task_id":"b8b4a36e-7878-4577-889c-428edcb0083e","task_type":"ping","tenant_id":1,"tenant_name":"默认租户","time":"2025-07-22 10:59:41","user_id":1,"username":"admin","worker_id":"worker-test-001"}
{"credential_id":103,"credential_type":"ssh_key","host_ip":"127.0.0.1","level":"debug","msg":"准备主机连接信息","time":"2025-07-22 10:59:41","username":"root"}
{"consumer_id":2,"level":"info","msg":"开始处理任务","source":"api","task_id":"ebf639a0-0450-49cf-907c-d116431221b9","task_type":"collect","tenant_id":1,"tenant_name":"默认租户","time":"2025-07-22 10:59:41","user_id":1,"username":"admin","worker_id":"worker-test-001"}
{"credential_id":103,"credential_type":"ssh_key","host_ip":"127.0.0.1","level":"debug","msg":"准备主机连接信息","time":"2025-07-22 10:59:41","username":"root"}
{"consumer_id":0,"level":"info","msg":"任务执行成功","source":"api","task_id":"b8b4a36e-7878-4577-889c-428edcb0083e","task_type":"ping","tenant_id":1,"tenant_name":"默认租户","time":"2025-07-22 10:59:43","user_id":1,"username":"admin","worker_id":"worker-test-001"}
{"consumer_id":2,"error":"所有主机信息采集失败","level":"error","msg":"任务执行失败","source":"api","task_id":"ebf639a0-0450-49cf-907c-d116431221b9","task_type":"collect","tenant_id":1,"tenant_name":"默认租户","time":"2025-07-22 10:59:43","user_id":1,"username":"admin","worker_id":"worker-test-001"}
{"consumer_id":0,"level":"info","msg":"开始处理任务","source":"api","task_id":"9f76de42-2c1e-4e6a-aced-b5802cf87c97","task_type":"ping","tenant_id":1,"tenant_name":"默认租户","time":"2025-07-22 11:01:44","user_id":1,"username":"admin","worker_id":"worker-test-001"}
{"credential_id":1,"credential_type":"ssh_key","host_ip":"127.0.0.1","level":"debug","msg":"准备主机连接信息","time":"2025-07-22 11:01:44","username":""}
{"consumer_id":0,"level":"info","msg":"任务执行成功","source":"api","task_id":"9f76de42-2c1e-4e6a-aced-b5802cf87c97","task_type":"ping","tenant_id":1,"tenant_name":"默认租户","time":"2025-07-22 11:01:46","user_id":1,"username":"admin","worker_id":"worker-test-001"}
{"consumer_id":2,"level":"info","msg":"开始处理任务","source":"api","task_id":"e5f6e40b-6e3a-4c59-afc4-3b347d792662","task_type":"ping","tenant_id":1,"tenant_name":"默认租户","time":"2025-07-22 11:03:24","user_id":1,"username":"admin","worker_id":"worker-test-001"}
{"credential_id":1,"credential_type":"ssh_key","host_ip":"127.0.0.1","level":"debug","msg":"准备主机连接信息","time":"2025-07-22 11:03:24","username":""}
{"credential_id":1,"credential_type":"ssh_key","host_ip":"192.168.31.100","level":"debug","msg":"准备主机连接信息","time":"2025-07-22 11:03:24","username":""}
{"credential_id":1,"credential_type":"ssh_key","host_ip":"192.168.33.100","level":"debug","msg":"准备主机连接信息","time":"2025-07-22 11:03:24","username":""}
{"consumer_id":2,"level":"info","msg":"任务执行成功","source":"api","task_id":"e5f6e40b-6e3a-4c59-afc4-3b347d792662","task_type":"ping","tenant_id":1,"tenant_name":"默认租户","time":"2025-07-22 11:03:33","user_id":1,"username":"admin","worker_id":"worker-test-001"}
{"consumer_id":2,"level":"info","msg":"开始处理任务","source":"api","task_id":"f1ea07ab-325c-42e5-8d83-91d6f09e8f04","task_type":"collect","tenant_id":1,"tenant_name":"默认租户","time":"2025-07-22 11:13:40","user_id":1,"username":"admin","worker_id":"worker-test-001"}
{"credential_id":104,"credential_type":"password","host_ip":"127.0.0.1","level":"debug","msg":"准备主机连接信息","time":"2025-07-22 11:13:40","username":"root"}
{"has_password":true,"host_ip":"127.0.0.1","level":"debug","msg":"已设置密码认证","password_length":11,"time":"2025-07-22 11:13:40"}
{"consumer_id":2,"level":"info","msg":"任务执行成功","source":"api","task_id":"f1ea07ab-325c-42e5-8d83-91d6f09e8f04","task_type":"collect","tenant_id":1,"tenant_name":"默认租户","time":"2025-07-22 11:13:46","user_id":1,"username":"admin","worker_id":"worker-test-001"}
{"consumer_id":0,"level":"info","msg":"开始处理任务","source":"api","task_id":"1cfadaf6-d44d-4ab2-afcc-8a8d9d246bf9","task_type":"ping","tenant_id":1,"tenant_name":"默认租户","time":"2025-07-22 12:57:56","user_id":1,"username":"admin","worker_id":"worker-test-001"}
{"consumer_id":0,"error":"任务不存在: ERROR: cached plan must not change result type (SQLSTATE 0A000)","level":"error","msg":"获取任务详情失败","source":"api","task_id":"1cfadaf6-d44d-4ab2-afcc-8a8d9d246bf9","task_type":"ping","tenant_id":1,"tenant_name":"默认租户","time":"2025-07-22 12:57:56","user_id":1,"username":"admin","worker_id":"worker-test-001"}
{"consumer_id":0,"error":"任务不存在: ERROR: cached plan must not change result type (SQLSTATE 0A000)","level":"error","msg":"处理任务失败","time":"2025-07-22 12:57:56","worker_id":"worker-test-001"}
{"level":"info","master_url":"http://localhost:8080","msg":"启动AHOP Worker","time":"2025-07-22 13:00:25","version":"1.0.0","worker_name":"Test Worker"}
{"level":"info","msg":"使用配置的worker_id","time":"2025-07-22 13:00:25","worker_id":"worker-test-001"}
{"level":"info","master_url":"http://localhost:8080","msg":"Worker认证成功，获得数据库和Redis凭据","time":"2025-07-22 13:00:25","worker_id":"worker-test-001"}
{"executors":2,"level":"info","msg":"已注册任务执行器","time":"2025-07-22 13:00:25"}
{"concurrency":3,"level":"info","msg":"Worker启动成功","time":"2025-07-22 13:00:25","worker_id":"worker-test-001"}
{"level":"info","msg":"Worker启动成功，正在等待任务...","time":"2025-07-22 13:00:25"}
{"consumer_id":0,"level":"info","msg":"任务消费者启动","time":"2025-07-22 13:00:25","worker_id":"worker-test-001"}
{"consumer_id":2,"level":"info","msg":"任务消费者启动","time":"2025-07-22 13:00:25","worker_id":"worker-test-001"}
{"consumer_id":1,"level":"info","msg":"任务消费者启动","time":"2025-07-22 13:00:25","worker_id":"worker-test-001"}
{"level":"info","master_url":"http://localhost:8080","msg":"启动AHOP Worker","time":"2025-07-22 13:02:38","version":"1.0.0","worker_name":"Test Worker"}
{"level":"info","msg":"使用配置的worker_id","time":"2025-07-22 13:02:38","worker_id":"worker-test-001"}
{"level":"info","master_url":"http://localhost:8080","msg":"Worker认证成功，获得数据库和Redis凭据","time":"2025-07-22 13:02:38","worker_id":"worker-test-001"}
{"executors":2,"level":"info","msg":"已注册任务执行器","time":"2025-07-22 13:02:38"}
{"concurrency":3,"level":"info","msg":"Worker启动成功","time":"2025-07-22 13:02:38","worker_id":"worker-test-001"}
{"level":"info","msg":"Worker启动成功，正在等待任务...","time":"2025-07-22 13:02:38"}
{"consumer_id":0,"level":"info","msg":"任务消费者启动","time":"2025-07-22 13:02:38","worker_id":"worker-test-001"}
{"consumer_id":2,"level":"info","msg":"任务消费者启动","time":"2025-07-22 13:02:38","worker_id":"worker-test-001"}
{"consumer_id":1,"level":"info","msg":"任务消费者启动","time":"2025-07-22 13:02:38","worker_id":"worker-test-001"}
{"level":"info","master_url":"http://localhost:8080","msg":"启动AHOP Worker","time":"2025-07-22 13:06:31","version":"1.0.0","worker_name":"Test Worker"}
{"level":"info","msg":"使用配置的worker_id","time":"2025-07-22 13:06:31","worker_id":"worker-test-001"}
{"level":"info","master_url":"http://localhost:8080","msg":"Worker认证成功，获得数据库和Redis凭据","time":"2025-07-22 13:06:31","worker_id":"worker-test-001"}
{"executors":2,"level":"info","msg":"已注册任务执行器","time":"2025-07-22 13:06:31"}
{"concurrency":3,"level":"info","msg":"Worker启动成功","time":"2025-07-22 13:06:31","worker_id":"worker-test-001"}
{"level":"info","msg":"Worker启动成功，正在等待任务...","time":"2025-07-22 13:06:31"}
{"consumer_id":0,"level":"info","msg":"任务消费者启动","time":"2025-07-22 13:06:31","worker_id":"worker-test-001"}
{"consumer_id":2,"level":"info","msg":"任务消费者启动","time":"2025-07-22 13:06:31","worker_id":"worker-test-001"}
{"consumer_id":1,"level":"info","msg":"任务消费者启动","time":"2025-07-22 13:06:31","worker_id":"worker-test-001"}
{"level":"info","msg":"收到退出信号，正在停止Worker...","time":"2025-07-22 13:06:41"}
{"level":"info","msg":"开始停止Worker","time":"2025-07-22 13:06:41"}
{"consumer_id":2,"level":"info","msg":"任务消费者收到退出信号","time":"2025-07-22 13:06:41","worker_id":"worker-test-001"}
{"consumer_id":0,"level":"info","msg":"任务消费者收到退出信号","time":"2025-07-22 13:06:41","worker_id":"worker-test-001"}
{"consumer_id":1,"level":"info","msg":"任务消费者收到退出信号","time":"2025-07-22 13:06:41","worker_id":"worker-test-001"}
{"level":"info","msg":"所有任务已完成","time":"2025-07-22 13:06:41"}
{"level":"info","msg":"Worker已停止","time":"2025-07-22 13:06:41"}
{"level":"info","msg":"Worker已优雅停止","time":"2025-07-22 13:06:41"}
{"level":"info","msg":"收到退出信号，正在停止Worker...","time":"2025-07-22 13:07:17"}
{"level":"info","msg":"开始停止Worker","time":"2025-07-22 13:07:17"}
{"consumer_id":0,"level":"info","msg":"任务消费者收到退出信号","time":"2025-07-22 13:07:18","worker_id":"worker-test-001"}
{"consumer_id":2,"level":"info","msg":"任务消费者收到退出信号","time":"2025-07-22 13:07:18","worker_id":"worker-test-001"}
{"consumer_id":1,"level":"info","msg":"任务消费者收到退出信号","time":"2025-07-22 13:07:18","worker_id":"worker-test-001"}
{"level":"info","msg":"所有任务已完成","time":"2025-07-22 13:07:18"}
{"level":"info","msg":"Worker已停止","time":"2025-07-22 13:07:18"}
{"level":"info","msg":"Worker已优雅停止","time":"2025-07-22 13:07:18"}
{"level":"info","master_url":"http://localhost:8080","msg":"启动AHOP Worker","time":"2025-07-22 13:07:24","version":"1.0.0","worker_name":"Test Worker"}
{"level":"info","msg":"使用配置的worker_id","time":"2025-07-22 13:07:24","worker_id":"worker-test-001"}
{"level":"info","master_url":"http://localhost:8080","msg":"Worker认证成功，获得数据库和Redis凭据","time":"2025-07-22 13:07:24","worker_id":"worker-test-001"}
{"executors":2,"level":"info","msg":"已注册任务执行器","time":"2025-07-22 13:07:24"}
{"concurrency":3,"level":"info","msg":"Worker启动成功","time":"2025-07-22 13:07:24","worker_id":"worker-test-001"}
{"level":"info","msg":"Worker启动成功，正在等待任务...","time":"2025-07-22 13:07:24"}
{"consumer_id":1,"level":"info","msg":"任务消费者启动","time":"2025-07-22 13:07:24","worker_id":"worker-test-001"}
{"consumer_id":2,"level":"info","msg":"任务消费者启动","time":"2025-07-22 13:07:24","worker_id":"worker-test-001"}
{"consumer_id":0,"level":"info","msg":"任务消费者启动","time":"2025-07-22 13:07:24","worker_id":"worker-test-001"}
{"consumer_id":0,"level":"info","msg":"开始处理任务","source":"api","task_id":"0e320eb0-1bed-4cdf-889e-3de6c010e98c","task_type":"ping","tenant_id":1,"tenant_name":"默认租户","time":"2025-07-22 13:10:22","user_id":1,"username":"admin","worker_id":"worker-test-001"}
{"count":1,"host_ids":[73],"level":"debug","msg":"开始查询主机信息","tenant_id":1,"time":"2025-07-22 13:10:22"}
{"credential_type":"password","host_id":73,"host_ip":"127.0.0.1","host_name":"","level":"debug","msg":"准备主机连接信息","time":"2025-07-22 13:10:22"}
{"level":"debug","msg":"主机信息准备完成","time":"2025-07-22 13:10:22","total_prepared":1,"total_requested":1}
{"error":"ERROR: column \"is_online\" of relation \"hosts\" does not exist (SQLSTATE 42703)","host_id":73,"level":"error","msg":"更新主机 ping 状态失败","time":"2025-07-22 13:10:24"}
{"consumer_id":0,"level":"info","msg":"任务执行成功","source":"api","task_id":"0e320eb0-1bed-4cdf-889e-3de6c010e98c","task_type":"ping","tenant_id":1,"tenant_name":"默认租户","time":"2025-07-22 13:10:24","user_id":1,"username":"admin","worker_id":"worker-test-001"}
{"level":"info","master_url":"http://localhost:8080","msg":"启动AHOP Worker","time":"2025-07-22 13:12:48","version":"1.0.0","worker_name":"Test Worker"}
{"level":"info","msg":"使用配置的worker_id","time":"2025-07-22 13:12:48","worker_id":"worker-test-001"}
{"level":"info","master_url":"http://localhost:8080","msg":"Worker认证成功，获得数据库和Redis凭据","time":"2025-07-22 13:12:48","worker_id":"worker-test-001"}
{"executors":2,"level":"info","msg":"已注册任务执行器","time":"2025-07-22 13:12:48"}
{"concurrency":3,"level":"info","msg":"Worker启动成功","time":"2025-07-22 13:12:48","worker_id":"worker-test-001"}
{"level":"info","msg":"Worker启动成功，正在等待任务...","time":"2025-07-22 13:12:48"}
{"consumer_id":0,"level":"info","msg":"任务消费者启动","time":"2025-07-22 13:12:48","worker_id":"worker-test-001"}
{"consumer_id":1,"level":"info","msg":"任务消费者启动","time":"2025-07-22 13:12:48","worker_id":"worker-test-001"}
{"consumer_id":2,"level":"info","msg":"任务消费者启动","time":"2025-07-22 13:12:48","worker_id":"worker-test-001"}
{"level":"info","master_url":"http://localhost:8080","msg":"启动AHOP Worker","time":"2025-07-22 13:55:02","version":"1.0.0","worker_name":"AHOP Worker on development"}
{"error":"worker_id未配置，请在配置文件中设置worker.worker_id","level":"fatal","msg":"创建Worker失败","time":"2025-07-22 13:55:02"}
{"level":"info","master_url":"http://localhost:8080","msg":"启动AHOP Worker","time":"2025-07-22 13:55:26","version":"1.0.0","worker_name":"AHOP Worker on development"}
{"level":"info","msg":"使用配置的worker_id","time":"2025-07-22 13:55:26","worker_id":"test-worker-001"}
{"level":"info","master_url":"http://localhost:8080","msg":"Worker认证成功，获得数据库和Redis凭据","time":"2025-07-22 13:55:26","worker_id":"test-worker-001"}
{"executors":2,"level":"info","msg":"已注册任务执行器","time":"2025-07-22 13:55:26"}
{"concurrency":2,"level":"info","msg":"Worker启动成功","time":"2025-07-22 13:55:26","worker_id":"test-worker-001"}
{"level":"info","msg":"Worker启动成功，正在等待任务...","time":"2025-07-22 13:55:26"}
{"consumer_id":0,"level":"info","msg":"任务消费者启动","time":"2025-07-22 13:55:26","worker_id":"test-worker-001"}
{"consumer_id":1,"level":"info","msg":"任务消费者启动","time":"2025-07-22 13:55:26","worker_id":"test-worker-001"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-22 13:57:26"}
{"level":"info","msg":"收到退出信号，正在停止Worker...","time":"2025-07-22 13:57:33"}
{"level":"info","msg":"开始停止Worker","time":"2025-07-22 13:57:33"}
{"consumer_id":0,"level":"info","msg":"任务消费者收到退出信号","time":"2025-07-22 13:57:37","worker_id":"test-worker-001"}
{"consumer_id":1,"level":"info","msg":"任务消费者收到退出信号","time":"2025-07-22 13:57:37","worker_id":"test-worker-001"}
{"level":"info","msg":"所有任务已完成","time":"2025-07-22 13:57:37"}
{"level":"info","msg":"Worker已停止","time":"2025-07-22 13:57:37"}
{"level":"info","msg":"Worker已优雅停止","time":"2025-07-22 13:57:37"}
{"consumer_id":2,"level":"info","msg":"开始处理任务","source":"api","task_id":"82349d82-f9d3-410b-9942-57942c92a3b6","task_type":"ping","tenant_id":1,"tenant_name":"默认租户","time":"2025-07-22 13:58:15","user_id":1,"username":"admin","worker_id":"worker-test-001"}
{"count":1,"host_ids":[73],"level":"debug","msg":"开始查询主机信息","tenant_id":1,"time":"2025-07-22 13:58:15"}
{"credential_type":"password","host_id":73,"host_ip":"127.0.0.1","host_name":"","level":"debug","msg":"准备主机连接信息","time":"2025-07-22 13:58:15"}
{"level":"debug","msg":"主机信息准备完成","time":"2025-07-22 13:58:15","total_prepared":1,"total_requested":1}
{"error":"ERROR: column \"is_online\" of relation \"hosts\" does not exist (SQLSTATE 42703)","host_id":73,"level":"error","msg":"更新主机 ping 状态失败","time":"2025-07-22 13:58:17"}
{"consumer_id":2,"level":"info","msg":"任务执行成功","source":"api","task_id":"82349d82-f9d3-410b-9942-57942c92a3b6","task_type":"ping","tenant_id":1,"tenant_name":"默认租户","time":"2025-07-22 13:58:17","user_id":1,"username":"admin","worker_id":"worker-test-001"}
{"level":"info","master_url":"http://localhost:8080","msg":"启动AHOP Worker","time":"2025-07-22 13:58:36","version":"1.0.0","worker_name":"AHOP Worker on development"}
{"level":"info","msg":"使用配置的worker_id","time":"2025-07-22 13:58:36","worker_id":"test-worker-001"}
{"level":"info","master_url":"http://localhost:8080","msg":"Worker认证成功，获得数据库和Redis凭据","time":"2025-07-22 13:58:36","worker_id":"test-worker-001"}
{"executors":2,"level":"info","msg":"已注册任务执行器","time":"2025-07-22 13:58:36"}
{"concurrency":2,"level":"info","msg":"Worker启动成功","time":"2025-07-22 13:58:36","worker_id":"test-worker-001"}
{"level":"info","msg":"Worker启动成功，正在等待任务...","time":"2025-07-22 13:58:36"}
{"consumer_id":0,"level":"info","msg":"任务消费者启动","time":"2025-07-22 13:58:36","worker_id":"test-worker-001"}
{"consumer_id":1,"level":"info","msg":"任务消费者启动","time":"2025-07-22 13:58:36","worker_id":"test-worker-001"}
{"level":"info","master_url":"http://localhost:8080","msg":"启动AHOP Worker","time":"2025-07-22 14:02:39","version":"1.0.0","worker_name":"AHOP Worker on development"}
{"level":"info","msg":"使用配置的worker_id","time":"2025-07-22 14:02:39","worker_id":"test-worker-001"}
{"level":"info","master_url":"http://localhost:8080","msg":"Worker认证成功，获得数据库和Redis凭据","time":"2025-07-22 14:02:39","worker_id":"test-worker-001"}
{"executors":2,"level":"info","msg":"已注册任务执行器","time":"2025-07-22 14:02:39"}
{"concurrency":2,"level":"info","msg":"Worker启动成功","time":"2025-07-22 14:02:39","worker_id":"test-worker-001"}
{"level":"info","msg":"Worker启动成功，正在等待任务...","time":"2025-07-22 14:02:39"}
{"consumer_id":0,"level":"info","msg":"任务消费者启动","time":"2025-07-22 14:02:39","worker_id":"test-worker-001"}
{"consumer_id":1,"level":"info","msg":"任务消费者启动","time":"2025-07-22 14:02:39","worker_id":"test-worker-001"}
{"consumer_id":1,"level":"info","msg":"开始处理任务","source":"api","task_id":"c25e7bce-d596-48e7-8c27-ddc12c98c3a4","task_type":"ping","tenant_id":1,"tenant_name":"默认租户","time":"2025-07-22 14:02:45","user_id":1,"username":"admin","worker_id":"worker-test-001"}
{"count":1,"host_ids":[73],"level":"debug","msg":"开始查询主机信息","tenant_id":1,"time":"2025-07-22 14:02:45"}
{"credential_type":"password","host_id":73,"host_ip":"127.0.0.1","host_name":"","level":"debug","msg":"准备主机连接信息","time":"2025-07-22 14:02:45"}
{"level":"debug","msg":"主机信息准备完成","time":"2025-07-22 14:02:45","total_prepared":1,"total_requested":1}
{"error":"ERROR: column \"is_online\" of relation \"hosts\" does not exist (SQLSTATE 42703)","host_id":73,"level":"error","msg":"更新主机 ping 状态失败","time":"2025-07-22 14:02:48"}
{"consumer_id":1,"level":"info","msg":"任务执行成功","source":"api","task_id":"c25e7bce-d596-48e7-8c27-ddc12c98c3a4","task_type":"ping","tenant_id":1,"tenant_name":"默认租户","time":"2025-07-22 14:02:48","user_id":1,"username":"admin","worker_id":"worker-test-001"}
{"consumer_id":2,"level":"info","msg":"开始处理任务","source":"api","task_id":"b40d5159-2b93-40e8-b818-ea2a13b6d3d7","task_type":"collect","tenant_id":1,"tenant_name":"默认租户","time":"2025-07-22 14:04:46","user_id":1,"username":"admin","worker_id":"worker-test-001"}
{"count":1,"host_ids":[73],"level":"debug","msg":"开始查询主机信息","tenant_id":1,"time":"2025-07-22 14:04:46"}
{"credential_type":"password","host_id":73,"host_ip":"127.0.0.1","host_name":"","level":"debug","msg":"准备主机连接信息","time":"2025-07-22 14:04:46"}
{"level":"debug","msg":"主机信息准备完成","time":"2025-07-22 14:04:46","total_prepared":1,"total_requested":1}
{"host_id":73,"level":"debug","msg":"没有找到磁盘设备信息","time":"2025-07-22 14:04:52"}
{"host_id":73,"level":"debug","msg":"没有找到网络接口信息","time":"2025-07-22 14:04:52"}
{"host_id":73,"level":"info","msg":"更新主机系统信息成功","time":"2025-07-22 14:04:52"}
{"consumer_id":2,"level":"info","msg":"任务执行成功","source":"api","task_id":"b40d5159-2b93-40e8-b818-ea2a13b6d3d7","task_type":"collect","tenant_id":1,"tenant_name":"默认租户","time":"2025-07-22 14:04:52","user_id":1,"username":"admin","worker_id":"worker-test-001"}
{"level":"info","msg":"收到退出信号，正在停止Worker...","time":"2025-07-22 14:21:16"}
{"level":"info","msg":"开始停止Worker","time":"2025-07-22 14:21:16"}
{"consumer_id":1,"level":"info","msg":"任务消费者收到退出信号","time":"2025-07-22 14:21:17","worker_id":"test-worker-001"}
{"consumer_id":0,"level":"info","msg":"任务消费者收到退出信号","time":"2025-07-22 14:21:17","worker_id":"test-worker-001"}
{"level":"info","msg":"所有任务已完成","time":"2025-07-22 14:21:17"}
{"level":"info","msg":"Worker已停止","time":"2025-07-22 14:21:17"}
{"level":"info","msg":"Worker已优雅停止","time":"2025-07-22 14:21:17"}
{"level":"info","master_url":"http://localhost:8080","msg":"启动AHOP Worker","time":"2025-07-22 14:21:35","version":"1.0.0","worker_name":"AHOP Worker on development"}
{"level":"info","msg":"使用配置的worker_id","time":"2025-07-22 14:21:35","worker_id":"test-worker-001"}
{"level":"info","master_url":"http://localhost:8080","msg":"Worker认证成功，获得数据库和Redis凭据","time":"2025-07-22 14:21:35","worker_id":"test-worker-001"}
{"executors":2,"level":"info","msg":"已注册任务执行器","time":"2025-07-22 14:21:35"}
{"concurrency":2,"level":"info","msg":"Worker启动成功","time":"2025-07-22 14:21:35","worker_id":"test-worker-001"}
{"level":"info","msg":"Worker启动成功，正在等待任务...","time":"2025-07-22 14:21:35"}
{"consumer_id":0,"level":"info","msg":"任务消费者启动","time":"2025-07-22 14:21:35","worker_id":"test-worker-001"}
{"consumer_id":1,"level":"info","msg":"任务消费者启动","time":"2025-07-22 14:21:35","worker_id":"test-worker-001"}
{"consumer_id":0,"level":"info","msg":"开始处理任务","source":"api","task_id":"fc9b4c78-2223-45d5-a82f-4f845e1e0de7","task_type":"ping","tenant_id":1,"tenant_name":"默认租户","time":"2025-07-22 14:21:46","user_id":1,"username":"admin","worker_id":"worker-test-001"}
{"count":1,"host_ids":[73],"level":"debug","msg":"开始查询主机信息","tenant_id":1,"time":"2025-07-22 14:21:46"}
{"credential_type":"password","host_id":73,"host_ip":"127.0.0.1","host_name":"","level":"debug","msg":"准备主机连接信息","time":"2025-07-22 14:21:46"}
{"level":"debug","msg":"主机信息准备完成","time":"2025-07-22 14:21:46","total_prepared":1,"total_requested":1}
{"error":"ERROR: column \"is_online\" of relation \"hosts\" does not exist (SQLSTATE 42703)","host_id":73,"level":"error","msg":"更新主机 ping 状态失败","time":"2025-07-22 14:21:48"}
{"consumer_id":0,"level":"info","msg":"任务执行成功","source":"api","task_id":"fc9b4c78-2223-45d5-a82f-4f845e1e0de7","task_type":"ping","tenant_id":1,"tenant_name":"默认租户","time":"2025-07-22 14:21:48","user_id":1,"username":"admin","worker_id":"worker-test-001"}
{"level":"info","msg":"收到退出信号，正在停止Worker...","time":"2025-07-22 14:23:07"}
{"level":"info","msg":"开始停止Worker","time":"2025-07-22 14:23:07"}
{"consumer_id":1,"level":"info","msg":"任务消费者收到退出信号","time":"2025-07-22 14:23:08","worker_id":"test-worker-001"}
{"consumer_id":0,"level":"info","msg":"任务消费者收到退出信号","time":"2025-07-22 14:23:08","worker_id":"test-worker-001"}
{"level":"info","msg":"所有任务已完成","time":"2025-07-22 14:23:08"}
{"level":"info","msg":"Worker已停止","time":"2025-07-22 14:23:08"}
{"level":"info","msg":"Worker已优雅停止","time":"2025-07-22 14:23:08"}
{"level":"info","master_url":"http://localhost:8080","msg":"启动AHOP Worker","time":"2025-07-22 14:23:09","version":"1.0.0","worker_name":"AHOP Worker on development"}
{"level":"info","msg":"使用配置的worker_id","time":"2025-07-22 14:23:09","worker_id":"test-worker-001"}
{"level":"info","master_url":"http://localhost:8080","msg":"Worker认证成功，获得数据库和Redis凭据","time":"2025-07-22 14:23:09","worker_id":"test-worker-001"}
{"executors":2,"level":"info","msg":"已注册任务执行器","time":"2025-07-22 14:23:09"}
{"concurrency":2,"level":"info","msg":"Worker启动成功","time":"2025-07-22 14:23:09","worker_id":"test-worker-001"}
{"level":"info","msg":"Worker启动成功，正在等待任务...","time":"2025-07-22 14:23:09"}
{"consumer_id":0,"level":"info","msg":"任务消费者启动","time":"2025-07-22 14:23:09","worker_id":"test-worker-001"}
{"consumer_id":1,"level":"info","msg":"任务消费者启动","time":"2025-07-22 14:23:09","worker_id":"test-worker-001"}
{"consumer_id":1,"level":"info","msg":"开始处理任务","source":"api","task_id":"704fccee-15e1-4ae0-9397-64bde22599fa","task_type":"ping","tenant_id":1,"tenant_name":"默认租户","time":"2025-07-22 14:23:12","user_id":1,"username":"admin","worker_id":"worker-test-001"}
{"count":1,"host_ids":[73],"level":"debug","msg":"开始查询主机信息","tenant_id":1,"time":"2025-07-22 14:23:12"}
{"credential_type":"password","host_id":73,"host_ip":"127.0.0.1","host_name":"","level":"debug","msg":"准备主机连接信息","time":"2025-07-22 14:23:12"}
{"level":"debug","msg":"主机信息准备完成","time":"2025-07-22 14:23:12","total_prepared":1,"total_requested":1}
{"error":"ERROR: column \"is_online\" of relation \"hosts\" does not exist (SQLSTATE 42703)","host_id":73,"level":"error","msg":"更新主机 ping 状态失败","time":"2025-07-22 14:23:14"}
{"consumer_id":1,"level":"info","msg":"任务执行成功","source":"api","task_id":"704fccee-15e1-4ae0-9397-64bde22599fa","task_type":"ping","tenant_id":1,"tenant_name":"默认租户","time":"2025-07-22 14:23:14","user_id":1,"username":"admin","worker_id":"worker-test-001"}
{"level":"info","msg":"收到退出信号，正在停止Worker...","time":"2025-07-22 14:23:29"}
{"level":"info","msg":"开始停止Worker","time":"2025-07-22 14:23:29"}
{"consumer_id":0,"level":"info","msg":"任务消费者收到退出信号","time":"2025-07-22 14:23:30","worker_id":"test-worker-001"}
{"consumer_id":1,"level":"info","msg":"任务消费者收到退出信号","time":"2025-07-22 14:23:30","worker_id":"test-worker-001"}
{"level":"info","msg":"所有任务已完成","time":"2025-07-22 14:23:30"}
{"level":"info","msg":"Worker已停止","time":"2025-07-22 14:23:30"}
{"level":"info","msg":"Worker已优雅停止","time":"2025-07-22 14:23:30"}
{"level":"info","master_url":"http://localhost:8080","msg":"启动AHOP Worker","time":"2025-07-22 14:23:31","version":"1.0.0","worker_name":"AHOP Worker on development"}
{"level":"info","msg":"使用配置的worker_id","time":"2025-07-22 14:23:31","worker_id":"test-worker-001"}
{"level":"info","master_url":"http://localhost:8080","msg":"Worker认证成功，获得数据库和Redis凭据","time":"2025-07-22 14:23:31","worker_id":"test-worker-001"}
{"executors":2,"level":"info","msg":"已注册任务执行器","time":"2025-07-22 14:23:31"}
{"concurrency":2,"level":"info","msg":"Worker启动成功","time":"2025-07-22 14:23:31","worker_id":"test-worker-001"}
{"level":"info","msg":"Worker启动成功，正在等待任务...","time":"2025-07-22 14:23:31"}
{"consumer_id":0,"level":"info","msg":"任务消费者启动","time":"2025-07-22 14:23:31","worker_id":"test-worker-001"}
{"consumer_id":1,"level":"info","msg":"任务消费者启动","time":"2025-07-22 14:23:31","worker_id":"test-worker-001"}
{"consumer_id":0,"level":"info","msg":"开始处理任务","source":"api","task_id":"6b571375-24b4-4c1e-96b1-4bee2c533c9b","task_type":"ping","tenant_id":1,"tenant_name":"默认租户","time":"2025-07-22 14:23:39","user_id":1,"username":"admin","worker_id":"worker-test-001"}
{"count":1,"host_ids":[73],"level":"debug","msg":"开始查询主机信息","tenant_id":1,"time":"2025-07-22 14:23:39"}
{"credential_type":"password","host_id":73,"host_ip":"127.0.0.1","host_name":"","level":"debug","msg":"准备主机连接信息","time":"2025-07-22 14:23:39"}
{"level":"debug","msg":"主机信息准备完成","time":"2025-07-22 14:23:39","total_prepared":1,"total_requested":1}
{"error":"ERROR: column \"is_online\" of relation \"hosts\" does not exist (SQLSTATE 42703)","host_id":73,"level":"error","msg":"更新主机 ping 状态失败","time":"2025-07-22 14:23:41"}
{"consumer_id":0,"level":"info","msg":"任务执行成功","source":"api","task_id":"6b571375-24b4-4c1e-96b1-4bee2c533c9b","task_type":"ping","tenant_id":1,"tenant_name":"默认租户","time":"2025-07-22 14:23:41","user_id":1,"username":"admin","worker_id":"worker-test-001"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-22 14:25:31"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-22 14:27:31"}
{"level":"info","msg":"收到退出信号，正在停止Worker...","time":"2025-07-22 14:28:06"}
{"level":"info","msg":"开始停止Worker","time":"2025-07-22 14:28:06"}
{"consumer_id":0,"level":"info","msg":"任务消费者收到退出信号","time":"2025-07-22 14:28:15","worker_id":"test-worker-001"}
{"consumer_id":1,"level":"info","msg":"任务消费者收到退出信号","time":"2025-07-22 14:28:15","worker_id":"test-worker-001"}
{"level":"info","msg":"所有任务已完成","time":"2025-07-22 14:28:15"}
{"level":"info","msg":"Worker已停止","time":"2025-07-22 14:28:15"}
{"level":"info","msg":"Worker已优雅停止","time":"2025-07-22 14:28:15"}
{"level":"info","master_url":"http://localhost:8080","msg":"启动AHOP Worker","time":"2025-07-22 14:28:19","version":"1.0.0","worker_name":"AHOP Worker on development"}
{"level":"info","msg":"使用配置的worker_id","time":"2025-07-22 14:28:19","worker_id":"test-worker-001"}
{"level":"info","master_url":"http://localhost:8080","msg":"Worker认证成功，获得数据库和Redis凭据","time":"2025-07-22 14:28:19","worker_id":"test-worker-001"}
{"executors":2,"level":"info","msg":"已注册任务执行器","time":"2025-07-22 14:28:19"}
{"concurrency":2,"level":"info","msg":"Worker启动成功","time":"2025-07-22 14:28:19","worker_id":"test-worker-001"}
{"consumer_id":0,"level":"info","msg":"任务消费者启动","time":"2025-07-22 14:28:19","worker_id":"test-worker-001"}
{"level":"info","msg":"Worker启动成功，正在等待任务...","time":"2025-07-22 14:28:19"}
{"consumer_id":1,"level":"info","msg":"任务消费者启动","time":"2025-07-22 14:28:19","worker_id":"test-worker-001"}
{"consumer_id":0,"level":"info","msg":"开始处理任务","source":"api","task_id":"6169c07d-c7c0-404f-aad2-4a5c0cce7c95","task_type":"ping","tenant_id":1,"tenant_name":"默认租户","time":"2025-07-22 14:28:25","user_id":1,"username":"admin","worker_id":"worker-test-001"}
{"count":1,"host_ids":[73],"level":"debug","msg":"开始查询主机信息","tenant_id":1,"time":"2025-07-22 14:28:25"}
{"credential_type":"password","host_id":73,"host_ip":"127.0.0.1","host_name":"","level":"debug","msg":"准备主机连接信息","time":"2025-07-22 14:28:25"}
{"level":"debug","msg":"主机信息准备完成","time":"2025-07-22 14:28:25","total_prepared":1,"total_requested":1}
{"error":"ERROR: column \"is_online\" of relation \"hosts\" does not exist (SQLSTATE 42703)","host_id":73,"level":"error","msg":"更新主机 ping 状态失败","time":"2025-07-22 14:28:27"}
{"consumer_id":0,"level":"info","msg":"任务执行成功","source":"api","task_id":"6169c07d-c7c0-404f-aad2-4a5c0cce7c95","task_type":"ping","tenant_id":1,"tenant_name":"默认租户","time":"2025-07-22 14:28:27","user_id":1,"username":"admin","worker_id":"worker-test-001"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-22 14:30:19"}
{"level":"info","msg":"收到退出信号，正在停止Worker...","time":"2025-07-22 14:30:35"}
{"level":"info","msg":"开始停止Worker","time":"2025-07-22 14:30:35"}
{"consumer_id":0,"level":"info","msg":"任务消费者收到退出信号","time":"2025-07-22 14:30:41","worker_id":"test-worker-001"}
{"consumer_id":1,"level":"info","msg":"任务消费者收到退出信号","time":"2025-07-22 14:30:41","worker_id":"test-worker-001"}
{"level":"info","msg":"所有任务已完成","time":"2025-07-22 14:30:41"}
{"level":"info","msg":"Worker已停止","time":"2025-07-22 14:30:41"}
{"level":"info","msg":"Worker已优雅停止","time":"2025-07-22 14:30:41"}
{"level":"info","master_url":"http://localhost:8080","msg":"启动AHOP Worker","time":"2025-07-22 14:31:44","version":"1.0.0","worker_name":"AHOP Worker on development"}
{"level":"info","msg":"使用配置的worker_id","time":"2025-07-22 14:31:44","worker_id":"test-worker-001"}
{"level":"info","master_url":"http://localhost:8080","msg":"Worker认证成功，获得数据库和Redis凭据","time":"2025-07-22 14:31:44","worker_id":"test-worker-001"}
{"executors":2,"level":"info","msg":"已注册任务执行器","time":"2025-07-22 14:31:44"}
{"concurrency":2,"level":"info","msg":"Worker启动成功","time":"2025-07-22 14:31:44","worker_id":"test-worker-001"}
{"level":"info","msg":"Worker启动成功，正在等待任务...","time":"2025-07-22 14:31:44"}
{"consumer_id":1,"level":"info","msg":"任务消费者启动","time":"2025-07-22 14:31:44","worker_id":"test-worker-001"}
{"consumer_id":0,"level":"info","msg":"任务消费者启动","time":"2025-07-22 14:31:44","worker_id":"test-worker-001"}
{"consumer_id":2,"level":"info","msg":"开始处理任务","source":"api","task_id":"62a3c241-44ed-42f8-bbfc-fc1f17250bfa","task_type":"ping","tenant_id":1,"tenant_name":"默认租户","time":"2025-07-22 14:31:49","user_id":1,"username":"admin","worker_id":"worker-test-001"}
{"count":1,"host_ids":[73],"level":"debug","msg":"开始查询主机信息","tenant_id":1,"time":"2025-07-22 14:31:49"}
{"credential_type":"password","host_id":73,"host_ip":"127.0.0.1","host_name":"","level":"debug","msg":"准备主机连接信息","time":"2025-07-22 14:31:49"}
{"level":"debug","msg":"主机信息准备完成","time":"2025-07-22 14:31:49","total_prepared":1,"total_requested":1}
{"error":"ERROR: column \"is_online\" of relation \"hosts\" does not exist (SQLSTATE 42703)","host_id":73,"level":"error","msg":"更新主机 ping 状态失败","time":"2025-07-22 14:31:51"}
{"consumer_id":2,"level":"info","msg":"任务执行成功","source":"api","task_id":"62a3c241-44ed-42f8-bbfc-fc1f17250bfa","task_type":"ping","tenant_id":1,"tenant_name":"默认租户","time":"2025-07-22 14:31:51","user_id":1,"username":"admin","worker_id":"worker-test-001"}
{"level":"info","msg":"收到退出信号，正在停止Worker...","time":"2025-07-22 14:32:19"}
{"level":"info","msg":"开始停止Worker","time":"2025-07-22 14:32:19"}
{"consumer_id":2,"level":"info","msg":"任务消费者收到退出信号","time":"2025-07-22 14:32:20","worker_id":"worker-test-001"}
{"consumer_id":0,"level":"info","msg":"任务消费者收到退出信号","time":"2025-07-22 14:32:20","worker_id":"worker-test-001"}
{"consumer_id":1,"level":"info","msg":"任务消费者收到退出信号","time":"2025-07-22 14:32:20","worker_id":"worker-test-001"}
{"level":"info","msg":"所有任务已完成","time":"2025-07-22 14:32:20"}
{"level":"info","msg":"Worker已停止","time":"2025-07-22 14:32:20"}
{"level":"info","msg":"Worker已优雅停止","time":"2025-07-22 14:32:20"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-22 14:33:44"}
{"level":"info","msg":"收到退出信号，正在停止Worker...","time":"2025-07-22 14:33:45"}
{"level":"info","msg":"开始停止Worker","time":"2025-07-22 14:33:45"}
{"consumer_id":1,"level":"info","msg":"任务消费者收到退出信号","time":"2025-07-22 14:33:45","worker_id":"test-worker-001"}
{"consumer_id":0,"level":"info","msg":"任务消费者收到退出信号","time":"2025-07-22 14:33:45","worker_id":"test-worker-001"}
{"level":"info","msg":"所有任务已完成","time":"2025-07-22 14:33:45"}
{"level":"info","msg":"Worker已停止","time":"2025-07-22 14:33:45"}
{"level":"info","msg":"Worker已优雅停止","time":"2025-07-22 14:33:45"}
{"level":"info","master_url":"http://localhost:8080","msg":"启动AHOP Worker","time":"2025-07-22 14:33:52","version":"1.0.0","worker_name":"AHOP Worker on development"}
{"level":"info","msg":"使用配置的worker_id","time":"2025-07-22 14:33:52","worker_id":"test-worker-001"}
{"level":"info","master_url":"http://localhost:8080","msg":"Worker认证成功，获得数据库和Redis凭据","time":"2025-07-22 14:33:52","worker_id":"test-worker-001"}
{"executors":2,"level":"info","msg":"已注册任务执行器","time":"2025-07-22 14:33:52"}
{"concurrency":2,"level":"info","msg":"Worker启动成功","time":"2025-07-22 14:33:52","worker_id":"test-worker-001"}
{"level":"info","msg":"Worker启动成功，正在等待任务...","time":"2025-07-22 14:33:52"}
{"consumer_id":0,"level":"info","msg":"任务消费者启动","time":"2025-07-22 14:33:52","worker_id":"test-worker-001"}
{"consumer_id":1,"level":"info","msg":"任务消费者启动","time":"2025-07-22 14:33:52","worker_id":"test-worker-001"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-22 14:35:52"}
{"level":"info","master_url":"http://localhost:8080","msg":"启动AHOP Worker","time":"2025-07-22 14:36:02","version":"1.0.0","worker_name":"AHOP Worker on development"}
{"level":"info","msg":"使用配置的worker_id","time":"2025-07-22 14:36:02","worker_id":"test-worker-001"}
{"level":"info","master_url":"http://localhost:8080","msg":"Worker认证成功，获得数据库和Redis凭据","time":"2025-07-22 14:36:02","worker_id":"test-worker-001"}
{"executors":2,"level":"info","msg":"已注册任务执行器","time":"2025-07-22 14:36:02"}
{"concurrency":2,"level":"info","msg":"Worker启动成功","time":"2025-07-22 14:36:02","worker_id":"test-worker-001"}
{"level":"info","msg":"Worker启动成功，正在等待任务...","time":"2025-07-22 14:36:02"}
{"consumer_id":0,"level":"info","msg":"任务消费者启动","time":"2025-07-22 14:36:02","worker_id":"test-worker-001"}
{"consumer_id":1,"level":"info","msg":"任务消费者启动","time":"2025-07-22 14:36:02","worker_id":"test-worker-001"}
{"level":"info","msg":"收到退出信号，正在停止Worker...","time":"2025-07-22 14:36:58"}
{"level":"info","msg":"收到退出信号，正在停止Worker...","time":"2025-07-22 14:36:58"}
{"level":"info","msg":"开始停止Worker","time":"2025-07-22 14:36:58"}
{"level":"info","msg":"开始停止Worker","time":"2025-07-22 14:36:58"}
{"consumer_id":1,"level":"info","msg":"任务消费者收到退出信号","time":"2025-07-22 14:37:03","worker_id":"test-worker-001"}
{"consumer_id":0,"level":"info","msg":"任务消费者收到退出信号","time":"2025-07-22 14:37:03","worker_id":"test-worker-001"}
{"level":"info","msg":"所有任务已完成","time":"2025-07-22 14:37:03"}
{"level":"info","msg":"Worker已停止","time":"2025-07-22 14:37:03"}
{"level":"info","msg":"Worker已优雅停止","time":"2025-07-22 14:37:03"}
{"consumer_id":0,"level":"info","msg":"任务消费者收到退出信号","time":"2025-07-22 14:37:04","worker_id":"test-worker-001"}
{"consumer_id":1,"level":"info","msg":"任务消费者收到退出信号","time":"2025-07-22 14:37:04","worker_id":"test-worker-001"}
{"level":"info","msg":"所有任务已完成","time":"2025-07-22 14:37:04"}
{"level":"info","msg":"Worker已停止","time":"2025-07-22 14:37:04"}
{"level":"info","msg":"Worker已优雅停止","time":"2025-07-22 14:37:04"}
{"level":"info","master_url":"http://localhost:8080","msg":"启动AHOP Worker","time":"2025-07-22 14:40:13","version":"1.0.0","worker_name":"AHOP Worker on development"}
{"level":"info","msg":"使用配置的worker_id","time":"2025-07-22 14:40:13","worker_id":"test-worker-001"}
{"level":"info","master_url":"http://localhost:8080","msg":"Worker认证成功，获得数据库和Redis凭据","time":"2025-07-22 14:40:13","worker_id":"test-worker-001"}
{"executors":2,"level":"info","msg":"已注册任务执行器","time":"2025-07-22 14:40:13"}
{"concurrency":2,"level":"info","msg":"Worker启动成功","time":"2025-07-22 14:40:13","worker_id":"test-worker-001"}
{"level":"info","msg":"Worker启动成功，正在等待任务...","time":"2025-07-22 14:40:13"}
{"consumer_id":0,"level":"info","msg":"任务消费者启动","time":"2025-07-22 14:40:13","worker_id":"test-worker-001"}
{"consumer_id":1,"level":"info","msg":"任务消费者启动","time":"2025-07-22 14:40:13","worker_id":"test-worker-001"}
{"consumer_id":1,"level":"info","msg":"开始处理任务","source":"api","task_id":"bb6f566d-9d63-4ace-ae96-b8505acc0945","task_type":"ping","tenant_id":1,"tenant_name":"默认租户","time":"2025-07-22 14:40:28","user_id":1,"username":"admin","worker_id":"test-worker-001"}
{"count":1,"host_ids":[73],"level":"debug","msg":"开始查询主机信息","tenant_id":1,"time":"2025-07-22 14:40:28"}
{"credential_type":"password","host_id":73,"host_ip":"127.0.0.1","host_name":"","level":"debug","msg":"准备主机连接信息","time":"2025-07-22 14:40:28"}
{"level":"debug","msg":"主机信息准备完成","time":"2025-07-22 14:40:28","total_prepared":1,"total_requested":1}
{"host_id":73,"level":"debug","msg":"准备更新的字段","time":"2025-07-22 14:40:30","updates":{"last_check_at":"2025-07-22T14:40:30.209275041+08:00","status":"online"}}
{"host_id":73,"level":"debug","msg":"更新主机 ping 状态成功","status":"online","time":"2025-07-22 14:40:30"}
{"consumer_id":1,"level":"info","msg":"任务执行成功","source":"api","task_id":"bb6f566d-9d63-4ace-ae96-b8505acc0945","task_type":"ping","tenant_id":1,"tenant_name":"默认租户","time":"2025-07-22 14:40:30","user_id":1,"username":"admin","worker_id":"test-worker-001"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-22 14:42:13"}
{"level":"info","msg":"收到退出信号，正在停止Worker...","time":"2025-07-22 14:43:27"}
{"level":"info","msg":"开始停止Worker","time":"2025-07-22 14:43:27"}
{"consumer_id":1,"level":"info","msg":"任务消费者收到退出信号","time":"2025-07-22 14:43:32","worker_id":"test-worker-001"}
{"consumer_id":0,"level":"info","msg":"任务消费者收到退出信号","time":"2025-07-22 14:43:36","worker_id":"test-worker-001"}
{"level":"info","msg":"所有任务已完成","time":"2025-07-22 14:43:36"}
{"level":"info","msg":"Worker已停止","time":"2025-07-22 14:43:36"}
{"level":"info","msg":"Worker已优雅停止","time":"2025-07-22 14:43:36"}
{"level":"info","master_url":"http://localhost:8080","msg":"启动AHOP Worker","time":"2025-07-22 14:45:17","version":"1.0.0","worker_name":"AHOP Worker on development"}
{"level":"info","msg":"使用配置的worker_id","time":"2025-07-22 14:45:17","worker_id":"test-worker-001"}
{"level":"info","master_url":"http://localhost:8080","msg":"Worker认证成功，获得数据库和Redis凭据","time":"2025-07-22 14:45:17","worker_id":"test-worker-001"}
{"executors":2,"level":"info","msg":"已注册任务执行器","time":"2025-07-22 14:45:17"}
{"concurrency":2,"level":"info","msg":"Worker启动成功","time":"2025-07-22 14:45:17","worker_id":"test-worker-001"}
{"level":"info","msg":"Worker启动成功，正在等待任务...","time":"2025-07-22 14:45:17"}
{"consumer_id":0,"level":"info","msg":"任务消费者启动","time":"2025-07-22 14:45:17","worker_id":"test-worker-001"}
{"consumer_id":1,"level":"info","msg":"任务消费者启动","time":"2025-07-22 14:45:17","worker_id":"test-worker-001"}
{"consumer_id":1,"level":"info","msg":"开始处理任务","source":"api","task_id":"b329d3a2-785e-4cc7-b3f2-151874fb88cc","task_type":"ping","tenant_id":1,"tenant_name":"默认租户","time":"2025-07-22 14:45:31","user_id":1,"username":"admin","worker_id":"test-worker-001"}
{"count":1,"host_ids":[73],"level":"debug","msg":"开始查询主机信息","tenant_id":1,"time":"2025-07-22 14:45:31"}
{"credential_type":"password","host_id":73,"host_ip":"127.0.0.1","host_name":"","level":"debug","msg":"准备主机连接信息","time":"2025-07-22 14:45:31"}
{"level":"debug","msg":"主机信息准备完成","time":"2025-07-22 14:45:31","total_prepared":1,"total_requested":1}
{"host_id":73,"level":"debug","msg":"准备更新的字段","time":"2025-07-22 14:45:33","updates":{"last_check_at":"2025-07-22T14:45:33.506643527+08:00","status":"online"}}
{"host_id":73,"level":"debug","msg":"更新主机 ping 状态成功","status":"online","time":"2025-07-22 14:45:33"}
{"consumer_id":1,"level":"info","msg":"任务执行成功","source":"api","task_id":"b329d3a2-785e-4cc7-b3f2-151874fb88cc","task_type":"ping","tenant_id":1,"tenant_name":"默认租户","time":"2025-07-22 14:45:33","user_id":1,"username":"admin","worker_id":"test-worker-001"}
{"consumer_id":0,"level":"info","msg":"开始处理任务","source":"api","task_id":"5ea87efa-fd19-4367-93d7-dcdc34b539d9","task_type":"ping","tenant_id":1,"tenant_name":"默认租户","time":"2025-07-22 14:46:11","user_id":1,"username":"admin","worker_id":"test-worker-001"}
{"count":1,"host_ids":[73],"level":"debug","msg":"开始查询主机信息","tenant_id":1,"time":"2025-07-22 14:46:11"}
{"credential_type":"password","host_id":73,"host_ip":"127.0.0.1","host_name":"","level":"debug","msg":"准备主机连接信息","time":"2025-07-22 14:46:11"}
{"level":"debug","msg":"主机信息准备完成","time":"2025-07-22 14:46:11","total_prepared":1,"total_requested":1}
{"host_id":73,"level":"debug","msg":"准备更新的字段","time":"2025-07-22 14:46:13","updates":{"last_check_at":"2025-07-22T14:46:13.885685337+08:00","status":"online"}}
{"host_id":73,"level":"debug","msg":"更新主机 ping 状态成功","status":"online","time":"2025-07-22 14:46:13"}
{"consumer_id":0,"level":"info","msg":"任务执行成功","source":"api","task_id":"5ea87efa-fd19-4367-93d7-dcdc34b539d9","task_type":"ping","tenant_id":1,"tenant_name":"默认租户","time":"2025-07-22 14:46:13","user_id":1,"username":"admin","worker_id":"test-worker-001"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-22 14:47:17"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-22 14:49:17"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-22 14:51:17"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-22 14:53:17"}
{"level":"info","msg":"收到退出信号，正在停止Worker...","time":"2025-07-22 14:54:49"}
{"level":"info","msg":"开始停止Worker","time":"2025-07-22 14:54:49"}
{"consumer_id":0,"level":"info","msg":"任务消费者收到退出信号","time":"2025-07-22 14:54:49","worker_id":"test-worker-001"}
{"consumer_id":1,"level":"info","msg":"任务消费者收到退出信号","time":"2025-07-22 14:54:49","worker_id":"test-worker-001"}
{"level":"info","msg":"所有任务已完成","time":"2025-07-22 14:54:49"}
{"level":"info","msg":"Worker已停止","time":"2025-07-22 14:54:49"}
{"level":"info","msg":"Worker已优雅停止","time":"2025-07-22 14:54:49"}
{"level":"info","master_url":"http://localhost:8080","msg":"启动AHOP Worker","time":"2025-07-22 14:54:50","version":"1.0.0","worker_name":"AHOP Worker on development"}
{"level":"info","msg":"使用配置的worker_id","time":"2025-07-22 14:54:50","worker_id":"test-worker-001"}
{"level":"info","master_url":"http://localhost:8080","msg":"Worker认证成功，获得数据库和Redis凭据","time":"2025-07-22 14:54:50","worker_id":"test-worker-001"}
{"executors":2,"level":"info","msg":"已注册任务执行器","time":"2025-07-22 14:54:50"}
{"concurrency":2,"level":"info","msg":"Worker启动成功","time":"2025-07-22 14:54:50","worker_id":"test-worker-001"}
{"level":"info","msg":"Worker启动成功，正在等待任务...","time":"2025-07-22 14:54:50"}
{"consumer_id":0,"level":"info","msg":"任务消费者启动","time":"2025-07-22 14:54:50","worker_id":"test-worker-001"}
{"consumer_id":1,"level":"info","msg":"任务消费者启动","time":"2025-07-22 14:54:50","worker_id":"test-worker-001"}
{"consumer_id":1,"level":"info","msg":"开始处理任务","source":"api","task_id":"9521012e-315b-4bf3-be3d-7e2c80c098f9","task_type":"ping","tenant_id":1,"tenant_name":"默认租户","time":"2025-07-22 14:55:04","user_id":1,"username":"admin","worker_id":"test-worker-001"}
{"count":1,"host_ids":[73],"level":"debug","msg":"开始查询主机信息","tenant_id":1,"time":"2025-07-22 14:55:04"}
{"credential_type":"password","host_id":73,"host_ip":"127.0.0.1","host_name":"","level":"debug","msg":"准备主机连接信息","time":"2025-07-22 14:55:04"}
{"level":"debug","msg":"主机信息准备完成","time":"2025-07-22 14:55:04","total_prepared":1,"total_requested":1}
{"host_id":73,"level":"debug","msg":"更新主机 ping 状态成功","status":"online","time":"2025-07-22 14:55:06"}
{"consumer_id":1,"level":"info","msg":"任务执行成功","source":"api","task_id":"9521012e-315b-4bf3-be3d-7e2c80c098f9","task_type":"ping","tenant_id":1,"tenant_name":"默认租户","time":"2025-07-22 14:55:06","user_id":1,"username":"admin","worker_id":"test-worker-001"}
{"consumer_id":0,"level":"info","msg":"开始处理任务","source":"api","task_id":"0acfe7d3-f1b5-49e0-8467-f286b09f96c5","task_type":"collect","tenant_id":1,"tenant_name":"默认租户","time":"2025-07-22 14:55:35","user_id":1,"username":"admin","worker_id":"test-worker-001"}
{"count":1,"host_ids":[73],"level":"debug","msg":"开始查询主机信息","tenant_id":1,"time":"2025-07-22 14:55:35"}
{"credential_type":"password","host_id":73,"host_ip":"127.0.0.1","host_name":"","level":"debug","msg":"准备主机连接信息","time":"2025-07-22 14:55:35"}
{"level":"debug","msg":"主机信息准备完成","time":"2025-07-22 14:55:35","total_prepared":1,"total_requested":1}
{"host_id":73,"level":"debug","msg":"没有找到挂载点信息","time":"2025-07-22 14:55:41"}
{"host_id":73,"level":"debug","msg":"没有找到网络接口信息","time":"2025-07-22 14:55:41"}
{"host_id":73,"level":"info","msg":"更新主机系统信息成功","time":"2025-07-22 14:55:41"}
{"consumer_id":0,"level":"info","msg":"任务执行成功","source":"api","task_id":"0acfe7d3-f1b5-49e0-8467-f286b09f96c5","task_type":"collect","tenant_id":1,"tenant_name":"默认租户","time":"2025-07-22 14:55:41","user_id":1,"username":"admin","worker_id":"test-worker-001"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-22 14:56:50"}
{"level":"info","msg":"收到退出信号，正在停止Worker...","time":"2025-07-22 14:58:38"}
{"level":"info","msg":"开始停止Worker","time":"2025-07-22 14:58:38"}
{"consumer_id":1,"level":"info","msg":"任务消费者收到退出信号","time":"2025-07-22 14:58:39","worker_id":"test-worker-001"}
{"consumer_id":0,"level":"info","msg":"任务消费者收到退出信号","time":"2025-07-22 14:58:43","worker_id":"test-worker-001"}
{"level":"info","msg":"所有任务已完成","time":"2025-07-22 14:58:43"}
{"level":"info","msg":"Worker已停止","time":"2025-07-22 14:58:43"}
{"level":"info","msg":"Worker已优雅停止","time":"2025-07-22 14:58:43"}
{"level":"info","master_url":"http://localhost:8080","msg":"启动AHOP Worker","time":"2025-07-22 14:58:44","version":"1.0.0","worker_name":"AHOP Worker on development"}
{"level":"info","msg":"使用配置的worker_id","time":"2025-07-22 14:58:44","worker_id":"test-worker-001"}
{"level":"info","master_url":"http://localhost:8080","msg":"Worker认证成功，获得数据库和Redis凭据","time":"2025-07-22 14:58:44","worker_id":"test-worker-001"}
{"executors":2,"level":"info","msg":"已注册任务执行器","time":"2025-07-22 14:58:44"}
{"concurrency":2,"level":"info","msg":"Worker启动成功","time":"2025-07-22 14:58:44","worker_id":"test-worker-001"}
{"level":"info","msg":"Worker启动成功，正在等待任务...","time":"2025-07-22 14:58:44"}
{"consumer_id":0,"level":"info","msg":"任务消费者启动","time":"2025-07-22 14:58:44","worker_id":"test-worker-001"}
{"consumer_id":1,"level":"info","msg":"任务消费者启动","time":"2025-07-22 14:58:44","worker_id":"test-worker-001"}
{"consumer_id":1,"level":"info","msg":"开始处理任务","source":"api","task_id":"ff7731c2-f010-45e1-b204-926ef9963033","task_type":"collect","tenant_id":1,"tenant_name":"默认租户","time":"2025-07-22 14:58:58","user_id":1,"username":"admin","worker_id":"test-worker-001"}
{"count":1,"host_ids":[73],"level":"debug","msg":"开始查询主机信息","tenant_id":1,"time":"2025-07-22 14:58:58"}
{"credential_type":"password","host_id":73,"host_ip":"127.0.0.1","host_name":"","level":"debug","msg":"准备主机连接信息","time":"2025-07-22 14:58:58"}
{"level":"debug","msg":"主机信息准备完成","time":"2025-07-22 14:58:58","total_prepared":1,"total_requested":1}
{"host_id":73,"level":"debug","msg":"ansible_facts 字段数量: 109","time":"2025-07-22 14:59:04"}
{"host_id":73,"level":"debug","msg":"找到字段: ansible_mounts","time":"2025-07-22 14:59:04"}
{"host_id":73,"level":"debug","msg":"找到字段: ansible_interfaces","time":"2025-07-22 14:59:04"}
{"host_id":73,"level":"info","msg":"更新主机系统信息成功","time":"2025-07-22 14:59:04"}
{"consumer_id":1,"level":"info","msg":"任务执行成功","source":"api","task_id":"ff7731c2-f010-45e1-b204-926ef9963033","task_type":"collect","tenant_id":1,"tenant_name":"默认租户","time":"2025-07-22 14:59:04","user_id":1,"username":"admin","worker_id":"test-worker-001"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-22 15:00:44"}
{"level":"info","msg":"收到退出信号，正在停止Worker...","time":"2025-07-22 15:01:13"}
{"level":"info","msg":"开始停止Worker","time":"2025-07-22 15:01:13"}
{"consumer_id":0,"level":"info","msg":"任务消费者收到退出信号","time":"2025-07-22 15:01:16","worker_id":"test-worker-001"}
{"consumer_id":1,"level":"info","msg":"任务消费者收到退出信号","time":"2025-07-22 15:01:16","worker_id":"test-worker-001"}
{"level":"info","msg":"所有任务已完成","time":"2025-07-22 15:01:16"}
{"level":"info","msg":"Worker已停止","time":"2025-07-22 15:01:16"}
{"level":"info","msg":"Worker已优雅停止","time":"2025-07-22 15:01:16"}
{"level":"info","master_url":"http://localhost:8080","msg":"启动AHOP Worker","time":"2025-07-22 15:01:17","version":"1.0.0","worker_name":"AHOP Worker on development"}
{"level":"info","msg":"使用配置的worker_id","time":"2025-07-22 15:01:17","worker_id":"test-worker-001"}
{"level":"info","master_url":"http://localhost:8080","msg":"Worker认证成功，获得数据库和Redis凭据","time":"2025-07-22 15:01:17","worker_id":"test-worker-001"}
{"executors":2,"level":"info","msg":"已注册任务执行器","time":"2025-07-22 15:01:17"}
{"concurrency":2,"level":"info","msg":"Worker启动成功","time":"2025-07-22 15:01:17","worker_id":"test-worker-001"}
{"level":"info","msg":"Worker启动成功，正在等待任务...","time":"2025-07-22 15:01:17"}
{"consumer_id":0,"level":"info","msg":"任务消费者启动","time":"2025-07-22 15:01:17","worker_id":"test-worker-001"}
{"consumer_id":1,"level":"info","msg":"任务消费者启动","time":"2025-07-22 15:01:17","worker_id":"test-worker-001"}
{"consumer_id":1,"level":"info","msg":"开始处理任务","source":"api","task_id":"183ea17a-ce62-49c9-a78c-4767cb510255","task_type":"collect","tenant_id":1,"tenant_name":"默认租户","time":"2025-07-22 15:01:31","user_id":1,"username":"admin","worker_id":"test-worker-001"}
{"count":1,"host_ids":[73],"level":"debug","msg":"开始查询主机信息","tenant_id":1,"time":"2025-07-22 15:01:31"}
{"credential_type":"password","host_id":73,"host_ip":"127.0.0.1","host_name":"development","level":"debug","msg":"准备主机连接信息","time":"2025-07-22 15:01:31"}
{"level":"debug","msg":"主机信息准备完成","time":"2025-07-22 15:01:31","total_prepared":1,"total_requested":1}
{"host_id":73,"level":"debug","msg":"ansible_facts 字段数量: 109","time":"2025-07-22 15:01:37"}
{"host_id":73,"level":"debug","msg":"找到字段: ansible_mounts","time":"2025-07-22 15:01:37"}
{"host_id":73,"level":"debug","msg":"找到字段: ansible_interfaces","time":"2025-07-22 15:01:37"}
{"host_id":73,"level":"info","msg":"更新主机系统信息成功","time":"2025-07-22 15:01:37"}
{"consumer_id":1,"level":"info","msg":"任务执行成功","source":"api","task_id":"183ea17a-ce62-49c9-a78c-4767cb510255","task_type":"collect","tenant_id":1,"tenant_name":"默认租户","time":"2025-07-22 15:01:37","user_id":1,"username":"admin","worker_id":"test-worker-001"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-22 15:03:17"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-22 15:05:17"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-22 15:07:17"}
{"consumer_id":0,"level":"info","msg":"开始处理任务","source":"api","task_id":"2b6c9a20-40db-4706-aa59-96340f03830c","task_type":"ping","tenant_id":1,"tenant_name":"默认租户","time":"2025-07-22 15:08:35","user_id":1,"username":"admin","worker_id":"test-worker-001"}
{"count":1,"host_ids":[73],"level":"debug","msg":"开始查询主机信息","tenant_id":1,"time":"2025-07-22 15:08:35"}
{"credential_type":"password","host_id":73,"host_ip":"127.0.0.1","host_name":"development","level":"debug","msg":"准备主机连接信息","time":"2025-07-22 15:08:35"}
{"level":"debug","msg":"主机信息准备完成","time":"2025-07-22 15:08:35","total_prepared":1,"total_requested":1}
{"host_id":73,"level":"debug","msg":"更新主机 ping 状态成功","status":"online","time":"2025-07-22 15:08:38"}
{"consumer_id":0,"level":"info","msg":"任务执行成功","source":"api","task_id":"2b6c9a20-40db-4706-aa59-96340f03830c","task_type":"ping","tenant_id":1,"tenant_name":"默认租户","time":"2025-07-22 15:08:38","user_id":1,"username":"admin","worker_id":"test-worker-001"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-22 15:09:17"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-22 15:11:17"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-22 15:13:17"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-22 15:15:17"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-22 15:17:17"}
{"error":"ERROR: relation \"workers\" does not exist (SQLSTATE 42P01)","level":"error","msg":"发送心跳失败","time":"2025-07-22 15:17:48"}
{"level":"info","msg":"收到退出信号，正在停止Worker...","time":"2025-07-22 15:19:09"}
{"level":"info","msg":"开始停止Worker","time":"2025-07-22 15:19:09"}
{"consumer_id":0,"level":"info","msg":"任务消费者收到退出信号","time":"2025-07-22 15:19:15","worker_id":"test-worker-001"}
{"consumer_id":1,"level":"info","msg":"任务消费者收到退出信号","time":"2025-07-22 15:19:19","worker_id":"test-worker-001"}
{"level":"info","msg":"所有任务已完成","time":"2025-07-22 15:19:19"}
{"level":"info","msg":"Worker已停止","time":"2025-07-22 15:19:19"}
{"level":"info","msg":"Worker已优雅停止","time":"2025-07-22 15:19:19"}
{"level":"info","master_url":"http://localhost:8080","msg":"启动AHOP Worker","time":"2025-07-22 15:19:58","version":"1.0.0","worker_name":"AHOP Worker on development"}
{"level":"info","msg":"使用配置的worker_id","time":"2025-07-22 15:19:58","worker_id":"test-worker-001"}
{"error":"向Master认证失败: 认证失败: 无效的AccessKey (HTTP 200, Code 401)","level":"fatal","msg":"创建Worker失败","time":"2025-07-22 15:19:58"}
{"level":"info","master_url":"http://localhost:8080","msg":"启动AHOP Worker","time":"2025-07-22 15:20:03","version":"1.0.0","worker_name":"AHOP Worker on development"}
{"level":"info","msg":"使用配置的worker_id","time":"2025-07-22 15:20:03","worker_id":"test-worker-001"}
{"error":"向Master认证失败: 认证失败: 无效的AccessKey (HTTP 200, Code 401)","level":"fatal","msg":"创建Worker失败","time":"2025-07-22 15:20:03"}
{"level":"info","master_url":"http://localhost:8080","msg":"启动AHOP Worker","time":"2025-07-22 15:20:09","version":"1.0.0","worker_name":"AHOP Worker on development"}
{"level":"info","msg":"使用配置的worker_id","time":"2025-07-22 15:20:09","worker_id":"test-worker-001"}
{"error":"向Master认证失败: 认证失败: 无效的AccessKey (HTTP 200, Code 401)","level":"fatal","msg":"创建Worker失败","time":"2025-07-22 15:20:09"}
{"level":"info","master_url":"http://localhost:8080","msg":"启动AHOP Worker","time":"2025-07-22 15:26:44","version":"1.0.0","worker_name":"AHOP Worker on development"}
{"level":"info","msg":"使用配置的worker_id","time":"2025-07-22 15:26:44","worker_id":"test-worker-001"}
{"level":"info","master_url":"http://localhost:8080","msg":"Worker认证成功，获得数据库和Redis凭据","time":"2025-07-22 15:26:44","worker_id":"test-worker-001"}
{"executors":2,"level":"info","msg":"已注册任务执行器","time":"2025-07-22 15:26:44"}
{"concurrency":2,"level":"info","msg":"Worker启动成功","time":"2025-07-22 15:26:44","worker_id":"test-worker-001"}
{"level":"info","msg":"Worker启动成功，正在等待任务...","time":"2025-07-22 15:26:44"}
{"consumer_id":1,"level":"info","msg":"任务消费者启动","time":"2025-07-22 15:26:44","worker_id":"test-worker-001"}
{"consumer_id":0,"level":"info","msg":"任务消费者启动","time":"2025-07-22 15:26:44","worker_id":"test-worker-001"}
{"level":"info","msg":"收到退出信号，正在停止Worker...","time":"2025-07-22 15:26:59"}
{"level":"info","msg":"开始停止Worker","time":"2025-07-22 15:26:59"}
{"consumer_id":0,"level":"info","msg":"任务消费者收到退出信号","time":"2025-07-22 15:27:04","worker_id":"test-worker-001"}
{"consumer_id":1,"level":"info","msg":"任务消费者收到退出信号","time":"2025-07-22 15:27:04","worker_id":"test-worker-001"}
{"level":"info","msg":"所有任务已完成","time":"2025-07-22 15:27:04"}
{"level":"info","msg":"Worker已停止","time":"2025-07-22 15:27:04"}
{"level":"info","msg":"Worker已优雅停止","time":"2025-07-22 15:27:04"}
{"level":"info","master_url":"http://localhost:8080","msg":"启动AHOP Worker","time":"2025-07-22 15:27:16","version":"1.0.0","worker_name":"AHOP Worker on development"}
{"level":"info","msg":"使用配置的worker_id","time":"2025-07-22 15:27:16","worker_id":"test-worker-001"}
{"level":"info","master_url":"http://localhost:8080","msg":"Worker认证成功，获得数据库和Redis凭据","time":"2025-07-22 15:27:16","worker_id":"test-worker-001"}
{"executors":2,"level":"info","msg":"已注册任务执行器","time":"2025-07-22 15:27:16"}
{"concurrency":2,"level":"info","msg":"Worker启动成功","time":"2025-07-22 15:27:16","worker_id":"test-worker-001"}
{"level":"info","msg":"Worker启动成功，正在等待任务...","time":"2025-07-22 15:27:16"}
{"consumer_id":0,"level":"info","msg":"任务消费者启动","time":"2025-07-22 15:27:16","worker_id":"test-worker-001"}
{"consumer_id":1,"level":"info","msg":"任务消费者启动","time":"2025-07-22 15:27:16","worker_id":"test-worker-001"}
{"consumer_id":1,"level":"info","msg":"开始处理任务","source":"api","task_id":"6e298b13-0233-4d8d-b7ae-a8a70bbf8a49","task_type":"collect","tenant_id":1,"tenant_name":"默认租户","time":"2025-07-22 15:29:01","user_id":1,"username":"admin","worker_id":"test-worker-001"}
{"count":1,"host_ids":[2],"level":"debug","msg":"开始查询主机信息","tenant_id":1,"time":"2025-07-22 15:29:01"}
{"credential_type":"password","host_id":2,"host_ip":"127.0.0.1","host_name":"","level":"debug","msg":"准备主机连接信息","time":"2025-07-22 15:29:01"}
{"level":"debug","msg":"主机信息准备完成","time":"2025-07-22 15:29:01","total_prepared":1,"total_requested":1}
{"host_id":2,"level":"debug","msg":"ansible_facts 字段数量: 109","time":"2025-07-22 15:29:08"}
{"host_id":2,"level":"debug","msg":"找到字段: ansible_interfaces","time":"2025-07-22 15:29:08"}
{"host_id":2,"level":"debug","msg":"找到字段: ansible_mounts","time":"2025-07-22 15:29:08"}
{"host_id":2,"level":"info","msg":"更新主机系统信息成功","time":"2025-07-22 15:29:08"}
{"consumer_id":1,"level":"info","msg":"任务执行成功","source":"api","task_id":"6e298b13-0233-4d8d-b7ae-a8a70bbf8a49","task_type":"collect","tenant_id":1,"tenant_name":"默认租户","time":"2025-07-22 15:29:08","user_id":1,"username":"admin","worker_id":"test-worker-001"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-22 15:29:16"}
{"consumer_id":0,"level":"info","msg":"开始处理任务","source":"api","task_id":"2fcde0ae-7287-4ff9-a064-a138c606b97e","task_type":"ping","tenant_id":1,"tenant_name":"默认租户","time":"2025-07-22 15:29:52","user_id":1,"username":"admin","worker_id":"test-worker-001"}
{"count":1,"host_ids":[2],"level":"debug","msg":"开始查询主机信息","tenant_id":1,"time":"2025-07-22 15:29:52"}
{"credential_type":"password","host_id":2,"host_ip":"127.0.0.1","host_name":"development","level":"debug","msg":"准备主机连接信息","time":"2025-07-22 15:29:52"}
{"level":"debug","msg":"主机信息准备完成","time":"2025-07-22 15:29:52","total_prepared":1,"total_requested":1}
{"host_id":2,"level":"debug","msg":"更新主机 ping 状态成功","status":"online","time":"2025-07-22 15:29:54"}
{"consumer_id":0,"level":"info","msg":"任务执行成功","source":"api","task_id":"2fcde0ae-7287-4ff9-a064-a138c606b97e","task_type":"ping","tenant_id":1,"tenant_name":"默认租户","time":"2025-07-22 15:29:54","user_id":1,"username":"admin","worker_id":"test-worker-001"}
{"consumer_id":1,"level":"info","msg":"开始处理任务","source":"api","task_id":"e7cdeb9b-0a9e-4ad5-80b3-dab55ac80862","task_type":"ping","tenant_id":1,"tenant_name":"默认租户","time":"2025-07-22 15:30:03","user_id":1,"username":"admin","worker_id":"test-worker-001"}
{"count":2,"host_ids":[2,1],"level":"debug","msg":"开始查询主机信息","tenant_id":1,"time":"2025-07-22 15:30:03"}
{"credential_type":"password","host_id":1,"host_ip":"127.0.0.1","host_name":"","level":"debug","msg":"准备主机连接信息","time":"2025-07-22 15:30:03"}
{"credential_type":"password","host_id":2,"host_ip":"127.0.0.1","host_name":"development","level":"debug","msg":"准备主机连接信息","time":"2025-07-22 15:30:03"}
{"level":"debug","msg":"主机信息准备完成","time":"2025-07-22 15:30:03","total_prepared":2,"total_requested":2}
{"host_id":1,"level":"debug","msg":"更新主机 ping 状态成功","status":"online","time":"2025-07-22 15:30:07"}
{"host_id":2,"level":"debug","msg":"更新主机 ping 状态成功","status":"online","time":"2025-07-22 15:30:07"}
{"consumer_id":1,"level":"info","msg":"任务执行成功","source":"api","task_id":"e7cdeb9b-0a9e-4ad5-80b3-dab55ac80862","task_type":"ping","tenant_id":1,"tenant_name":"默认租户","time":"2025-07-22 15:30:07","user_id":1,"username":"admin","worker_id":"test-worker-001"}
{"consumer_id":0,"level":"info","msg":"开始处理任务","source":"api","task_id":"ccf0baa0-50d2-4479-a5f1-fe8c25c3f2cc","task_type":"ping","tenant_id":1,"tenant_name":"默认租户","time":"2025-07-22 15:30:59","user_id":1,"username":"admin","worker_id":"test-worker-001"}
{"count":2,"host_ids":[2,1],"level":"debug","msg":"开始查询主机信息","tenant_id":1,"time":"2025-07-22 15:30:59"}
{"credential_type":"password","host_id":1,"host_ip":"192.168.5.4","host_name":"","level":"debug","msg":"准备主机连接信息","time":"2025-07-22 15:30:59"}
{"credential_type":"password","host_id":2,"host_ip":"127.0.0.1","host_name":"development","level":"debug","msg":"准备主机连接信息","time":"2025-07-22 15:30:59"}
{"level":"debug","msg":"主机信息准备完成","time":"2025-07-22 15:30:59","total_prepared":2,"total_requested":2}
{"host_id":2,"level":"debug","msg":"更新主机 ping 状态成功","status":"online","time":"2025-07-22 15:31:06"}
{"host_id":1,"level":"debug","msg":"更新主机 ping 状态成功","status":"offline","time":"2025-07-22 15:31:06"}
{"consumer_id":0,"level":"info","msg":"任务执行成功","source":"api","task_id":"ccf0baa0-50d2-4479-a5f1-fe8c25c3f2cc","task_type":"ping","tenant_id":1,"tenant_name":"默认租户","time":"2025-07-22 15:31:06","user_id":1,"username":"admin","worker_id":"test-worker-001"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-22 15:31:16"}
{"consumer_id":0,"level":"info","msg":"开始处理任务","source":"api","task_id":"e96e3d48-5728-4506-853f-d4052a4d6f79","task_type":"collect","tenant_id":1,"tenant_name":"默认租户","time":"2025-07-22 15:31:50","user_id":1,"username":"admin","worker_id":"test-worker-001"}
{"count":2,"host_ids":[2,1],"level":"debug","msg":"开始查询主机信息","tenant_id":1,"time":"2025-07-22 15:31:50"}
{"credential_type":"password","host_id":1,"host_ip":"192.168.5.4","host_name":"","level":"debug","msg":"准备主机连接信息","time":"2025-07-22 15:31:50"}
{"credential_type":"password","host_id":2,"host_ip":"127.0.0.1","host_name":"development","level":"debug","msg":"准备主机连接信息","time":"2025-07-22 15:31:50"}
{"level":"debug","msg":"主机信息准备完成","time":"2025-07-22 15:31:50","total_prepared":2,"total_requested":2}
{"host_id":2,"level":"debug","msg":"ansible_facts 字段数量: 109","time":"2025-07-22 15:32:28"}
{"host_id":2,"level":"debug","msg":"找到字段: ansible_mounts","time":"2025-07-22 15:32:28"}
{"host_id":2,"level":"debug","msg":"找到字段: ansible_interfaces","time":"2025-07-22 15:32:28"}
{"host_id":2,"level":"info","msg":"更新主机系统信息成功","time":"2025-07-22 15:32:28"}
{"host_id":1,"level":"warning","msg":"主机信息收集失败，跳过更新","time":"2025-07-22 15:32:28"}
{"consumer_id":0,"level":"info","msg":"任务执行成功","source":"api","task_id":"e96e3d48-5728-4506-853f-d4052a4d6f79","task_type":"collect","tenant_id":1,"tenant_name":"默认租户","time":"2025-07-22 15:32:28","user_id":1,"username":"admin","worker_id":"test-worker-001"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-22 15:33:16"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-22 15:35:16"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-22 15:37:16"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-22 15:39:16"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-22 15:41:16"}
{"level":"info","msg":"收到退出信号，正在停止Worker...","time":"2025-07-22 15:41:39"}
{"level":"info","msg":"开始停止Worker","time":"2025-07-22 15:41:39"}
{"consumer_id":0,"level":"info","msg":"任务消费者收到退出信号","time":"2025-07-22 15:41:44","worker_id":"test-worker-001"}
{"consumer_id":1,"level":"info","msg":"任务消费者收到退出信号","time":"2025-07-22 15:41:45","worker_id":"test-worker-001"}
{"level":"info","msg":"所有任务已完成","time":"2025-07-22 15:41:45"}
{"level":"info","msg":"Worker已停止","time":"2025-07-22 15:41:45"}
{"level":"info","msg":"Worker已优雅停止","time":"2025-07-22 15:41:45"}
{"level":"info","master_url":"http://localhost:8080","msg":"启动AHOP Worker","time":"2025-07-22 15:41:45","version":"1.0.0","worker_name":"AHOP Worker on development"}
{"level":"info","msg":"使用配置的worker_id","time":"2025-07-22 15:41:45","worker_id":"test-worker-001"}
{"level":"info","master_url":"http://localhost:8080","msg":"Worker认证成功，获得数据库和Redis凭据","time":"2025-07-22 15:41:45","worker_id":"test-worker-001"}
{"executors":2,"level":"info","msg":"已注册任务执行器","time":"2025-07-22 15:41:45"}
{"concurrency":2,"level":"info","msg":"Worker启动成功","time":"2025-07-22 15:41:45","worker_id":"test-worker-001"}
{"consumer_id":0,"level":"info","msg":"任务消费者启动","time":"2025-07-22 15:41:45","worker_id":"test-worker-001"}
{"consumer_id":1,"level":"info","msg":"任务消费者启动","time":"2025-07-22 15:41:45","worker_id":"test-worker-001"}
{"level":"info","msg":"Worker启动成功，正在等待任务...","time":"2025-07-22 15:41:45"}
{"consumer_id":1,"level":"info","msg":"开始处理任务","source":"api","task_id":"f026ffaf-b57b-4252-9c51-dbf3fc4084dc","task_type":"collect","tenant_id":1,"tenant_name":"默认租户","time":"2025-07-22 15:42:00","user_id":1,"username":"admin","worker_id":"test-worker-001"}
{"count":2,"host_ids":[2,1],"level":"debug","msg":"开始查询主机信息","tenant_id":1,"time":"2025-07-22 15:42:00"}
{"credential_type":"password","host_id":1,"host_ip":"192.168.5.4","host_name":"","level":"debug","msg":"准备主机连接信息","time":"2025-07-22 15:42:00"}
{"credential_type":"password","host_id":2,"host_ip":"127.0.0.1","host_name":"development","level":"debug","msg":"准备主机连接信息","time":"2025-07-22 15:42:00"}
{"level":"debug","msg":"主机信息准备完成","time":"2025-07-22 15:42:00","total_prepared":2,"total_requested":2}
{"host_id":1,"level":"warning","msg":"主机信息收集失败，跳过更新","time":"2025-07-22 15:42:37"}
{"host_id":2,"level":"debug","msg":"ansible_facts 字段数量: 109","time":"2025-07-22 15:42:37"}
{"host_id":2,"level":"debug","msg":"找到字段: ansible_interfaces","time":"2025-07-22 15:42:37"}
{"host_id":2,"level":"debug","msg":"找到字段: ansible_mounts","time":"2025-07-22 15:42:37"}
{"host_id":2,"level":"info","msg":"更新主机系统信息成功","time":"2025-07-22 15:42:37"}
{"consumer_id":1,"level":"info","msg":"任务执行成功","source":"api","task_id":"f026ffaf-b57b-4252-9c51-dbf3fc4084dc","task_type":"collect","tenant_id":1,"tenant_name":"默认租户","time":"2025-07-22 15:42:37","user_id":1,"username":"admin","worker_id":"test-worker-001"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-22 15:43:45"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-22 15:45:45"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-22 15:47:45"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-22 15:49:45"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-22 15:51:45"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-22 15:53:45"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-22 15:55:45"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-22 15:57:45"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-22 15:59:45"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-22 16:01:45"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-22 16:03:45"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-22 16:05:45"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-22 16:07:45"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-22 16:09:45"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-22 16:11:45"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-22 16:13:45"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-22 16:15:45"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-22 16:17:45"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-22 16:19:45"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-22 16:21:45"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-22 16:23:45"}
{"level":"info","msg":"收到退出信号，正在停止Worker...","time":"2025-07-22 16:25:21"}
{"level":"info","msg":"开始停止Worker","time":"2025-07-22 16:25:21"}
{"consumer_id":0,"level":"info","msg":"任务消费者收到退出信号","time":"2025-07-22 16:25:24","worker_id":"test-worker-001"}
{"consumer_id":1,"level":"info","msg":"任务消费者收到退出信号","time":"2025-07-22 16:25:25","worker_id":"test-worker-001"}
{"level":"info","msg":"所有任务已完成","time":"2025-07-22 16:25:25"}
{"level":"info","msg":"Worker已停止","time":"2025-07-22 16:25:25"}
{"level":"info","msg":"Worker已优雅停止","time":"2025-07-22 16:25:25"}
{"level":"info","master_url":"http://localhost:8080","msg":"启动AHOP Worker","time":"2025-07-22 16:25:27","version":"1.0.0","worker_name":"AHOP Worker on development"}
{"level":"info","msg":"使用配置的worker_id","time":"2025-07-22 16:25:27","worker_id":"test-worker-001"}
{"level":"info","master_url":"http://localhost:8080","msg":"Worker认证成功，获得数据库和Redis凭据","time":"2025-07-22 16:25:27","worker_id":"test-worker-001"}
{"executors":2,"level":"info","msg":"已注册任务执行器","time":"2025-07-22 16:25:27"}
{"concurrency":2,"level":"info","msg":"Worker启动成功","time":"2025-07-22 16:25:27","worker_id":"test-worker-001"}
{"level":"info","msg":"Worker启动成功，正在等待任务...","time":"2025-07-22 16:25:27"}
{"consumer_id":0,"level":"info","msg":"任务消费者启动","time":"2025-07-22 16:25:27","worker_id":"test-worker-001"}
{"consumer_id":1,"level":"info","msg":"任务消费者启动","time":"2025-07-22 16:25:27","worker_id":"test-worker-001"}
{"consumer_id":0,"level":"info","msg":"开始处理任务","source":"api","task_id":"cf213a8f-45c3-4faf-83ff-2c5126533924","task_type":"ping","tenant_id":1,"tenant_name":"默认租户","time":"2025-07-22 16:25:41","user_id":1,"username":"admin","worker_id":"test-worker-001"}
{"count":2,"host_ids":[2,1],"level":"debug","msg":"开始查询主机信息","tenant_id":1,"time":"2025-07-22 16:25:41"}
{"credential_type":"password","host_id":1,"host_ip":"192.168.5.4","host_name":"","level":"debug","msg":"准备主机连接信息","time":"2025-07-22 16:25:41"}
{"credential_type":"password","host_id":2,"host_ip":"127.0.0.1","host_name":"development","level":"debug","msg":"准备主机连接信息","time":"2025-07-22 16:25:41"}
{"level":"debug","msg":"主机信息准备完成","time":"2025-07-22 16:25:41","total_prepared":2,"total_requested":2}
{"host_id":1,"level":"debug","msg":"更新主机 ping 状态成功","status":"offline","time":"2025-07-22 16:25:48"}
{"host_id":2,"level":"debug","msg":"更新主机 ping 状态成功","status":"online","time":"2025-07-22 16:25:48"}
{"consumer_id":0,"level":"info","msg":"任务执行成功","source":"api","task_id":"cf213a8f-45c3-4faf-83ff-2c5126533924","task_type":"ping","tenant_id":1,"tenant_name":"默认租户","time":"2025-07-22 16:25:48","user_id":1,"username":"admin","worker_id":"test-worker-001"}
{"level":"info","msg":"收到退出信号，正在停止Worker...","time":"2025-07-22 16:26:03"}
{"level":"info","msg":"开始停止Worker","time":"2025-07-22 16:26:03"}
{"consumer_id":1,"level":"info","msg":"任务消费者收到退出信号","time":"2025-07-22 16:26:07","worker_id":"test-worker-001"}
{"consumer_id":0,"level":"info","msg":"任务消费者收到退出信号","time":"2025-07-22 16:26:08","worker_id":"test-worker-001"}
{"level":"info","msg":"所有任务已完成","time":"2025-07-22 16:26:08"}
{"level":"info","msg":"Worker已停止","time":"2025-07-22 16:26:08"}
{"level":"info","msg":"Worker已优雅停止","time":"2025-07-22 16:26:08"}
{"level":"info","master_url":"http://localhost:8080","msg":"启动AHOP Worker","time":"2025-07-22 16:26:13","version":"1.0.0","worker_name":"AHOP Worker on development"}
{"level":"info","msg":"使用配置的worker_id","time":"2025-07-22 16:26:13","worker_id":"test-worker-001"}
{"level":"info","master_url":"http://localhost:8080","msg":"Worker认证成功，获得数据库和Redis凭据","time":"2025-07-22 16:26:13","worker_id":"test-worker-001"}
{"executors":2,"level":"info","msg":"已注册任务执行器","time":"2025-07-22 16:26:13"}
{"concurrency":2,"level":"info","msg":"Worker启动成功","time":"2025-07-22 16:26:13","worker_id":"test-worker-001"}
{"level":"info","msg":"Worker启动成功，正在等待任务...","time":"2025-07-22 16:26:13"}
{"consumer_id":0,"level":"info","msg":"任务消费者启动","time":"2025-07-22 16:26:13","worker_id":"test-worker-001"}
{"consumer_id":1,"level":"info","msg":"任务消费者启动","time":"2025-07-22 16:26:13","worker_id":"test-worker-001"}
{"consumer_id":1,"level":"info","msg":"开始处理任务","source":"api","task_id":"35793087-0b93-49bd-b8ea-4c8693f7a43c","task_type":"ping","tenant_id":1,"tenant_name":"默认租户","time":"2025-07-22 16:26:28","user_id":1,"username":"admin","worker_id":"test-worker-001"}
{"count":2,"host_ids":[2,1],"level":"debug","msg":"开始查询主机信息","tenant_id":1,"time":"2025-07-22 16:26:28"}
{"credential_type":"password","host_id":1,"host_ip":"192.168.5.4","host_name":"","level":"debug","msg":"准备主机连接信息","time":"2025-07-22 16:26:28"}
{"credential_type":"password","host_id":2,"host_ip":"127.0.0.1","host_name":"development","level":"debug","msg":"准备主机连接信息","time":"2025-07-22 16:26:28"}
{"level":"debug","msg":"主机信息准备完成","time":"2025-07-22 16:26:28","total_prepared":2,"total_requested":2}
{"consumer_id":1,"error":"ping 结果格式错误","level":"error","msg":"更新主机信息失败","source":"api","task_id":"35793087-0b93-49bd-b8ea-4c8693f7a43c","task_type":"ping","tenant_id":1,"tenant_name":"默认租户","time":"2025-07-22 16:26:35","user_id":1,"username":"admin","worker_id":"test-worker-001"}
{"consumer_id":1,"level":"info","msg":"任务执行成功","source":"api","task_id":"35793087-0b93-49bd-b8ea-4c8693f7a43c","task_type":"ping","tenant_id":1,"tenant_name":"默认租户","time":"2025-07-22 16:26:35","user_id":1,"username":"admin","worker_id":"test-worker-001"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-22 16:28:13"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-22 16:30:13"}
{"level":"info","msg":"收到退出信号，正在停止Worker...","time":"2025-07-22 16:30:48"}
{"level":"info","msg":"开始停止Worker","time":"2025-07-22 16:30:48"}
{"consumer_id":0,"level":"info","msg":"开始处理任务","source":"api","task_id":"b8d1ee16-9efb-40d3-a483-afb818b2468c","task_type":"ping","tenant_id":1,"tenant_name":"默认租户","time":"2025-07-22 16:30:50","user_id":1,"username":"admin","worker_id":"test-worker-001"}
{"count":2,"host_ids":[2,1],"level":"debug","msg":"开始查询主机信息","tenant_id":1,"time":"2025-07-22 16:30:50"}
{"credential_type":"password","host_id":1,"host_ip":"192.168.5.4","host_name":"","level":"debug","msg":"准备主机连接信息","time":"2025-07-22 16:30:50"}
{"credential_type":"password","host_id":2,"host_ip":"127.0.0.1","host_name":"development","level":"debug","msg":"准备主机连接信息","time":"2025-07-22 16:30:50"}
{"level":"debug","msg":"主机信息准备完成","time":"2025-07-22 16:30:50","total_prepared":2,"total_requested":2}
{"consumer_id":0,"error":"ping 结果格式错误","level":"error","msg":"更新主机信息失败","source":"api","task_id":"b8d1ee16-9efb-40d3-a483-afb818b2468c","task_type":"ping","tenant_id":1,"tenant_name":"默认租户","time":"2025-07-22 16:30:58","user_id":1,"username":"admin","worker_id":"test-worker-001"}
{"consumer_id":0,"level":"info","msg":"任务执行成功","source":"api","task_id":"b8d1ee16-9efb-40d3-a483-afb818b2468c","task_type":"ping","tenant_id":1,"tenant_name":"默认租户","time":"2025-07-22 16:30:58","user_id":1,"username":"admin","worker_id":"test-worker-001"}
{"consumer_id":0,"level":"info","msg":"任务消费者收到退出信号","time":"2025-07-22 16:30:58","worker_id":"test-worker-001"}
{"consumer_id":1,"level":"info","msg":"任务消费者收到退出信号","time":"2025-07-22 16:30:58","worker_id":"test-worker-001"}
{"level":"info","msg":"所有任务已完成","time":"2025-07-22 16:30:58"}
{"level":"info","msg":"Worker已停止","time":"2025-07-22 16:30:58"}
{"level":"info","msg":"Worker已优雅停止","time":"2025-07-22 16:30:58"}
{"level":"info","master_url":"http://localhost:8080","msg":"启动AHOP Worker","time":"2025-07-22 16:33:35","version":"1.0.0","worker_name":"AHOP Worker on development"}
{"level":"info","msg":"使用配置的worker_id","time":"2025-07-22 16:33:35","worker_id":"test-worker-001"}
{"level":"info","master_url":"http://localhost:8080","msg":"Worker认证成功，获得数据库和Redis凭据","time":"2025-07-22 16:33:35","worker_id":"test-worker-001"}
{"executors":2,"level":"info","msg":"已注册任务执行器","time":"2025-07-22 16:33:35"}
{"concurrency":2,"level":"info","msg":"Worker启动成功","time":"2025-07-22 16:33:35","worker_id":"test-worker-001"}
{"level":"info","msg":"Worker启动成功，正在等待任务...","time":"2025-07-22 16:33:35"}
{"consumer_id":1,"level":"info","msg":"任务消费者启动","time":"2025-07-22 16:33:35","worker_id":"test-worker-001"}
{"consumer_id":0,"level":"info","msg":"任务消费者启动","time":"2025-07-22 16:33:35","worker_id":"test-worker-001"}
{"consumer_id":0,"level":"info","msg":"开始处理任务","source":"api","task_id":"41c4fd4a-4685-4948-9f66-638d294ef226","task_type":"ping","tenant_id":1,"tenant_name":"默认租户","time":"2025-07-22 16:33:49","user_id":1,"username":"admin","worker_id":"test-worker-001"}
{"count":2,"host_ids":[2,1],"level":"debug","msg":"开始查询主机信息","tenant_id":1,"time":"2025-07-22 16:33:49"}
{"credential_type":"password","host_id":1,"host_ip":"192.168.5.4","host_name":"","level":"debug","msg":"准备主机连接信息","time":"2025-07-22 16:33:49"}
{"credential_type":"password","host_id":2,"host_ip":"127.0.0.1","host_name":"development","level":"debug","msg":"准备主机连接信息","time":"2025-07-22 16:33:49"}
{"level":"debug","msg":"主机信息准备完成","time":"2025-07-22 16:33:49","total_prepared":2,"total_requested":2}
{"consumer_id":0,"error":"ping 结果格式错误","level":"error","msg":"更新主机信息失败","source":"api","task_id":"41c4fd4a-4685-4948-9f66-638d294ef226","task_type":"ping","tenant_id":1,"tenant_name":"默认租户","time":"2025-07-22 16:33:56","user_id":1,"username":"admin","worker_id":"test-worker-001"}
{"consumer_id":0,"level":"info","msg":"任务执行成功","source":"api","task_id":"41c4fd4a-4685-4948-9f66-638d294ef226","task_type":"ping","tenant_id":1,"tenant_name":"默认租户","time":"2025-07-22 16:33:56","user_id":1,"username":"admin","worker_id":"test-worker-001"}
{"consumer_id":1,"level":"info","msg":"开始处理任务","source":"api","task_id":"4a80c4ba-35fb-4bce-84e4-5ebbcbcb3650","task_type":"collect","tenant_id":1,"tenant_name":"默认租户","time":"2025-07-22 16:34:50","user_id":1,"username":"admin","worker_id":"test-worker-001"}
{"count":2,"host_ids":[2,1],"level":"debug","msg":"开始查询主机信息","tenant_id":1,"time":"2025-07-22 16:34:50"}
{"credential_type":"password","host_id":1,"host_ip":"192.168.5.4","host_name":"","level":"debug","msg":"准备主机连接信息","time":"2025-07-22 16:34:50"}
{"credential_type":"password","host_id":2,"host_ip":"127.0.0.1","host_name":"development","level":"debug","msg":"准备主机连接信息","time":"2025-07-22 16:34:50"}
{"level":"debug","msg":"主机信息准备完成","time":"2025-07-22 16:34:50","total_prepared":2,"total_requested":2}
{"consumer_id":1,"error":"collect 结果格式错误","level":"error","msg":"更新主机信息失败","source":"api","task_id":"4a80c4ba-35fb-4bce-84e4-5ebbcbcb3650","task_type":"collect","tenant_id":1,"tenant_name":"默认租户","time":"2025-07-22 16:35:28","user_id":1,"username":"admin","worker_id":"test-worker-001"}
{"consumer_id":1,"level":"info","msg":"任务执行成功","source":"api","task_id":"4a80c4ba-35fb-4bce-84e4-5ebbcbcb3650","task_type":"collect","tenant_id":1,"tenant_name":"默认租户","time":"2025-07-22 16:35:28","user_id":1,"username":"admin","worker_id":"test-worker-001"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-22 16:35:35"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-22 16:37:35"}
{"consumer_id":0,"level":"info","msg":"开始处理任务","source":"api","task_id":"43fd3d11-785d-4847-91ad-4215bde83df2","task_type":"ping","tenant_id":1,"tenant_name":"默认租户","time":"2025-07-22 16:38:13","user_id":1,"username":"admin","worker_id":"test-worker-001"}
{"count":2,"host_ids":[2,1],"level":"debug","msg":"开始查询主机信息","tenant_id":1,"time":"2025-07-22 16:38:13"}
{"credential_type":"password","host_id":1,"host_ip":"192.168.5.4","host_name":"","level":"debug","msg":"准备主机连接信息","time":"2025-07-22 16:38:13"}
{"credential_type":"password","host_id":2,"host_ip":"127.0.0.1","host_name":"development","level":"debug","msg":"准备主机连接信息","time":"2025-07-22 16:38:13"}
{"level":"debug","msg":"主机信息准备完成","time":"2025-07-22 16:38:13","total_prepared":2,"total_requested":2}
{"consumer_id":0,"error":"ping 结果格式错误","level":"error","msg":"更新主机信息失败","source":"api","task_id":"43fd3d11-785d-4847-91ad-4215bde83df2","task_type":"ping","tenant_id":1,"tenant_name":"默认租户","time":"2025-07-22 16:38:20","user_id":1,"username":"admin","worker_id":"test-worker-001"}
{"consumer_id":0,"level":"info","msg":"任务执行成功","source":"api","task_id":"43fd3d11-785d-4847-91ad-4215bde83df2","task_type":"ping","tenant_id":1,"tenant_name":"默认租户","time":"2025-07-22 16:38:20","user_id":1,"username":"admin","worker_id":"test-worker-001"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-22 16:39:35"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-22 16:41:35"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-22 16:43:35"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-22 16:45:35"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-22 16:47:35"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-22 16:49:35"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-22 16:51:35"}
{"level":"info","msg":"收到退出信号，正在停止Worker...","time":"2025-07-22 16:53:14"}
{"level":"info","msg":"开始停止Worker","time":"2025-07-22 16:53:14"}
{"consumer_id":1,"level":"info","msg":"任务消费者收到退出信号","time":"2025-07-22 16:53:19","worker_id":"test-worker-001"}
{"consumer_id":0,"level":"info","msg":"任务消费者收到退出信号","time":"2025-07-22 16:53:20","worker_id":"test-worker-001"}
{"level":"info","msg":"所有任务已完成","time":"2025-07-22 16:53:20"}
{"level":"info","msg":"Worker已停止","time":"2025-07-22 16:53:20"}
{"level":"info","msg":"Worker已优雅停止","time":"2025-07-22 16:53:20"}
{"level":"info","master_url":"http://localhost:8080","msg":"启动AHOP Worker","time":"2025-07-22 16:53:31","version":"1.0.0","worker_name":"AHOP Worker on development"}
{"level":"info","msg":"使用配置的worker_id","time":"2025-07-22 16:53:31","worker_id":"test-worker-001"}
{"level":"info","master_url":"http://localhost:8080","msg":"Worker认证成功，获得数据库和Redis凭据","time":"2025-07-22 16:53:31","worker_id":"test-worker-001"}
{"executors":2,"level":"info","msg":"已注册任务执行器","time":"2025-07-22 16:53:31"}
{"concurrency":2,"level":"info","msg":"Worker启动成功","time":"2025-07-22 16:53:31","worker_id":"test-worker-001"}
{"level":"info","msg":"Worker启动成功，正在等待任务...","time":"2025-07-22 16:53:31"}
{"consumer_id":0,"level":"info","msg":"任务消费者启动","time":"2025-07-22 16:53:31","worker_id":"test-worker-001"}
{"consumer_id":1,"level":"info","msg":"任务消费者启动","time":"2025-07-22 16:53:31","worker_id":"test-worker-001"}
{"consumer_id":0,"level":"info","msg":"开始处理任务","source":"api","task_id":"f62e5d4f-7cb7-49e5-8c8b-f1c18cc21d10","task_type":"ping","tenant_id":1,"tenant_name":"默认租户","time":"2025-07-22 16:53:45","user_id":1,"username":"admin","worker_id":"test-worker-001"}
{"count":2,"host_ids":[2,1],"level":"debug","msg":"开始查询主机信息","tenant_id":1,"time":"2025-07-22 16:53:45"}
{"credential_type":"password","host_id":1,"host_ip":"192.168.5.4","host_name":"","level":"debug","msg":"准备主机连接信息","time":"2025-07-22 16:53:45"}
{"credential_type":"password","host_id":2,"host_ip":"127.0.0.1","host_name":"development","level":"debug","msg":"准备主机连接信息","time":"2025-07-22 16:53:45"}
{"level":"debug","msg":"主机信息准备完成","time":"2025-07-22 16:53:45","total_prepared":2,"total_requested":2}
{"host_id":1,"level":"debug","msg":"更新主机 ping 状态成功","status":"offline","time":"2025-07-22 16:53:52"}
{"host_id":2,"level":"debug","msg":"更新主机 ping 状态成功","status":"online","time":"2025-07-22 16:53:52"}
{"consumer_id":0,"level":"info","msg":"任务执行成功","source":"api","task_id":"f62e5d4f-7cb7-49e5-8c8b-f1c18cc21d10","task_type":"ping","tenant_id":1,"tenant_name":"默认租户","time":"2025-07-22 16:53:52","user_id":1,"username":"admin","worker_id":"test-worker-001"}
{"consumer_id":1,"level":"info","msg":"开始处理任务","source":"api","task_id":"fc5dddd8-807b-4a6f-ba2f-20c292c40ca8","task_type":"collect","tenant_id":1,"tenant_name":"默认租户","time":"2025-07-22 16:54:26","user_id":1,"username":"admin","worker_id":"test-worker-001"}
{"count":2,"host_ids":[2,1],"level":"debug","msg":"开始查询主机信息","tenant_id":1,"time":"2025-07-22 16:54:26"}
{"credential_type":"password","host_id":1,"host_ip":"192.168.5.4","host_name":"","level":"debug","msg":"准备主机连接信息","time":"2025-07-22 16:54:26"}
{"credential_type":"password","host_id":2,"host_ip":"127.0.0.1","host_name":"development","level":"debug","msg":"准备主机连接信息","time":"2025-07-22 16:54:26"}
{"level":"debug","msg":"主机信息准备完成","time":"2025-07-22 16:54:26","total_prepared":2,"total_requested":2}
{"host_id":1,"level":"warning","msg":"主机信息收集失败，跳过更新","time":"2025-07-22 16:55:04"}
{"host_id":2,"level":"debug","msg":"ansible_facts 字段数量: 109","time":"2025-07-22 16:55:04"}
{"host_id":2,"level":"debug","msg":"找到字段: ansible_interfaces","time":"2025-07-22 16:55:04"}
{"host_id":2,"level":"debug","msg":"找到字段: ansible_mounts","time":"2025-07-22 16:55:04"}
{"host_id":2,"level":"info","msg":"更新主机系统信息成功","time":"2025-07-22 16:55:04"}
{"consumer_id":1,"level":"info","msg":"任务执行成功","source":"api","task_id":"fc5dddd8-807b-4a6f-ba2f-20c292c40ca8","task_type":"collect","tenant_id":1,"tenant_name":"默认租户","time":"2025-07-22 16:55:04","user_id":1,"username":"admin","worker_id":"test-worker-001"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-22 16:55:31"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-22 16:57:31"}
{"level":"info","msg":"收到退出信号，正在停止Worker...","time":"2025-07-22 16:59:07"}
{"level":"info","msg":"开始停止Worker","time":"2025-07-22 16:59:07"}
{"consumer_id":0,"level":"info","msg":"任务消费者收到退出信号","time":"2025-07-22 16:59:16","worker_id":"test-worker-001"}
{"consumer_id":1,"level":"info","msg":"任务消费者收到退出信号","time":"2025-07-22 16:59:17","worker_id":"test-worker-001"}
{"level":"info","msg":"所有任务已完成","time":"2025-07-22 16:59:17"}
{"level":"info","msg":"Worker已停止","time":"2025-07-22 16:59:17"}
{"level":"info","msg":"Worker已优雅停止","time":"2025-07-22 16:59:17"}
{"level":"info","master_url":"http://localhost:8080","msg":"启动AHOP Worker","time":"2025-07-22 16:59:22","version":"1.0.0","worker_name":"AHOP Worker on development"}
{"level":"info","msg":"使用配置的worker_id","time":"2025-07-22 16:59:22","worker_id":"test-worker-001"}
{"level":"info","master_url":"http://localhost:8080","msg":"Worker认证成功，获得数据库和Redis凭据","time":"2025-07-22 16:59:22","worker_id":"test-worker-001"}
{"executors":2,"level":"info","msg":"已注册任务执行器","time":"2025-07-22 16:59:22"}
{"concurrency":2,"level":"info","msg":"Worker启动成功","time":"2025-07-22 16:59:22","worker_id":"test-worker-001"}
{"consumer_id":1,"level":"info","msg":"任务消费者启动","time":"2025-07-22 16:59:22","worker_id":"test-worker-001"}
{"level":"info","msg":"Worker启动成功，正在等待任务...","time":"2025-07-22 16:59:22"}
{"consumer_id":0,"level":"info","msg":"任务消费者启动","time":"2025-07-22 16:59:22","worker_id":"test-worker-001"}
{"consumer_id":1,"level":"info","msg":"开始处理任务","source":"api","task_id":"ecf0e3bb-1c38-4b2a-ba5c-453a6946ca3d","task_type":"ping","tenant_id":1,"tenant_name":"默认租户","time":"2025-07-22 16:59:26","user_id":1,"username":"admin","worker_id":"test-worker-001"}
{"count":2,"host_ids":[2,1],"level":"debug","msg":"开始查询主机信息","tenant_id":1,"time":"2025-07-22 16:59:26"}
{"credential_type":"password","host_id":1,"host_ip":"192.168.5.4","host_name":"","level":"debug","msg":"准备主机连接信息","time":"2025-07-22 16:59:26"}
{"credential_type":"password","host_id":2,"host_ip":"127.0.0.1","host_name":"development","level":"debug","msg":"准备主机连接信息","time":"2025-07-22 16:59:26"}
{"level":"debug","msg":"主机信息准备完成","time":"2025-07-22 16:59:26","total_prepared":2,"total_requested":2}
{"host_id":1,"level":"debug","msg":"更新主机 ping 状态成功","status":"offline","time":"2025-07-22 16:59:33"}
{"host_id":2,"level":"debug","msg":"更新主机 ping 状态成功","status":"online","time":"2025-07-22 16:59:33"}
{"consumer_id":1,"level":"info","msg":"任务执行成功","source":"api","task_id":"ecf0e3bb-1c38-4b2a-ba5c-453a6946ca3d","task_type":"ping","tenant_id":1,"tenant_name":"默认租户","time":"2025-07-22 16:59:33","user_id":1,"username":"admin","worker_id":"test-worker-001"}
{"consumer_id":0,"level":"info","msg":"开始处理任务","source":"api","task_id":"320357b0-5920-4871-a912-e68bb6c44090","task_type":"collect","tenant_id":1,"tenant_name":"默认租户","time":"2025-07-22 16:59:47","user_id":1,"username":"admin","worker_id":"test-worker-001"}
{"count":2,"host_ids":[2,1],"level":"debug","msg":"开始查询主机信息","tenant_id":1,"time":"2025-07-22 16:59:47"}
{"credential_type":"password","host_id":1,"host_ip":"192.168.5.4","host_name":"","level":"debug","msg":"准备主机连接信息","time":"2025-07-22 16:59:47"}
{"credential_type":"password","host_id":2,"host_ip":"127.0.0.1","host_name":"development","level":"debug","msg":"准备主机连接信息","time":"2025-07-22 16:59:47"}
{"level":"debug","msg":"主机信息准备完成","time":"2025-07-22 16:59:47","total_prepared":2,"total_requested":2}
{"host_id":1,"level":"warning","msg":"主机信息收集失败，跳过更新","time":"2025-07-22 17:00:25"}
{"host_id":2,"level":"debug","msg":"ansible_facts 字段数量: 109","time":"2025-07-22 17:00:25"}
{"host_id":2,"level":"debug","msg":"找到字段: ansible_mounts","time":"2025-07-22 17:00:25"}
{"host_id":2,"level":"debug","msg":"找到字段: ansible_interfaces","time":"2025-07-22 17:00:25"}
{"host_id":2,"level":"info","msg":"更新主机系统信息成功","time":"2025-07-22 17:00:25"}
{"consumer_id":0,"level":"info","msg":"任务执行成功","source":"api","task_id":"320357b0-5920-4871-a912-e68bb6c44090","task_type":"collect","tenant_id":1,"tenant_name":"默认租户","time":"2025-07-22 17:00:25","user_id":1,"username":"admin","worker_id":"test-worker-001"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-22 17:01:22"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-22 17:03:22"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-22 17:05:22"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-22 17:07:22"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-22 17:09:22"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-22 17:11:22"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-22 17:13:22"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-22 17:15:22"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-22 17:17:22"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-22 17:19:22"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-22 17:21:22"}
{"level":"info","msg":"收到退出信号，正在停止Worker...","time":"2025-07-22 17:23:08"}
{"level":"info","msg":"开始停止Worker","time":"2025-07-22 17:23:08"}
{"consumer_id":1,"level":"info","msg":"任务消费者收到退出信号","time":"2025-07-22 17:23:09","worker_id":"test-worker-001"}
{"consumer_id":0,"level":"info","msg":"任务消费者收到退出信号","time":"2025-07-22 17:23:10","worker_id":"test-worker-001"}
{"level":"info","msg":"所有任务已完成","time":"2025-07-22 17:23:10"}
{"level":"info","msg":"Worker已停止","time":"2025-07-22 17:23:10"}
{"level":"info","msg":"Worker已优雅停止","time":"2025-07-22 17:23:10"}
{"level":"info","master_url":"http://localhost:8080","msg":"启动AHOP Worker","time":"2025-07-22 19:44:20","version":"1.0.0","worker_name":"AHOP Worker on development"}
{"level":"info","msg":"使用配置的worker_id","time":"2025-07-22 19:44:20","worker_id":"test-worker-001"}
{"level":"info","master_url":"http://localhost:8080","msg":"Worker认证成功，获得数据库和Redis凭据","time":"2025-07-22 19:44:20","worker_id":"test-worker-001"}
{"executors":2,"level":"info","msg":"已注册任务执行器","time":"2025-07-22 19:44:20"}
{"concurrency":2,"level":"info","msg":"Worker启动成功","time":"2025-07-22 19:44:20","worker_id":"test-worker-001"}
{"level":"info","msg":"Worker启动成功，正在等待任务...","time":"2025-07-22 19:44:20"}
{"consumer_id":1,"level":"info","msg":"任务消费者启动","time":"2025-07-22 19:44:20","worker_id":"test-worker-001"}
{"consumer_id":0,"level":"info","msg":"任务消费者启动","time":"2025-07-22 19:44:20","worker_id":"test-worker-001"}
{"consumer_id":1,"level":"info","msg":"开始处理任务","source":"api","task_id":"7cbf032c-48b9-45cf-96c7-94533044dc76","task_type":"collect","tenant_id":1,"tenant_name":"默认租户","time":"2025-07-22 19:44:24","user_id":1,"username":"admin","worker_id":"test-worker-001"}
{"count":2,"host_ids":[2,1],"level":"debug","msg":"开始查询主机信息","tenant_id":1,"time":"2025-07-22 19:44:24"}
{"credential_type":"password","host_id":1,"host_ip":"192.168.5.4","host_name":"","level":"debug","msg":"准备主机连接信息","time":"2025-07-22 19:44:24"}
{"credential_type":"password","host_id":2,"host_ip":"127.0.0.1","host_name":"development","level":"debug","msg":"准备主机连接信息","time":"2025-07-22 19:44:24"}
{"level":"debug","msg":"主机信息准备完成","time":"2025-07-22 19:44:24","total_prepared":2,"total_requested":2}
{"consumer_id":0,"level":"info","msg":"开始处理任务","source":"api","task_id":"43afef3b-a136-4245-a3a5-6a7a5c26b2cf","task_type":"collect","tenant_id":1,"tenant_name":"默认租户","time":"2025-07-22 19:44:55","user_id":1,"username":"admin","worker_id":"test-worker-001"}
{"count":2,"host_ids":[2,1],"level":"debug","msg":"开始查询主机信息","tenant_id":1,"time":"2025-07-22 19:44:55"}
{"credential_type":"password","host_id":1,"host_ip":"192.168.5.4","host_name":"","level":"debug","msg":"准备主机连接信息","time":"2025-07-22 19:44:55"}
{"credential_type":"password","host_id":2,"host_ip":"127.0.0.1","host_name":"development","level":"debug","msg":"准备主机连接信息","time":"2025-07-22 19:44:55"}
{"level":"debug","msg":"主机信息准备完成","time":"2025-07-22 19:44:55","total_prepared":2,"total_requested":2}
{"level":"info","master_url":"http://localhost:8080","msg":"启动AHOP Worker","time":"2025-07-22 19:44:58","version":"1.0.0","worker_name":"AHOP Worker on development"}
{"level":"info","msg":"使用配置的worker_id","time":"2025-07-22 19:44:58","worker_id":"test-worker-001"}
{"level":"info","master_url":"http://localhost:8080","msg":"Worker认证成功，获得数据库和Redis凭据","time":"2025-07-22 19:44:58","worker_id":"test-worker-001"}
{"executors":2,"level":"info","msg":"已注册任务执行器","time":"2025-07-22 19:44:58"}
{"concurrency":2,"level":"info","msg":"Worker启动成功","time":"2025-07-22 19:44:58","worker_id":"test-worker-001"}
{"consumer_id":1,"level":"info","msg":"任务消费者启动","time":"2025-07-22 19:44:58","worker_id":"test-worker-001"}
{"consumer_id":0,"level":"info","msg":"任务消费者启动","time":"2025-07-22 19:44:58","worker_id":"test-worker-001"}
{"level":"info","msg":"Worker启动成功，正在等待任务...","time":"2025-07-22 19:44:58"}
{"host_id":1,"level":"warning","msg":"主机信息收集失败，跳过更新","time":"2025-07-22 19:45:02"}
{"host_id":2,"level":"debug","msg":"ansible_facts 字段数量: 109","time":"2025-07-22 19:45:02"}
{"host_id":2,"level":"debug","msg":"找到字段: ansible_interfaces","time":"2025-07-22 19:45:02"}
{"host_id":2,"level":"debug","msg":"找到字段: ansible_mounts","time":"2025-07-22 19:45:02"}
{"host_id":2,"level":"info","msg":"更新主机系统信息成功","time":"2025-07-22 19:45:02"}
{"consumer_id":1,"level":"info","msg":"任务执行成功","source":"api","task_id":"7cbf032c-48b9-45cf-96c7-94533044dc76","task_type":"collect","tenant_id":1,"tenant_name":"默认租户","time":"2025-07-22 19:45:02","user_id":1,"username":"admin","worker_id":"test-worker-001"}
{"host_id":1,"level":"warning","msg":"主机信息收集失败，跳过更新","time":"2025-07-22 19:45:33"}
{"host_id":2,"level":"debug","msg":"ansible_facts 字段数量: 109","time":"2025-07-22 19:45:33"}
{"host_id":2,"level":"debug","msg":"找到字段: ansible_mounts","time":"2025-07-22 19:45:33"}
{"host_id":2,"level":"debug","msg":"找到字段: ansible_interfaces","time":"2025-07-22 19:45:33"}
{"host_id":2,"level":"info","msg":"更新主机系统信息成功","time":"2025-07-22 19:45:33"}
{"consumer_id":0,"level":"info","msg":"任务执行成功","source":"api","task_id":"43afef3b-a136-4245-a3a5-6a7a5c26b2cf","task_type":"collect","tenant_id":1,"tenant_name":"默认租户","time":"2025-07-22 19:45:33","user_id":1,"username":"admin","worker_id":"test-worker-001"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-22 19:46:20"}
{"consumer_id":1,"level":"info","msg":"开始处理任务","source":"api","task_id":"88b3912f-c19d-491d-8301-fe07dd4d4408","task_type":"collect","tenant_id":1,"tenant_name":"默认租户","time":"2025-07-22 19:47:08","user_id":1,"username":"admin","worker_id":"test-worker-001"}
{"count":2,"host_ids":[2,1],"level":"debug","msg":"开始查询主机信息","tenant_id":1,"time":"2025-07-22 19:47:08"}
{"credential_type":"password","host_id":1,"host_ip":"192.168.5.4","host_name":"","level":"debug","msg":"准备主机连接信息","time":"2025-07-22 19:47:08"}
{"credential_type":"password","host_id":2,"host_ip":"127.0.0.1","host_name":"development","level":"debug","msg":"准备主机连接信息","time":"2025-07-22 19:47:08"}
{"level":"debug","msg":"主机信息准备完成","time":"2025-07-22 19:47:08","total_prepared":2,"total_requested":2}
{"host_id":1,"level":"warning","msg":"主机信息收集失败，跳过更新","time":"2025-07-22 19:47:45"}
{"host_id":2,"level":"debug","msg":"ansible_facts 字段数量: 109","time":"2025-07-22 19:47:45"}
{"host_id":2,"level":"debug","msg":"找到字段: ansible_interfaces","time":"2025-07-22 19:47:45"}
{"host_id":2,"level":"debug","msg":"找到字段: ansible_mounts","time":"2025-07-22 19:47:45"}
{"host_id":2,"level":"info","msg":"更新主机系统信息成功","time":"2025-07-22 19:47:45"}
{"consumer_id":1,"level":"info","msg":"任务执行成功","source":"api","task_id":"88b3912f-c19d-491d-8301-fe07dd4d4408","task_type":"collect","tenant_id":1,"tenant_name":"默认租户","time":"2025-07-22 19:47:45","user_id":1,"username":"admin","worker_id":"test-worker-001"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-22 19:48:20"}
{"consumer_id":0,"level":"info","msg":"开始处理任务","source":"api","task_id":"bc19d1fa-dea8-4f5e-bd71-1be70deb4a34","task_type":"collect","tenant_id":1,"tenant_name":"默认租户","time":"2025-07-22 19:49:40","user_id":1,"username":"admin","worker_id":"test-worker-001"}
{"count":2,"host_ids":[2,1],"level":"debug","msg":"开始查询主机信息","tenant_id":1,"time":"2025-07-22 19:49:40"}
{"credential_type":"password","host_id":1,"host_ip":"192.168.5.4","host_name":"","level":"debug","msg":"准备主机连接信息","time":"2025-07-22 19:49:40"}
{"credential_type":"password","host_id":2,"host_ip":"127.0.0.1","host_name":"development","level":"debug","msg":"准备主机连接信息","time":"2025-07-22 19:49:40"}
{"level":"debug","msg":"主机信息准备完成","time":"2025-07-22 19:49:40","total_prepared":2,"total_requested":2}
{"host_id":1,"level":"warning","msg":"主机信息收集失败，跳过更新","time":"2025-07-22 19:50:17"}
{"host_id":2,"level":"debug","msg":"ansible_facts 字段数量: 109","time":"2025-07-22 19:50:17"}
{"host_id":2,"level":"debug","msg":"找到字段: ansible_interfaces","time":"2025-07-22 19:50:17"}
{"host_id":2,"level":"debug","msg":"找到字段: ansible_mounts","time":"2025-07-22 19:50:17"}
{"host_id":2,"level":"info","msg":"更新主机系统信息成功","time":"2025-07-22 19:50:17"}
{"consumer_id":0,"level":"info","msg":"任务执行成功","source":"api","task_id":"bc19d1fa-dea8-4f5e-bd71-1be70deb4a34","task_type":"collect","tenant_id":1,"tenant_name":"默认租户","time":"2025-07-22 19:50:17","user_id":1,"username":"admin","worker_id":"test-worker-001"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-22 19:50:20"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-22 19:52:20"}
{"consumer_id":1,"level":"info","msg":"开始处理任务","source":"api","task_id":"ea1935ba-06f1-4b0e-af94-ec430a6921b8","task_type":"collect","tenant_id":1,"tenant_name":"默认租户","time":"2025-07-22 19:53:54","user_id":1,"username":"admin","worker_id":"test-worker-001"}
{"count":2,"host_ids":[2,1],"level":"debug","msg":"开始查询主机信息","tenant_id":1,"time":"2025-07-22 19:53:54"}
{"credential_type":"password","host_id":1,"host_ip":"192.168.5.4","host_name":"","level":"debug","msg":"准备主机连接信息","time":"2025-07-22 19:53:54"}
{"credential_type":"password","host_id":2,"host_ip":"127.0.0.1","host_name":"development","level":"debug","msg":"准备主机连接信息","time":"2025-07-22 19:53:54"}
{"level":"debug","msg":"主机信息准备完成","time":"2025-07-22 19:53:54","total_prepared":2,"total_requested":2}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-22 19:54:20"}
{"host_id":1,"level":"warning","msg":"主机信息收集失败，跳过更新","time":"2025-07-22 19:54:33"}
{"host_id":2,"level":"debug","msg":"ansible_facts 字段数量: 109","time":"2025-07-22 19:54:33"}
{"host_id":2,"level":"debug","msg":"找到字段: ansible_interfaces","time":"2025-07-22 19:54:33"}
{"host_id":2,"level":"debug","msg":"找到字段: ansible_mounts","time":"2025-07-22 19:54:33"}
{"host_id":2,"level":"info","msg":"更新主机系统信息成功","time":"2025-07-22 19:54:33"}
{"consumer_id":1,"level":"info","msg":"任务执行成功","source":"api","task_id":"ea1935ba-06f1-4b0e-af94-ec430a6921b8","task_type":"collect","tenant_id":1,"tenant_name":"默认租户","time":"2025-07-22 19:54:33","user_id":1,"username":"admin","worker_id":"test-worker-001"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-22 19:56:20"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-22 19:58:20"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-22 20:00:20"}
{"level":"info","msg":"收到退出信号，正在停止Worker...","time":"2025-07-22 20:01:33"}
{"level":"info","msg":"开始停止Worker","time":"2025-07-22 20:01:33"}
{"consumer_id":0,"level":"info","msg":"任务消费者收到退出信号","time":"2025-07-22 20:01:35","worker_id":"test-worker-001"}
{"consumer_id":1,"level":"info","msg":"任务消费者收到退出信号","time":"2025-07-22 20:01:37","worker_id":"test-worker-001"}
{"level":"info","msg":"所有任务已完成","time":"2025-07-22 20:01:37"}
{"level":"info","msg":"Worker已停止","time":"2025-07-22 20:01:37"}
{"level":"info","msg":"Worker已优雅停止","time":"2025-07-22 20:01:37"}
{"level":"info","master_url":"http://localhost:8080","msg":"启动AHOP Worker","time":"2025-07-22 20:01:38","version":"1.0.0","worker_name":"AHOP Worker on development"}
{"level":"info","msg":"使用配置的worker_id","time":"2025-07-22 20:01:38","worker_id":"test-worker-001"}
{"level":"info","master_url":"http://localhost:8080","msg":"Worker认证成功，获得数据库和Redis凭据","time":"2025-07-22 20:01:38","worker_id":"test-worker-001"}
{"executors":2,"level":"info","msg":"已注册任务执行器","time":"2025-07-22 20:01:38"}
{"concurrency":2,"level":"info","msg":"Worker启动成功","time":"2025-07-22 20:01:38","worker_id":"test-worker-001"}
{"consumer_id":0,"level":"info","msg":"任务消费者启动","time":"2025-07-22 20:01:38","worker_id":"test-worker-001"}
{"level":"info","msg":"Worker启动成功，正在等待任务...","time":"2025-07-22 20:01:38"}
{"consumer_id":1,"level":"info","msg":"任务消费者启动","time":"2025-07-22 20:01:38","worker_id":"test-worker-001"}
{"consumer_id":1,"level":"info","msg":"开始处理任务","source":"api","task_id":"71b640b6-1935-453c-be64-bc70d979debd","task_type":"collect","tenant_id":1,"tenant_name":"默认租户","time":"2025-07-22 20:01:53","user_id":1,"username":"admin","worker_id":"test-worker-001"}
{"count":2,"host_ids":[2,1],"level":"debug","msg":"开始查询主机信息","tenant_id":1,"time":"2025-07-22 20:01:53"}
{"credential_type":"password","host_id":1,"host_ip":"192.168.5.4","host_name":"","level":"debug","msg":"准备主机连接信息","time":"2025-07-22 20:01:53"}
{"credential_type":"password","host_id":2,"host_ip":"127.0.0.1","host_name":"development","level":"debug","msg":"准备主机连接信息","time":"2025-07-22 20:01:53"}
{"level":"debug","msg":"主机信息准备完成","time":"2025-07-22 20:01:53","total_prepared":2,"total_requested":2}
{"host_id":1,"level":"warning","msg":"主机信息收集失败，跳过更新","time":"2025-07-22 20:02:31"}
{"host_id":2,"level":"debug","msg":"ansible_facts 字段数量: 109","time":"2025-07-22 20:02:31"}
{"host_id":2,"level":"debug","msg":"找到字段: ansible_mounts","time":"2025-07-22 20:02:31"}
{"host_id":2,"level":"debug","msg":"找到字段: ansible_interfaces","time":"2025-07-22 20:02:31"}
{"host_id":2,"level":"info","msg":"更新主机系统信息成功","time":"2025-07-22 20:02:31"}
{"consumer_id":1,"level":"info","msg":"任务执行成功","source":"api","task_id":"71b640b6-1935-453c-be64-bc70d979debd","task_type":"collect","tenant_id":1,"tenant_name":"默认租户","time":"2025-07-22 20:02:31","user_id":1,"username":"admin","worker_id":"test-worker-001"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-22 20:03:38"}
{"level":"info","msg":"收到退出信号，正在停止Worker...","time":"2025-07-22 20:05:21"}
{"level":"info","msg":"开始停止Worker","time":"2025-07-22 20:05:21"}
{"consumer_id":1,"level":"info","msg":"任务消费者收到退出信号","time":"2025-07-22 20:05:23","worker_id":"test-worker-001"}
{"consumer_id":0,"level":"info","msg":"任务消费者收到退出信号","time":"2025-07-22 20:05:31","worker_id":"test-worker-001"}
{"level":"info","msg":"所有任务已完成","time":"2025-07-22 20:05:31"}
{"level":"info","msg":"Worker已停止","time":"2025-07-22 20:05:31"}
{"level":"info","msg":"Worker已优雅停止","time":"2025-07-22 20:05:31"}
{"level":"info","master_url":"http://localhost:8080","msg":"启动AHOP Worker","time":"2025-07-22 20:05:34","version":"1.0.0","worker_name":"AHOP Worker on development"}
{"level":"info","msg":"使用配置的worker_id","time":"2025-07-22 20:05:34","worker_id":"test-worker-001"}
{"level":"info","master_url":"http://localhost:8080","msg":"Worker认证成功，获得数据库和Redis凭据","time":"2025-07-22 20:05:34","worker_id":"test-worker-001"}
{"executors":2,"level":"info","msg":"已注册任务执行器","time":"2025-07-22 20:05:34"}
{"concurrency":2,"level":"info","msg":"Worker启动成功","time":"2025-07-22 20:05:34","worker_id":"test-worker-001"}
{"level":"info","msg":"Worker启动成功，正在等待任务...","time":"2025-07-22 20:05:34"}
{"consumer_id":1,"level":"info","msg":"任务消费者启动","time":"2025-07-22 20:05:34","worker_id":"test-worker-001"}
{"consumer_id":0,"level":"info","msg":"任务消费者启动","time":"2025-07-22 20:05:34","worker_id":"test-worker-001"}
{"consumer_id":0,"level":"info","msg":"开始处理任务","source":"api","task_id":"041ac63a-e0b9-4403-90cc-642d48cef499","task_type":"collect","tenant_id":1,"tenant_name":"默认租户","time":"2025-07-22 20:05:48","user_id":1,"username":"admin","worker_id":"test-worker-001"}
{"count":2,"host_ids":[2,1],"level":"debug","msg":"开始查询主机信息","tenant_id":1,"time":"2025-07-22 20:05:48"}
{"credential_type":"password","host_id":1,"host_ip":"192.168.5.4","host_name":"","level":"debug","msg":"准备主机连接信息","time":"2025-07-22 20:05:48"}
{"credential_type":"password","host_id":2,"host_ip":"127.0.0.1","host_name":"development","level":"debug","msg":"准备主机连接信息","time":"2025-07-22 20:05:48"}
{"level":"debug","msg":"主机信息准备完成","time":"2025-07-22 20:05:48","total_prepared":2,"total_requested":2}
{"host_id":1,"level":"warning","msg":"主机信息收集失败，跳过更新","time":"2025-07-22 20:06:26"}
{"host_id":2,"level":"debug","msg":"ansible_facts 字段数量: 109","time":"2025-07-22 20:06:26"}
{"host_id":2,"level":"debug","msg":"找到字段: ansible_mounts","time":"2025-07-22 20:06:26"}
{"host_id":2,"level":"debug","msg":"找到字段: ansible_interfaces","time":"2025-07-22 20:06:26"}
{"host_id":2,"level":"info","msg":"更新主机系统信息成功","time":"2025-07-22 20:06:26"}
{"consumer_id":0,"level":"info","msg":"任务执行成功","source":"api","task_id":"041ac63a-e0b9-4403-90cc-642d48cef499","task_type":"collect","tenant_id":1,"tenant_name":"默认租户","time":"2025-07-22 20:06:26","user_id":1,"username":"admin","worker_id":"test-worker-001"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-22 20:07:34"}
{"consumer_id":1,"level":"info","msg":"开始处理任务","source":"api","task_id":"22bfdebc-e76e-43f1-a195-a60cf2a858e7","task_type":"ping","tenant_id":1,"tenant_name":"默认租户","time":"2025-07-22 20:08:10","user_id":1,"username":"admin","worker_id":"test-worker-001"}
{"count":2,"host_ids":[2,1],"level":"debug","msg":"开始查询主机信息","tenant_id":1,"time":"2025-07-22 20:08:10"}
{"credential_type":"password","host_id":1,"host_ip":"192.168.5.4","host_name":"","level":"debug","msg":"准备主机连接信息","time":"2025-07-22 20:08:10"}
{"credential_type":"password","host_id":2,"host_ip":"127.0.0.1","host_name":"development","level":"debug","msg":"准备主机连接信息","time":"2025-07-22 20:08:10"}
{"level":"debug","msg":"主机信息准备完成","time":"2025-07-22 20:08:10","total_prepared":2,"total_requested":2}
{"host_id":1,"level":"debug","msg":"更新主机 ping 状态成功","status":"offline","time":"2025-07-22 20:08:17"}
{"host_id":2,"level":"debug","msg":"更新主机 ping 状态成功","status":"online","time":"2025-07-22 20:08:17"}
{"consumer_id":1,"level":"info","msg":"任务执行成功","source":"api","task_id":"22bfdebc-e76e-43f1-a195-a60cf2a858e7","task_type":"ping","tenant_id":1,"tenant_name":"默认租户","time":"2025-07-22 20:08:17","user_id":1,"username":"admin","worker_id":"test-worker-001"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-22 20:09:34"}
{"level":"info","msg":"收到退出信号，正在停止Worker...","time":"2025-07-22 20:09:59"}
{"level":"info","msg":"开始停止Worker","time":"2025-07-22 20:09:59"}
{"consumer_id":1,"level":"info","msg":"任务消费者收到退出信号","time":"2025-07-22 20:10:08","worker_id":"test-worker-001"}
{"consumer_id":0,"level":"info","msg":"任务消费者收到退出信号","time":"2025-07-22 20:10:08","worker_id":"test-worker-001"}
{"level":"info","msg":"所有任务已完成","time":"2025-07-22 20:10:08"}
{"level":"info","msg":"Worker已停止","time":"2025-07-22 20:10:08"}
{"level":"info","msg":"Worker已优雅停止","time":"2025-07-22 20:10:08"}
{"level":"info","master_url":"http://localhost:8080","msg":"启动AHOP Worker","time":"2025-07-22 20:10:09","version":"1.0.0","worker_name":"AHOP Worker on development"}
{"level":"info","msg":"使用配置的worker_id","time":"2025-07-22 20:10:09","worker_id":"test-worker-001"}
{"level":"info","master_url":"http://localhost:8080","msg":"Worker认证成功，获得数据库和Redis凭据","time":"2025-07-22 20:10:09","worker_id":"test-worker-001"}
{"executors":2,"level":"info","msg":"已注册任务执行器","time":"2025-07-22 20:10:09"}
{"concurrency":2,"level":"info","msg":"Worker启动成功","time":"2025-07-22 20:10:09","worker_id":"test-worker-001"}
{"level":"info","msg":"Worker启动成功，正在等待任务...","time":"2025-07-22 20:10:09"}
{"consumer_id":1,"level":"info","msg":"任务消费者启动","time":"2025-07-22 20:10:09","worker_id":"test-worker-001"}
{"consumer_id":0,"level":"info","msg":"任务消费者启动","time":"2025-07-22 20:10:09","worker_id":"test-worker-001"}
{"consumer_id":1,"level":"info","msg":"开始处理任务","source":"api","task_id":"e09bfcef-e768-42cc-857b-40bd1bf2594d","task_type":"ping","tenant_id":1,"tenant_name":"默认租户","time":"2025-07-22 20:10:14","user_id":1,"username":"admin","worker_id":"test-worker-001"}
{"count":2,"host_ids":[2,1],"level":"debug","msg":"开始查询主机信息","tenant_id":1,"time":"2025-07-22 20:10:14"}
{"credential_type":"password","host_id":1,"host_ip":"192.168.5.4","host_name":"","level":"debug","msg":"准备主机连接信息","time":"2025-07-22 20:10:14"}
{"credential_type":"password","host_id":2,"host_ip":"127.0.0.1","host_name":"development","level":"debug","msg":"准备主机连接信息","time":"2025-07-22 20:10:14"}
{"level":"debug","msg":"主机信息准备完成","time":"2025-07-22 20:10:14","total_prepared":2,"total_requested":2}
{"host_id":1,"level":"debug","msg":"更新主机 ping 状态成功","status":"offline","time":"2025-07-22 20:10:21"}
{"host_id":2,"level":"debug","msg":"更新主机 ping 状态成功","status":"online","time":"2025-07-22 20:10:21"}
{"consumer_id":1,"level":"info","msg":"任务执行成功","source":"api","task_id":"e09bfcef-e768-42cc-857b-40bd1bf2594d","task_type":"ping","tenant_id":1,"tenant_name":"默认租户","time":"2025-07-22 20:10:21","user_id":1,"username":"admin","worker_id":"test-worker-001"}
{"consumer_id":1,"level":"info","msg":"开始处理任务","source":"api","task_id":"8cd31873-81ac-436d-a7ef-f7779cfc66bc","task_type":"collect","tenant_id":1,"tenant_name":"默认租户","time":"2025-07-22 20:11:06","user_id":1,"username":"admin","worker_id":"test-worker-001"}
{"count":2,"host_ids":[2,1],"level":"debug","msg":"开始查询主机信息","tenant_id":1,"time":"2025-07-22 20:11:06"}
{"credential_type":"password","host_id":1,"host_ip":"192.168.5.4","host_name":"","level":"debug","msg":"准备主机连接信息","time":"2025-07-22 20:11:06"}
{"credential_type":"password","host_id":2,"host_ip":"127.0.0.1","host_name":"development","level":"debug","msg":"准备主机连接信息","time":"2025-07-22 20:11:06"}
{"level":"debug","msg":"主机信息准备完成","time":"2025-07-22 20:11:06","total_prepared":2,"total_requested":2}
{"host_id":1,"level":"warning","msg":"主机信息收集失败，跳过更新","time":"2025-07-22 20:11:44"}
{"host_id":2,"level":"debug","msg":"ansible_facts 字段数量: 2","time":"2025-07-22 20:11:44"}
{"host_id":2,"level":"debug","msg":"没有找到挂载点信息","time":"2025-07-22 20:11:44"}
{"host_id":2,"level":"debug","msg":"没有找到网络接口信息","time":"2025-07-22 20:11:44"}
{"host_id":2,"level":"info","msg":"更新主机系统信息成功","time":"2025-07-22 20:11:44"}
{"consumer_id":1,"level":"info","msg":"任务执行成功","source":"api","task_id":"8cd31873-81ac-436d-a7ef-f7779cfc66bc","task_type":"collect","tenant_id":1,"tenant_name":"默认租户","time":"2025-07-22 20:11:44","user_id":1,"username":"admin","worker_id":"test-worker-001"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-22 20:12:09"}
{"consumer_id":0,"level":"info","msg":"开始处理任务","source":"api","task_id":"83af0af5-a3c0-4120-a456-6ba008d75015","task_type":"collect","tenant_id":1,"tenant_name":"默认租户","time":"2025-07-22 20:13:25","user_id":1,"username":"admin","worker_id":"test-worker-001"}
{"count":2,"host_ids":[2,1],"level":"debug","msg":"开始查询主机信息","tenant_id":1,"time":"2025-07-22 20:13:25"}
{"credential_type":"password","host_id":1,"host_ip":"192.168.5.4","host_name":"","level":"debug","msg":"准备主机连接信息","time":"2025-07-22 20:13:25"}
{"credential_type":"password","host_id":2,"host_ip":"127.0.0.1","host_name":"","level":"debug","msg":"准备主机连接信息","time":"2025-07-22 20:13:25"}
{"level":"debug","msg":"主机信息准备完成","time":"2025-07-22 20:13:25","total_prepared":2,"total_requested":2}
{"host_id":1,"level":"warning","msg":"主机信息收集失败，跳过更新","time":"2025-07-22 20:14:04"}
{"host_id":2,"level":"debug","msg":"ansible_facts 字段数量: 2","time":"2025-07-22 20:14:04"}
{"host_id":2,"level":"debug","msg":"没有找到挂载点信息","time":"2025-07-22 20:14:04"}
{"host_id":2,"level":"debug","msg":"没有找到网络接口信息","time":"2025-07-22 20:14:04"}
{"host_id":2,"level":"info","msg":"更新主机系统信息成功","time":"2025-07-22 20:14:04"}
{"consumer_id":0,"level":"info","msg":"任务执行成功","source":"api","task_id":"83af0af5-a3c0-4120-a456-6ba008d75015","task_type":"collect","tenant_id":1,"tenant_name":"默认租户","time":"2025-07-22 20:14:04","user_id":1,"username":"admin","worker_id":"test-worker-001"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-22 20:14:09"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-22 20:16:09"}
{"level":"info","msg":"收到退出信号，正在停止Worker...","time":"2025-07-22 20:17:38"}
{"level":"info","msg":"开始停止Worker","time":"2025-07-22 20:17:38"}
{"consumer_id":1,"level":"info","msg":"任务消费者收到退出信号","time":"2025-07-22 20:17:38","worker_id":"test-worker-001"}
{"consumer_id":0,"level":"info","msg":"任务消费者收到退出信号","time":"2025-07-22 20:17:46","worker_id":"test-worker-001"}
{"level":"info","msg":"所有任务已完成","time":"2025-07-22 20:17:46"}
{"level":"info","msg":"Worker已停止","time":"2025-07-22 20:17:46"}
{"level":"info","msg":"Worker已优雅停止","time":"2025-07-22 20:17:46"}
{"level":"info","master_url":"http://localhost:8080","msg":"启动AHOP Worker","time":"2025-07-22 20:17:48","version":"1.0.0","worker_name":"AHOP Worker on development"}
{"level":"info","msg":"使用配置的worker_id","time":"2025-07-22 20:17:48","worker_id":"test-worker-001"}
{"level":"info","master_url":"http://localhost:8080","msg":"Worker认证成功，获得数据库和Redis凭据","time":"2025-07-22 20:17:48","worker_id":"test-worker-001"}
{"executors":2,"level":"info","msg":"已注册任务执行器","time":"2025-07-22 20:17:48"}
{"concurrency":2,"level":"info","msg":"Worker启动成功","time":"2025-07-22 20:17:48","worker_id":"test-worker-001"}
{"level":"info","msg":"Worker启动成功，正在等待任务...","time":"2025-07-22 20:17:48"}
{"consumer_id":1,"level":"info","msg":"任务消费者启动","time":"2025-07-22 20:17:48","worker_id":"test-worker-001"}
{"consumer_id":0,"level":"info","msg":"任务消费者启动","time":"2025-07-22 20:17:48","worker_id":"test-worker-001"}
{"consumer_id":1,"level":"info","msg":"开始处理任务","source":"api","task_id":"a2405b00-cd88-4e99-b4af-c26bfaa94cc9","task_type":"collect","tenant_id":1,"tenant_name":"默认租户","time":"2025-07-22 20:18:02","user_id":1,"username":"admin","worker_id":"test-worker-001"}
{"count":2,"host_ids":[2,1],"level":"debug","msg":"开始查询主机信息","tenant_id":1,"time":"2025-07-22 20:18:02"}
{"credential_type":"password","host_id":1,"host_ip":"192.168.5.4","host_name":"","level":"debug","msg":"准备主机连接信息","time":"2025-07-22 20:18:02"}
{"credential_type":"password","host_id":2,"host_ip":"127.0.0.1","host_name":"","level":"debug","msg":"准备主机连接信息","time":"2025-07-22 20:18:02"}
{"level":"debug","msg":"主机信息准备完成","time":"2025-07-22 20:18:02","total_prepared":2,"total_requested":2}
{"host_id":2,"level":"debug","msg":"ansible_facts 字段数量: 109","time":"2025-07-22 20:18:40"}
{"host_id":2,"level":"debug","msg":"找到字段: ansible_mounts","time":"2025-07-22 20:18:40"}
{"host_id":2,"level":"debug","msg":"找到字段: ansible_interfaces","time":"2025-07-22 20:18:40"}
{"host_id":2,"level":"info","msg":"更新主机系统信息成功","time":"2025-07-22 20:18:40"}
{"host_id":1,"level":"warning","msg":"主机信息收集失败，跳过更新","time":"2025-07-22 20:18:40"}
{"consumer_id":1,"level":"info","msg":"任务执行成功","source":"api","task_id":"a2405b00-cd88-4e99-b4af-c26bfaa94cc9","task_type":"collect","tenant_id":1,"tenant_name":"默认租户","time":"2025-07-22 20:18:40","user_id":1,"username":"admin","worker_id":"test-worker-001"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-22 20:19:48"}
{"consumer_id":0,"level":"info","msg":"开始处理任务","source":"api","task_id":"c24002db-bed1-4bf4-aaeb-a8b0cbc9562e","task_type":"ping","tenant_id":1,"tenant_name":"默认租户","time":"2025-07-22 20:20:14","user_id":1,"username":"admin","worker_id":"test-worker-001"}
{"count":2,"host_ids":[2,1],"level":"debug","msg":"开始查询主机信息","tenant_id":1,"time":"2025-07-22 20:20:14"}
{"credential_type":"password","host_id":1,"host_ip":"192.168.5.4","host_name":"","level":"debug","msg":"准备主机连接信息","time":"2025-07-22 20:20:14"}
{"credential_type":"password","host_id":2,"host_ip":"127.0.0.1","host_name":"development","level":"debug","msg":"准备主机连接信息","time":"2025-07-22 20:20:14"}
{"level":"debug","msg":"主机信息准备完成","time":"2025-07-22 20:20:14","total_prepared":2,"total_requested":2}
{"host_id":1,"level":"debug","msg":"更新主机 ping 状态成功","status":"offline","time":"2025-07-22 20:20:21"}
{"host_id":2,"level":"debug","msg":"更新主机 ping 状态成功","status":"online","time":"2025-07-22 20:20:21"}
{"consumer_id":0,"level":"info","msg":"任务执行成功","source":"api","task_id":"c24002db-bed1-4bf4-aaeb-a8b0cbc9562e","task_type":"ping","tenant_id":1,"tenant_name":"默认租户","time":"2025-07-22 20:20:21","user_id":1,"username":"admin","worker_id":"test-worker-001"}
{"level":"info","msg":"收到退出信号，正在停止Worker...","time":"2025-07-22 20:21:18"}
{"level":"info","msg":"开始停止Worker","time":"2025-07-22 20:21:18"}
{"consumer_id":1,"level":"info","msg":"任务消费者收到退出信号","time":"2025-07-22 20:21:21","worker_id":"test-worker-001"}
{"consumer_id":0,"level":"info","msg":"任务消费者收到退出信号","time":"2025-07-22 20:21:22","worker_id":"test-worker-001"}
{"level":"info","msg":"所有任务已完成","time":"2025-07-22 20:21:22"}
{"level":"info","msg":"Worker已停止","time":"2025-07-22 20:21:22"}
{"level":"info","msg":"Worker已优雅停止","time":"2025-07-22 20:21:22"}
{"level":"info","master_url":"http://localhost:8080","msg":"启动AHOP Worker","time":"2025-07-22 20:21:23","version":"1.0.0","worker_name":"AHOP Worker on development"}
{"level":"info","msg":"使用配置的worker_id","time":"2025-07-22 20:21:23","worker_id":"test-worker-001"}
{"level":"info","master_url":"http://localhost:8080","msg":"Worker认证成功，获得数据库和Redis凭据","time":"2025-07-22 20:21:23","worker_id":"test-worker-001"}
{"executors":2,"level":"info","msg":"已注册任务执行器","time":"2025-07-22 20:21:23"}
{"concurrency":2,"level":"info","msg":"Worker启动成功","time":"2025-07-22 20:21:23","worker_id":"test-worker-001"}
{"level":"info","msg":"Worker启动成功，正在等待任务...","time":"2025-07-22 20:21:23"}
{"consumer_id":0,"level":"info","msg":"任务消费者启动","time":"2025-07-22 20:21:23","worker_id":"test-worker-001"}
{"consumer_id":1,"level":"info","msg":"任务消费者启动","time":"2025-07-22 20:21:23","worker_id":"test-worker-001"}
{"consumer_id":0,"level":"info","msg":"开始处理任务","source":"api","task_id":"40f2da8b-2fa8-4ff0-a97b-3e93c05f1e77","task_type":"collect","tenant_id":1,"tenant_name":"默认租户","time":"2025-07-22 20:21:37","user_id":1,"username":"admin","worker_id":"test-worker-001"}
{"count":2,"host_ids":[2,1],"level":"debug","msg":"开始查询主机信息","tenant_id":1,"time":"2025-07-22 20:21:37"}
{"credential_type":"password","host_id":1,"host_ip":"192.168.5.4","host_name":"","level":"debug","msg":"准备主机连接信息","time":"2025-07-22 20:21:37"}
{"credential_type":"password","host_id":2,"host_ip":"127.0.0.1","host_name":"development","level":"debug","msg":"准备主机连接信息","time":"2025-07-22 20:21:37"}
{"level":"debug","msg":"主机信息准备完成","time":"2025-07-22 20:21:37","total_prepared":2,"total_requested":2}
{"host_id":1,"level":"warning","msg":"主机信息收集失败，跳过更新","time":"2025-07-22 20:22:16"}
{"host_id":2,"level":"debug","msg":"ansible_facts 字段数量: 109","time":"2025-07-22 20:22:16"}
{"host_id":2,"level":"debug","msg":"找到字段: ansible_interfaces","time":"2025-07-22 20:22:16"}
{"host_id":2,"level":"debug","msg":"找到字段: ansible_mounts","time":"2025-07-22 20:22:16"}
{"host_id":2,"level":"info","msg":"更新主机系统信息成功","time":"2025-07-22 20:22:16"}
{"consumer_id":0,"level":"info","msg":"任务执行成功","source":"api","task_id":"40f2da8b-2fa8-4ff0-a97b-3e93c05f1e77","task_type":"collect","tenant_id":1,"tenant_name":"默认租户","time":"2025-07-22 20:22:16","user_id":1,"username":"admin","worker_id":"test-worker-001"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-22 20:23:23"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-22 20:25:23"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-22 20:27:23"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-22 20:29:23"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-22 20:31:23"}
{"level":"info","msg":"收到退出信号，正在停止Worker...","time":"2025-07-22 20:31:32"}
{"level":"info","msg":"开始停止Worker","time":"2025-07-22 20:31:32"}
{"consumer_id":0,"level":"info","msg":"任务消费者收到退出信号","time":"2025-07-22 20:31:32","worker_id":"test-worker-001"}
{"consumer_id":1,"level":"info","msg":"任务消费者收到退出信号","time":"2025-07-22 20:31:40","worker_id":"test-worker-001"}
{"level":"info","msg":"所有任务已完成","time":"2025-07-22 20:31:40"}
{"level":"info","msg":"Worker已停止","time":"2025-07-22 20:31:40"}
{"level":"info","msg":"Worker已优雅停止","time":"2025-07-22 20:31:40"}
{"level":"info","master_url":"http://localhost:8080","msg":"启动AHOP Worker","time":"2025-07-22 20:31:53","version":"1.0.0","worker_name":"AHOP Worker on development"}
{"level":"info","msg":"使用配置的worker_id","time":"2025-07-22 20:31:53","worker_id":"test-worker-001"}
{"level":"info","master_url":"http://localhost:8080","msg":"Worker认证成功，获得数据库和Redis凭据","time":"2025-07-22 20:31:53","worker_id":"test-worker-001"}
{"executors":2,"level":"info","msg":"已注册任务执行器","time":"2025-07-22 20:31:53"}
{"concurrency":2,"level":"info","msg":"Worker启动成功","time":"2025-07-22 20:31:53","worker_id":"test-worker-001"}
{"level":"info","msg":"Worker启动成功，正在等待任务...","time":"2025-07-22 20:31:53"}
{"consumer_id":1,"level":"info","msg":"任务消费者启动","time":"2025-07-22 20:31:53","worker_id":"test-worker-001"}
{"consumer_id":0,"level":"info","msg":"任务消费者启动","time":"2025-07-22 20:31:53","worker_id":"test-worker-001"}
{"consumer_id":0,"level":"info","msg":"开始处理任务","source":"api","task_id":"0fa7776c-de32-4524-9adb-bc6ad2dba17e","task_type":"ping","tenant_id":1,"tenant_name":"默认租户","time":"2025-07-22 20:32:07","user_id":1,"username":"admin","worker_id":"test-worker-001"}
{"count":2,"host_ids":[2,1],"level":"debug","msg":"开始查询主机信息","tenant_id":1,"time":"2025-07-22 20:32:07"}
{"credential_type":"password","host_id":1,"host_ip":"192.168.5.4","host_name":"","level":"debug","msg":"准备主机连接信息","time":"2025-07-22 20:32:07"}
{"credential_type":"password","host_id":2,"host_ip":"127.0.0.1","host_name":"development","level":"debug","msg":"准备主机连接信息","time":"2025-07-22 20:32:07"}
{"level":"debug","msg":"主机信息准备完成","time":"2025-07-22 20:32:07","total_prepared":2,"total_requested":2}
{"host_id":1,"level":"debug","msg":"更新主机 ping 状态成功","status":"offline","time":"2025-07-22 20:32:14"}
{"host_id":2,"level":"debug","msg":"更新主机 ping 状态成功","status":"online","time":"2025-07-22 20:32:14"}
{"consumer_id":0,"level":"info","msg":"任务执行成功","source":"api","task_id":"0fa7776c-de32-4524-9adb-bc6ad2dba17e","task_type":"ping","tenant_id":1,"tenant_name":"默认租户","time":"2025-07-22 20:32:14","user_id":1,"username":"admin","worker_id":"test-worker-001"}
{"consumer_id":1,"level":"info","msg":"开始处理任务","source":"api","task_id":"dd1ef596-c2b1-4837-8ecd-b32e4d0aae6f","task_type":"collect","tenant_id":1,"tenant_name":"默认租户","time":"2025-07-22 20:32:58","user_id":1,"username":"admin","worker_id":"test-worker-001"}
{"count":2,"host_ids":[2,1],"level":"debug","msg":"开始查询主机信息","tenant_id":1,"time":"2025-07-22 20:32:58"}
{"credential_type":"password","host_id":1,"host_ip":"192.168.5.4","host_name":"","level":"debug","msg":"准备主机连接信息","time":"2025-07-22 20:32:58"}
{"credential_type":"password","host_id":2,"host_ip":"127.0.0.1","host_name":"development","level":"debug","msg":"准备主机连接信息","time":"2025-07-22 20:32:58"}
{"level":"debug","msg":"主机信息准备完成","time":"2025-07-22 20:32:58","total_prepared":2,"total_requested":2}
{"host_id":1,"level":"warning","msg":"主机信息收集失败，跳过更新","time":"2025-07-22 20:33:35"}
{"host_id":2,"level":"debug","msg":"ansible_facts 字段数量: 109","time":"2025-07-22 20:33:35"}
{"host_id":2,"level":"debug","msg":"找到字段: ansible_interfaces","time":"2025-07-22 20:33:35"}
{"host_id":2,"level":"debug","msg":"找到字段: ansible_mounts","time":"2025-07-22 20:33:35"}
{"host_id":2,"level":"info","msg":"更新主机系统信息成功","time":"2025-07-22 20:33:35"}
{"consumer_id":1,"level":"info","msg":"任务执行成功","source":"api","task_id":"dd1ef596-c2b1-4837-8ecd-b32e4d0aae6f","task_type":"collect","tenant_id":1,"tenant_name":"默认租户","time":"2025-07-22 20:33:35","user_id":1,"username":"admin","worker_id":"test-worker-001"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-22 20:33:53"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-22 20:35:53"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-22 20:37:53"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-22 20:39:53"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-22 20:41:53"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-22 20:43:53"}
{"level":"info","msg":"收到退出信号，正在停止Worker...","time":"2025-07-22 20:44:00"}
{"level":"info","msg":"开始停止Worker","time":"2025-07-22 20:44:00"}
{"consumer_id":1,"level":"info","msg":"任务消费者收到退出信号","time":"2025-07-22 20:44:02","worker_id":"test-worker-001"}
{"consumer_id":0,"level":"info","msg":"任务消费者收到退出信号","time":"2025-07-22 20:44:02","worker_id":"test-worker-001"}
{"level":"info","msg":"所有任务已完成","time":"2025-07-22 20:44:02"}
{"level":"info","msg":"Worker已停止","time":"2025-07-22 20:44:02"}
{"level":"info","msg":"Worker已优雅停止","time":"2025-07-22 20:44:02"}
{"level":"info","master_url":"http://localhost:8080","msg":"启动AHOP Worker","time":"2025-07-22 20:44:03","version":"1.0.0","worker_name":"AHOP Worker on development"}
{"level":"info","msg":"使用配置的worker_id","time":"2025-07-22 20:44:03","worker_id":"test-worker-001"}
{"level":"info","master_url":"http://localhost:8080","msg":"Worker认证成功，获得数据库和Redis凭据","time":"2025-07-22 20:44:03","worker_id":"test-worker-001"}
{"executors":2,"level":"info","msg":"已注册任务执行器","time":"2025-07-22 20:44:03"}
{"concurrency":2,"level":"info","msg":"Worker启动成功","time":"2025-07-22 20:44:03","worker_id":"test-worker-001"}
{"consumer_id":0,"level":"info","msg":"任务消费者启动","time":"2025-07-22 20:44:03","worker_id":"test-worker-001"}
{"level":"info","msg":"Worker启动成功，正在等待任务...","time":"2025-07-22 20:44:03"}
{"consumer_id":1,"level":"info","msg":"任务消费者启动","time":"2025-07-22 20:44:03","worker_id":"test-worker-001"}
{"consumer_id":0,"level":"info","msg":"开始处理任务","source":"api","task_id":"adf1d634-93e9-4d56-88df-cb7cc4ba5311","task_type":"collect","tenant_id":1,"tenant_name":"默认租户","time":"2025-07-22 20:44:08","user_id":1,"username":"admin","worker_id":"test-worker-001"}
{"count":2,"host_ids":[2,1],"level":"debug","msg":"开始查询主机信息","tenant_id":1,"time":"2025-07-22 20:44:08"}
{"credential_type":"password","host_id":1,"host_ip":"192.168.5.4","host_name":"","level":"debug","msg":"准备主机连接信息","time":"2025-07-22 20:44:08"}
{"credential_type":"password","host_id":2,"host_ip":"127.0.0.1","host_name":"development","level":"debug","msg":"准备主机连接信息","time":"2025-07-22 20:44:08"}
{"level":"debug","msg":"主机信息准备完成","time":"2025-07-22 20:44:08","total_prepared":2,"total_requested":2}
{"host_id":1,"level":"warning","msg":"主机信息收集失败，跳过更新","time":"2025-07-22 20:44:46"}
{"host_id":2,"level":"debug","msg":"ansible_facts 字段数量: 2","time":"2025-07-22 20:44:46"}
{"host_id":2,"level":"debug","msg":"没有找到挂载点信息","time":"2025-07-22 20:44:46"}
{"host_id":2,"level":"debug","msg":"没有找到网络接口信息","time":"2025-07-22 20:44:46"}
{"host_id":2,"level":"info","msg":"更新主机系统信息成功","time":"2025-07-22 20:44:46"}
{"consumer_id":0,"level":"info","msg":"任务执行成功","source":"api","task_id":"adf1d634-93e9-4d56-88df-cb7cc4ba5311","task_type":"collect","tenant_id":1,"tenant_name":"默认租户","time":"2025-07-22 20:44:46","user_id":1,"username":"admin","worker_id":"test-worker-001"}
{"consumer_id":0,"level":"info","msg":"开始处理任务","source":"api","task_id":"b049ffac-873c-4a0b-9d05-2a03673d3c8e","task_type":"collect","tenant_id":1,"tenant_name":"默认租户","time":"2025-07-22 20:45:41","user_id":1,"username":"admin","worker_id":"test-worker-001"}
{"count":2,"host_ids":[2,1],"level":"debug","msg":"开始查询主机信息","tenant_id":1,"time":"2025-07-22 20:45:41"}
{"credential_type":"password","host_id":1,"host_ip":"192.168.5.4","host_name":"","level":"debug","msg":"准备主机连接信息","time":"2025-07-22 20:45:41"}
{"credential_type":"password","host_id":2,"host_ip":"127.0.0.1","host_name":"","level":"debug","msg":"准备主机连接信息","time":"2025-07-22 20:45:41"}
{"level":"debug","msg":"主机信息准备完成","time":"2025-07-22 20:45:41","total_prepared":2,"total_requested":2}
{"consumer_id":1,"level":"info","msg":"开始处理任务","source":"api","task_id":"bce4ccd0-c833-4c71-bbe3-359084dfa8bc","task_type":"ping","tenant_id":1,"tenant_name":"默认租户","time":"2025-07-22 20:45:48","user_id":1,"username":"admin","worker_id":"test-worker-001"}
{"count":2,"host_ids":[2,1],"level":"debug","msg":"开始查询主机信息","tenant_id":1,"time":"2025-07-22 20:45:48"}
{"credential_type":"password","host_id":1,"host_ip":"192.168.5.4","host_name":"","level":"debug","msg":"准备主机连接信息","time":"2025-07-22 20:45:48"}
{"credential_type":"password","host_id":2,"host_ip":"127.0.0.1","host_name":"","level":"debug","msg":"准备主机连接信息","time":"2025-07-22 20:45:48"}
{"level":"debug","msg":"主机信息准备完成","time":"2025-07-22 20:45:48","total_prepared":2,"total_requested":2}
{"host_id":1,"level":"debug","msg":"更新主机 ping 状态成功","status":"offline","time":"2025-07-22 20:45:55"}
{"host_id":2,"level":"debug","msg":"更新主机 ping 状态成功","status":"online","time":"2025-07-22 20:45:55"}
{"consumer_id":1,"level":"info","msg":"任务执行成功","source":"api","task_id":"bce4ccd0-c833-4c71-bbe3-359084dfa8bc","task_type":"ping","tenant_id":1,"tenant_name":"默认租户","time":"2025-07-22 20:45:55","user_id":1,"username":"admin","worker_id":"test-worker-001"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-22 20:46:03"}
{"host_id":2,"level":"debug","msg":"ansible_facts 字段数量: 2","time":"2025-07-22 20:46:19"}
{"host_id":2,"level":"debug","msg":"没有找到挂载点信息","time":"2025-07-22 20:46:19"}
{"host_id":2,"level":"debug","msg":"没有找到网络接口信息","time":"2025-07-22 20:46:19"}
{"host_id":2,"level":"info","msg":"更新主机系统信息成功","time":"2025-07-22 20:46:19"}
{"host_id":1,"level":"warning","msg":"主机信息收集失败，跳过更新","time":"2025-07-22 20:46:19"}
{"consumer_id":0,"level":"info","msg":"任务执行成功","source":"api","task_id":"b049ffac-873c-4a0b-9d05-2a03673d3c8e","task_type":"collect","tenant_id":1,"tenant_name":"默认租户","time":"2025-07-22 20:46:19","user_id":1,"username":"admin","worker_id":"test-worker-001"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-22 20:48:03"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-22 20:50:03"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-22 20:52:03"}
{"level":"info","msg":"收到退出信号，正在停止Worker...","time":"2025-07-22 20:52:55"}
{"level":"info","msg":"开始停止Worker","time":"2025-07-22 20:52:55"}
{"consumer_id":1,"level":"info","msg":"任务消费者收到退出信号","time":"2025-07-22 20:53:00","worker_id":"test-worker-001"}
{"consumer_id":0,"level":"info","msg":"任务消费者收到退出信号","time":"2025-07-22 20:53:03","worker_id":"test-worker-001"}
{"level":"info","msg":"所有任务已完成","time":"2025-07-22 20:53:03"}
{"level":"info","msg":"Worker已停止","time":"2025-07-22 20:53:03"}
{"level":"info","msg":"Worker已优雅停止","time":"2025-07-22 20:53:03"}
{"level":"info","master_url":"http://localhost:8080","msg":"启动AHOP Worker","time":"2025-07-22 20:53:04","version":"1.0.0","worker_name":"AHOP Worker on development"}
{"level":"info","msg":"使用配置的worker_id","time":"2025-07-22 20:53:04","worker_id":"test-worker-001"}
{"level":"info","master_url":"http://localhost:8080","msg":"Worker认证成功，获得数据库和Redis凭据","time":"2025-07-22 20:53:04","worker_id":"test-worker-001"}
{"executors":2,"level":"info","msg":"已注册任务执行器","time":"2025-07-22 20:53:04"}
{"concurrency":2,"level":"info","msg":"Worker启动成功","time":"2025-07-22 20:53:04","worker_id":"test-worker-001"}
{"consumer_id":1,"level":"info","msg":"任务消费者启动","time":"2025-07-22 20:53:04","worker_id":"test-worker-001"}
{"consumer_id":0,"level":"info","msg":"任务消费者启动","time":"2025-07-22 20:53:04","worker_id":"test-worker-001"}
{"level":"info","msg":"Worker启动成功，正在等待任务...","time":"2025-07-22 20:53:04"}
{"consumer_id":0,"level":"info","msg":"开始处理任务","source":"api","task_id":"64e93c3d-bce3-47b4-9f5a-664f592b7c13","task_type":"ping","tenant_id":1,"tenant_name":"默认租户","time":"2025-07-22 20:53:18","user_id":1,"username":"admin","worker_id":"test-worker-001"}
{"count":2,"host_ids":[2,1],"level":"debug","msg":"开始查询主机信息","tenant_id":1,"time":"2025-07-22 20:53:18"}
{"credential_type":"password","host_id":1,"host_ip":"192.168.5.4","host_name":"","level":"debug","msg":"准备主机连接信息","time":"2025-07-22 20:53:18"}
{"credential_type":"password","host_id":2,"host_ip":"127.0.0.1","host_name":"","level":"debug","msg":"准备主机连接信息","time":"2025-07-22 20:53:18"}
{"level":"debug","msg":"主机信息准备完成","time":"2025-07-22 20:53:18","total_prepared":2,"total_requested":2}
{"host_id":1,"level":"debug","msg":"更新主机 ping 状态成功","status":"offline","time":"2025-07-22 20:53:25"}
{"host_id":2,"level":"debug","msg":"更新主机 ping 状态成功","status":"online","time":"2025-07-22 20:53:25"}
{"consumer_id":0,"level":"info","msg":"任务执行成功","source":"api","task_id":"64e93c3d-bce3-47b4-9f5a-664f592b7c13","task_type":"ping","tenant_id":1,"tenant_name":"默认租户","time":"2025-07-22 20:53:25","user_id":1,"username":"admin","worker_id":"test-worker-001"}
{"consumer_id":1,"level":"info","msg":"开始处理任务","source":"api","task_id":"0a6e7287-5265-4cac-a5d1-e0206646aa1b","task_type":"collect","tenant_id":1,"tenant_name":"默认租户","time":"2025-07-22 20:53:59","user_id":1,"username":"admin","worker_id":"test-worker-001"}
{"count":2,"host_ids":[2,1],"level":"debug","msg":"开始查询主机信息","tenant_id":1,"time":"2025-07-22 20:53:59"}
{"credential_type":"password","host_id":1,"host_ip":"192.168.5.4","host_name":"","level":"debug","msg":"准备主机连接信息","time":"2025-07-22 20:53:59"}
{"credential_type":"password","host_id":2,"host_ip":"127.0.0.1","host_name":"","level":"debug","msg":"准备主机连接信息","time":"2025-07-22 20:53:59"}
{"level":"debug","msg":"主机信息准备完成","time":"2025-07-22 20:53:59","total_prepared":2,"total_requested":2}
{"host_id":1,"level":"warning","msg":"主机信息收集失败，跳过更新","time":"2025-07-22 20:54:36"}
{"host_id":2,"level":"debug","msg":"ansible_facts 字段数量: 109","time":"2025-07-22 20:54:36"}
{"host_id":2,"level":"debug","msg":"找到字段: ansible_interfaces","time":"2025-07-22 20:54:36"}
{"host_id":2,"level":"debug","msg":"找到字段: ansible_mounts","time":"2025-07-22 20:54:36"}
{"host_id":2,"level":"info","msg":"更新主机系统信息成功","time":"2025-07-22 20:54:37"}
{"consumer_id":1,"level":"info","msg":"任务执行成功","source":"api","task_id":"0a6e7287-5265-4cac-a5d1-e0206646aa1b","task_type":"collect","tenant_id":1,"tenant_name":"默认租户","time":"2025-07-22 20:54:37","user_id":1,"username":"admin","worker_id":"test-worker-001"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-22 20:55:04"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-22 20:57:04"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-22 20:59:04"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-22 21:01:04"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-22 21:03:04"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-22 21:05:04"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-22 21:07:04"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-22 21:09:04"}
{"level":"info","msg":"收到退出信号，正在停止Worker...","time":"2025-07-22 21:11:02"}
{"level":"info","msg":"开始停止Worker","time":"2025-07-22 21:11:02"}
{"consumer_id":0,"level":"info","msg":"任务消费者收到退出信号","time":"2025-07-22 21:11:07","worker_id":"test-worker-001"}
{"consumer_id":1,"level":"info","msg":"任务消费者收到退出信号","time":"2025-07-22 21:11:08","worker_id":"test-worker-001"}
{"level":"info","msg":"所有任务已完成","time":"2025-07-22 21:11:08"}
{"level":"info","msg":"Worker已停止","time":"2025-07-22 21:11:08"}
{"level":"info","msg":"Worker已优雅停止","time":"2025-07-22 21:11:08"}
{"level":"info","master_url":"http://localhost:8080","msg":"启动AHOP Worker","time":"2025-07-22 21:11:08","version":"1.0.0","worker_name":"AHOP Worker on development"}
{"level":"info","msg":"使用配置的worker_id","time":"2025-07-22 21:11:08","worker_id":"test-worker-001"}
{"level":"info","master_url":"http://localhost:8080","msg":"Worker认证成功，获得数据库和Redis凭据","time":"2025-07-22 21:11:08","worker_id":"test-worker-001"}
{"executors":2,"level":"info","msg":"已注册任务执行器","time":"2025-07-22 21:11:08"}
{"concurrency":2,"level":"info","msg":"Worker启动成功","time":"2025-07-22 21:11:08","worker_id":"test-worker-001"}
{"consumer_id":0,"level":"info","msg":"任务消费者启动","time":"2025-07-22 21:11:08","worker_id":"test-worker-001"}
{"level":"info","msg":"Worker启动成功，正在等待任务...","time":"2025-07-22 21:11:08"}
{"consumer_id":1,"level":"info","msg":"任务消费者启动","time":"2025-07-22 21:11:08","worker_id":"test-worker-001"}
{"consumer_id":0,"level":"info","msg":"开始处理任务","source":"api","task_id":"58d75325-52bb-4a86-9bb6-9c68fd1c6551","task_type":"collect","tenant_id":1,"tenant_name":"默认租户","time":"2025-07-22 21:11:23","user_id":1,"username":"admin","worker_id":"test-worker-001"}
{"count":2,"host_ids":[2,1],"level":"debug","msg":"开始查询主机信息","tenant_id":1,"time":"2025-07-22 21:11:23"}
{"credential_type":"password","host_id":1,"host_ip":"192.168.5.4","host_name":"","level":"debug","msg":"准备主机连接信息","time":"2025-07-22 21:11:23"}
{"credential_type":"password","host_id":2,"host_ip":"127.0.0.1","host_name":"development","level":"debug","msg":"准备主机连接信息","time":"2025-07-22 21:11:23"}
{"level":"debug","msg":"主机信息准备完成","time":"2025-07-22 21:11:23","total_prepared":2,"total_requested":2}
{"host_id":1,"level":"warning","msg":"主机信息收集失败，跳过更新","time":"2025-07-22 21:12:00"}
{"host_id":2,"level":"debug","msg":"ansible_facts 字段数量: 109","time":"2025-07-22 21:12:00"}
{"host_id":2,"level":"debug","msg":"找到字段: ansible_mounts","time":"2025-07-22 21:12:00"}
{"host_id":2,"level":"debug","msg":"找到字段: ansible_interfaces","time":"2025-07-22 21:12:00"}
{"host_id":2,"level":"info","msg":"更新主机系统信息成功","time":"2025-07-22 21:12:00"}
{"consumer_id":0,"level":"info","msg":"任务执行成功","source":"api","task_id":"58d75325-52bb-4a86-9bb6-9c68fd1c6551","task_type":"collect","tenant_id":1,"tenant_name":"默认租户","time":"2025-07-22 21:12:00","user_id":1,"username":"admin","worker_id":"test-worker-001"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-22 21:13:08"}
{"consumer_id":1,"level":"info","msg":"开始处理任务","source":"api","task_id":"c02d7a74-3551-4e60-9d43-35846f8a3a93","task_type":"ping","tenant_id":1,"tenant_name":"默认租户","time":"2025-07-22 21:13:34","user_id":1,"username":"admin","worker_id":"test-worker-001"}
{"count":2,"host_ids":[2,1],"level":"debug","msg":"开始查询主机信息","tenant_id":1,"time":"2025-07-22 21:13:34"}
{"credential_type":"password","host_id":1,"host_ip":"192.168.5.4","host_name":"","level":"debug","msg":"准备主机连接信息","time":"2025-07-22 21:13:34"}
{"credential_type":"password","host_id":2,"host_ip":"127.0.0.1","host_name":"development","level":"debug","msg":"准备主机连接信息","time":"2025-07-22 21:13:34"}
{"level":"debug","msg":"主机信息准备完成","time":"2025-07-22 21:13:34","total_prepared":2,"total_requested":2}
{"host_id":1,"level":"debug","msg":"更新主机 ping 状态成功","status":"offline","time":"2025-07-22 21:13:41"}
{"host_id":2,"level":"debug","msg":"更新主机 ping 状态成功","status":"online","time":"2025-07-22 21:13:41"}
{"consumer_id":1,"level":"info","msg":"任务执行成功","source":"api","task_id":"c02d7a74-3551-4e60-9d43-35846f8a3a93","task_type":"ping","tenant_id":1,"tenant_name":"默认租户","time":"2025-07-22 21:13:41","user_id":1,"username":"admin","worker_id":"test-worker-001"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-22 21:15:08"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-22 21:17:08"}
{"level":"info","msg":"收到退出信号，正在停止Worker...","time":"2025-07-22 21:18:56"}
{"level":"info","msg":"开始停止Worker","time":"2025-07-22 21:18:56"}
{"consumer_id":1,"level":"info","msg":"任务消费者收到退出信号","time":"2025-07-22 21:19:05","worker_id":"test-worker-001"}
{"consumer_id":0,"level":"info","msg":"任务消费者收到退出信号","time":"2025-07-22 21:19:05","worker_id":"test-worker-001"}
{"level":"info","msg":"所有任务已完成","time":"2025-07-22 21:19:05"}
{"level":"info","msg":"Worker已停止","time":"2025-07-22 21:19:05"}
{"level":"info","msg":"Worker已优雅停止","time":"2025-07-22 21:19:05"}
{"level":"info","master_url":"http://localhost:8080","msg":"启动AHOP Worker","time":"2025-07-22 21:19:06","version":"1.0.0","worker_name":"AHOP Worker on development"}
{"level":"info","msg":"使用配置的worker_id","time":"2025-07-22 21:19:06","worker_id":"test-worker-001"}
{"level":"info","master_url":"http://localhost:8080","msg":"Worker认证成功，获得数据库和Redis凭据","time":"2025-07-22 21:19:06","worker_id":"test-worker-001"}
{"executors":2,"level":"info","msg":"已注册任务执行器","time":"2025-07-22 21:19:06"}
{"concurrency":2,"level":"info","msg":"Worker启动成功","time":"2025-07-22 21:19:06","worker_id":"test-worker-001"}
{"level":"info","msg":"Worker启动成功，正在等待任务...","time":"2025-07-22 21:19:06"}
{"consumer_id":1,"level":"info","msg":"任务消费者启动","time":"2025-07-22 21:19:06","worker_id":"test-worker-001"}
{"consumer_id":0,"level":"info","msg":"任务消费者启动","time":"2025-07-22 21:19:06","worker_id":"test-worker-001"}
{"consumer_id":0,"level":"info","msg":"开始处理任务","source":"api","task_id":"67c65ee1-54fe-45f0-952f-0b653532e5a7","task_type":"collect","tenant_id":1,"tenant_name":"默认租户","time":"2025-07-22 21:19:20","user_id":1,"username":"admin","worker_id":"test-worker-001"}
{"count":2,"host_ids":[2,1],"level":"debug","msg":"开始查询主机信息","tenant_id":1,"time":"2025-07-22 21:19:20"}
{"credential_type":"password","host_id":1,"host_ip":"192.168.5.4","host_name":"","level":"debug","msg":"准备主机连接信息","time":"2025-07-22 21:19:20"}
{"credential_type":"password","host_id":2,"host_ip":"127.0.0.1","host_name":"development","level":"debug","msg":"准备主机连接信息","time":"2025-07-22 21:19:20"}
{"level":"debug","msg":"主机信息准备完成","time":"2025-07-22 21:19:20","total_prepared":2,"total_requested":2}
{"consumer_id":1,"level":"info","msg":"开始处理任务","source":"api","task_id":"3becc748-bc0e-4366-92d1-2f3f58db1b08","task_type":"ping","tenant_id":1,"tenant_name":"默认租户","time":"2025-07-22 21:19:30","user_id":1,"username":"admin","worker_id":"test-worker-001"}
{"count":2,"host_ids":[2,1],"level":"debug","msg":"开始查询主机信息","tenant_id":1,"time":"2025-07-22 21:19:30"}
{"credential_type":"password","host_id":1,"host_ip":"192.168.5.4","host_name":"","level":"debug","msg":"准备主机连接信息","time":"2025-07-22 21:19:30"}
{"credential_type":"password","host_id":2,"host_ip":"127.0.0.1","host_name":"development","level":"debug","msg":"准备主机连接信息","time":"2025-07-22 21:19:30"}
{"level":"debug","msg":"主机信息准备完成","time":"2025-07-22 21:19:30","total_prepared":2,"total_requested":2}
{"host_id":1,"level":"debug","msg":"更新主机 ping 状态成功","status":"offline","time":"2025-07-22 21:19:37"}
{"host_id":2,"level":"debug","msg":"更新主机 ping 状态成功","status":"online","time":"2025-07-22 21:19:37"}
{"consumer_id":1,"level":"info","msg":"任务执行成功","source":"api","task_id":"3becc748-bc0e-4366-92d1-2f3f58db1b08","task_type":"ping","tenant_id":1,"tenant_name":"默认租户","time":"2025-07-22 21:19:37","user_id":1,"username":"admin","worker_id":"test-worker-001"}
{"host_id":2,"level":"debug","msg":"ansible_facts 字段数量: 2","time":"2025-07-22 21:19:58"}
{"host_id":2,"level":"debug","msg":"没有找到挂载点信息","time":"2025-07-22 21:19:58"}
{"host_id":2,"level":"debug","msg":"没有找到网络接口信息","time":"2025-07-22 21:19:58"}
{"host_id":2,"level":"info","msg":"更新主机系统信息成功","time":"2025-07-22 21:19:58"}
{"host_id":1,"level":"warning","msg":"主机信息收集失败，跳过更新","time":"2025-07-22 21:19:58"}
{"consumer_id":0,"level":"info","msg":"任务执行成功","source":"api","task_id":"67c65ee1-54fe-45f0-952f-0b653532e5a7","task_type":"collect","tenant_id":1,"tenant_name":"默认租户","time":"2025-07-22 21:19:58","user_id":1,"username":"admin","worker_id":"test-worker-001"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-22 21:21:06"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-22 21:23:06"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-22 21:25:06"}
{"level":"info","msg":"收到退出信号，正在停止Worker...","time":"2025-07-22 21:26:16"}
{"level":"info","msg":"开始停止Worker","time":"2025-07-22 21:26:16"}
{"consumer_id":1,"level":"info","msg":"任务消费者收到退出信号","time":"2025-07-22 21:26:22","worker_id":"test-worker-001"}
{"consumer_id":0,"level":"info","msg":"任务消费者收到退出信号","time":"2025-07-22 21:26:22","worker_id":"test-worker-001"}
{"level":"info","msg":"所有任务已完成","time":"2025-07-22 21:26:22"}
{"level":"info","msg":"Worker已停止","time":"2025-07-22 21:26:22"}
{"level":"info","msg":"Worker已优雅停止","time":"2025-07-22 21:26:22"}
{"level":"info","master_url":"http://localhost:8080","msg":"启动AHOP Worker","time":"2025-07-22 21:26:23","version":"1.0.0","worker_name":"AHOP Worker on development"}
{"level":"info","msg":"使用配置的worker_id","time":"2025-07-22 21:26:23","worker_id":"test-worker-001"}
{"level":"info","master_url":"http://localhost:8080","msg":"Worker认证成功，获得数据库和Redis凭据","time":"2025-07-22 21:26:23","worker_id":"test-worker-001"}
{"executors":2,"level":"info","msg":"已注册任务执行器","time":"2025-07-22 21:26:23"}
{"concurrency":2,"level":"info","msg":"Worker启动成功","time":"2025-07-22 21:26:23","worker_id":"test-worker-001"}
{"level":"info","msg":"Worker启动成功，正在等待任务...","time":"2025-07-22 21:26:23"}
{"consumer_id":0,"level":"info","msg":"任务消费者启动","time":"2025-07-22 21:26:23","worker_id":"test-worker-001"}
{"consumer_id":1,"level":"info","msg":"任务消费者启动","time":"2025-07-22 21:26:23","worker_id":"test-worker-001"}
{"consumer_id":1,"level":"info","msg":"开始处理任务","source":"api","task_id":"3cd060b6-6798-43d2-84a0-d747684bfbe8","task_type":"collect","tenant_id":1,"tenant_name":"默认租户","time":"2025-07-22 21:26:37","user_id":1,"username":"admin","worker_id":"test-worker-001"}
{"count":2,"host_ids":[2,1],"level":"debug","msg":"开始查询主机信息","tenant_id":1,"time":"2025-07-22 21:26:37"}
{"credential_type":"password","host_id":1,"host_ip":"192.168.5.4","host_name":"","level":"debug","msg":"准备主机连接信息","time":"2025-07-22 21:26:37"}
{"credential_type":"password","host_id":2,"host_ip":"127.0.0.1","host_name":"","level":"debug","msg":"准备主机连接信息","time":"2025-07-22 21:26:37"}
{"level":"debug","msg":"主机信息准备完成","time":"2025-07-22 21:26:37","total_prepared":2,"total_requested":2}
{"consumer_id":0,"level":"info","msg":"开始处理任务","source":"api","task_id":"77427c81-9352-4515-aab1-b240bc57ef5c","task_type":"ping","tenant_id":1,"tenant_name":"默认租户","time":"2025-07-22 21:26:58","user_id":1,"username":"admin","worker_id":"test-worker-001"}
{"count":2,"host_ids":[2,1],"level":"debug","msg":"开始查询主机信息","tenant_id":1,"time":"2025-07-22 21:26:58"}
{"credential_type":"password","host_id":1,"host_ip":"192.168.5.4","host_name":"","level":"debug","msg":"准备主机连接信息","time":"2025-07-22 21:26:58"}
{"credential_type":"password","host_id":2,"host_ip":"127.0.0.1","host_name":"","level":"debug","msg":"准备主机连接信息","time":"2025-07-22 21:26:58"}
{"level":"debug","msg":"主机信息准备完成","time":"2025-07-22 21:26:58","total_prepared":2,"total_requested":2}
{"host_id":1,"level":"debug","msg":"更新主机 ping 状态成功","status":"offline","time":"2025-07-22 21:27:05"}
{"host_id":2,"level":"debug","msg":"更新主机 ping 状态成功","status":"online","time":"2025-07-22 21:27:05"}
{"consumer_id":0,"level":"info","msg":"任务执行成功","source":"api","task_id":"77427c81-9352-4515-aab1-b240bc57ef5c","task_type":"ping","tenant_id":1,"tenant_name":"默认租户","time":"2025-07-22 21:27:05","user_id":1,"username":"admin","worker_id":"test-worker-001"}
{"host_id":1,"level":"warning","msg":"主机信息收集失败，跳过更新","time":"2025-07-22 21:27:15"}
{"host_id":2,"level":"debug","msg":"ansible_facts 字段数量: 109","time":"2025-07-22 21:27:15"}
{"host_id":2,"level":"debug","msg":"找到字段: ansible_interfaces","time":"2025-07-22 21:27:15"}
{"host_id":2,"level":"debug","msg":"找到字段: ansible_mounts","time":"2025-07-22 21:27:15"}
{"host_id":2,"level":"info","msg":"更新主机系统信息成功","time":"2025-07-22 21:27:15"}
{"consumer_id":1,"level":"info","msg":"任务执行成功","source":"api","task_id":"3cd060b6-6798-43d2-84a0-d747684bfbe8","task_type":"collect","tenant_id":1,"tenant_name":"默认租户","time":"2025-07-22 21:27:15","user_id":1,"username":"admin","worker_id":"test-worker-001"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-22 21:28:23"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-22 21:30:23"}
{"level":"info","msg":"收到退出信号，正在停止Worker...","time":"2025-07-22 21:32:07"}
{"level":"info","msg":"开始停止Worker","time":"2025-07-22 21:32:07"}
{"consumer_id":0,"level":"info","msg":"任务消费者收到退出信号","time":"2025-07-22 21:32:08","worker_id":"test-worker-001"}
{"consumer_id":1,"level":"info","msg":"任务消费者收到退出信号","time":"2025-07-22 21:32:08","worker_id":"test-worker-001"}
{"level":"info","msg":"所有任务已完成","time":"2025-07-22 21:32:08"}
{"level":"info","msg":"Worker已停止","time":"2025-07-22 21:32:08"}
{"level":"info","msg":"Worker已优雅停止","time":"2025-07-22 21:32:08"}
{"level":"info","master_url":"http://localhost:8080","msg":"启动AHOP Worker","time":"2025-07-22 21:32:12","version":"1.0.0","worker_name":"AHOP Worker on development"}
{"level":"info","msg":"使用配置的worker_id","time":"2025-07-22 21:32:12","worker_id":"test-worker-001"}
{"level":"info","master_url":"http://localhost:8080","msg":"Worker认证成功，获得数据库和Redis凭据","time":"2025-07-22 21:32:12","worker_id":"test-worker-001"}
{"executors":2,"level":"info","msg":"已注册任务执行器","time":"2025-07-22 21:32:12"}
{"concurrency":2,"level":"info","msg":"Worker启动成功","time":"2025-07-22 21:32:12","worker_id":"test-worker-001"}
{"level":"info","msg":"Worker启动成功，正在等待任务...","time":"2025-07-22 21:32:12"}
{"consumer_id":0,"level":"info","msg":"任务消费者启动","time":"2025-07-22 21:32:12","worker_id":"test-worker-001"}
{"consumer_id":1,"level":"info","msg":"任务消费者启动","time":"2025-07-22 21:32:12","worker_id":"test-worker-001"}
{"consumer_id":1,"level":"info","msg":"开始处理任务","source":"api","task_id":"967c3ef4-b60c-4868-a0ed-446f722532ab","task_type":"collect","tenant_id":1,"tenant_name":"默认租户","time":"2025-07-22 21:32:26","user_id":1,"username":"admin","worker_id":"test-worker-001"}
{"count":2,"host_ids":[2,1],"level":"debug","msg":"开始查询主机信息","tenant_id":1,"time":"2025-07-22 21:32:26"}
{"credential_type":"password","host_id":1,"host_ip":"adassad","host_name":"","level":"debug","msg":"准备主机连接信息","time":"2025-07-22 21:32:26"}
{"credential_type":"password","host_id":2,"host_ip":"127.0.0.1","host_name":"development","level":"debug","msg":"准备主机连接信息","time":"2025-07-22 21:32:26"}
{"level":"debug","msg":"主机信息准备完成","time":"2025-07-22 21:32:26","total_prepared":2,"total_requested":2}
{"host_id":1,"level":"warning","msg":"主机信息收集失败，跳过更新","time":"2025-07-22 21:32:35"}
{"host_id":2,"level":"debug","msg":"ansible_facts 字段数量: 2","time":"2025-07-22 21:32:35"}
{"host_id":2,"level":"debug","msg":"没有找到挂载点信息","time":"2025-07-22 21:32:35"}
{"host_id":2,"level":"debug","msg":"没有找到网络接口信息","time":"2025-07-22 21:32:35"}
{"host_id":2,"level":"info","msg":"更新主机系统信息成功","time":"2025-07-22 21:32:35"}
{"consumer_id":1,"level":"info","msg":"任务执行成功","source":"api","task_id":"967c3ef4-b60c-4868-a0ed-446f722532ab","task_type":"collect","tenant_id":1,"tenant_name":"默认租户","time":"2025-07-22 21:32:35","user_id":1,"username":"admin","worker_id":"test-worker-001"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-22 21:34:12"}
{"consumer_id":0,"level":"info","msg":"开始处理任务","source":"api","task_id":"611c7fb0-c739-4c77-84b7-5f86063243c2","task_type":"ping","tenant_id":1,"tenant_name":"默认租户","time":"2025-07-22 21:34:28","user_id":1,"username":"admin","worker_id":"test-worker-001"}
{"count":2,"host_ids":[2,1],"level":"debug","msg":"开始查询主机信息","tenant_id":1,"time":"2025-07-22 21:34:28"}
{"credential_type":"password","host_id":1,"host_ip":"adassad","host_name":"","level":"debug","msg":"准备主机连接信息","time":"2025-07-22 21:34:28"}
{"credential_type":"password","host_id":2,"host_ip":"127.0.0.1","host_name":"","level":"debug","msg":"准备主机连接信息","time":"2025-07-22 21:34:28"}
{"level":"debug","msg":"主机信息准备完成","time":"2025-07-22 21:34:28","total_prepared":2,"total_requested":2}
{"host_id":1,"level":"debug","msg":"更新主机 ping 状态成功","status":"offline","time":"2025-07-22 21:34:30"}
{"host_id":2,"level":"debug","msg":"更新主机 ping 状态成功","status":"online","time":"2025-07-22 21:34:30"}
{"consumer_id":0,"level":"info","msg":"任务执行成功","source":"api","task_id":"611c7fb0-c739-4c77-84b7-5f86063243c2","task_type":"ping","tenant_id":1,"tenant_name":"默认租户","time":"2025-07-22 21:34:30","user_id":1,"username":"admin","worker_id":"test-worker-001"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-22 21:36:12"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-22 21:38:12"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-22 21:40:12"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-22 21:42:12"}
{"consumer_id":0,"level":"info","msg":"开始处理任务","source":"api","task_id":"42618651-48d7-4ab9-9e10-01fa72d4977f","task_type":"ping","tenant_id":1,"tenant_name":"默认租户","time":"2025-07-22 21:42:19","user_id":1,"username":"admin","worker_id":"test-worker-001"}
{"count":2,"host_ids":[2,1],"level":"debug","msg":"开始查询主机信息","tenant_id":1,"time":"2025-07-22 21:42:19"}
{"credential_type":"password","host_id":1,"host_ip":"adassad","host_name":"","level":"debug","msg":"准备主机连接信息","time":"2025-07-22 21:42:19"}
{"credential_type":"password","host_id":2,"host_ip":"127.0.0.1","host_name":"","level":"debug","msg":"准备主机连接信息","time":"2025-07-22 21:42:19"}
{"level":"debug","msg":"主机信息准备完成","time":"2025-07-22 21:42:19","total_prepared":2,"total_requested":2}
{"host_id":1,"level":"debug","msg":"更新主机 ping 状态成功","status":"offline","time":"2025-07-22 21:42:22"}
{"host_id":2,"level":"debug","msg":"更新主机 ping 状态成功","status":"online","time":"2025-07-22 21:42:22"}
{"consumer_id":0,"level":"info","msg":"任务执行成功","source":"api","task_id":"42618651-48d7-4ab9-9e10-01fa72d4977f","task_type":"ping","tenant_id":1,"tenant_name":"默认租户","time":"2025-07-22 21:42:22","user_id":1,"username":"admin","worker_id":"test-worker-001"}
{"consumer_id":1,"level":"info","msg":"开始处理任务","source":"api","task_id":"17181efb-ee95-47b4-859f-ed5fb452c35d","task_type":"ping","tenant_id":1,"tenant_name":"默认租户","time":"2025-07-22 21:42:25","user_id":1,"username":"admin","worker_id":"test-worker-001"}
{"count":2,"host_ids":[2,1],"level":"debug","msg":"开始查询主机信息","tenant_id":1,"time":"2025-07-22 21:42:25"}
{"credential_type":"password","host_id":1,"host_ip":"adassad","host_name":"","level":"debug","msg":"准备主机连接信息","time":"2025-07-22 21:42:25"}
{"credential_type":"password","host_id":2,"host_ip":"127.0.0.1","host_name":"","level":"debug","msg":"准备主机连接信息","time":"2025-07-22 21:42:25"}
{"level":"debug","msg":"主机信息准备完成","time":"2025-07-22 21:42:25","total_prepared":2,"total_requested":2}
{"host_id":2,"level":"debug","msg":"更新主机 ping 状态成功","status":"online","time":"2025-07-22 21:42:28"}
{"host_id":1,"level":"debug","msg":"更新主机 ping 状态成功","status":"offline","time":"2025-07-22 21:42:28"}
{"consumer_id":1,"level":"info","msg":"任务执行成功","source":"api","task_id":"17181efb-ee95-47b4-859f-ed5fb452c35d","task_type":"ping","tenant_id":1,"tenant_name":"默认租户","time":"2025-07-22 21:42:28","user_id":1,"username":"admin","worker_id":"test-worker-001"}
{"level":"info","msg":"收到退出信号，正在停止Worker...","time":"2025-07-22 21:42:41"}
{"level":"info","msg":"开始停止Worker","time":"2025-07-22 21:42:41"}
{"consumer_id":0,"level":"info","msg":"任务消费者收到退出信号","time":"2025-07-22 21:42:42","worker_id":"test-worker-001"}
{"consumer_id":1,"level":"info","msg":"任务消费者收到退出信号","time":"2025-07-22 21:42:48","worker_id":"test-worker-001"}
{"level":"info","msg":"所有任务已完成","time":"2025-07-22 21:42:48"}
{"level":"info","msg":"Worker已停止","time":"2025-07-22 21:42:48"}
{"level":"info","msg":"Worker已优雅停止","time":"2025-07-22 21:42:48"}
{"level":"info","master_url":"http://localhost:8080","msg":"启动AHOP Worker","time":"2025-07-22 21:44:09","version":"1.0.0","worker_name":"AHOP Worker on development"}
{"level":"info","msg":"使用配置的worker_id","time":"2025-07-22 21:44:09","worker_id":"test-worker-001"}
{"level":"info","master_url":"http://localhost:8080","msg":"Worker认证成功，获得数据库和Redis凭据","time":"2025-07-22 21:44:09","worker_id":"test-worker-001"}
{"executors":2,"level":"info","msg":"已注册任务执行器","time":"2025-07-22 21:44:09"}
{"concurrency":2,"level":"info","msg":"Worker启动成功","time":"2025-07-22 21:44:09","worker_id":"test-worker-001"}
{"consumer_id":0,"level":"info","msg":"任务消费者启动","time":"2025-07-22 21:44:09","worker_id":"test-worker-001"}
{"level":"info","msg":"Worker启动成功，正在等待任务...","time":"2025-07-22 21:44:09"}
{"consumer_id":1,"level":"info","msg":"任务消费者启动","time":"2025-07-22 21:44:09","worker_id":"test-worker-001"}
{"consumer_id":1,"level":"info","msg":"开始处理任务","source":"api","task_id":"3e9edff5-5487-4402-a000-481931dd5080","task_type":"ping","tenant_id":1,"tenant_name":"默认租户","time":"2025-07-22 21:44:24","user_id":1,"username":"admin","worker_id":"test-worker-001"}
{"count":2,"host_ids":[2,1],"level":"debug","msg":"开始查询主机信息","tenant_id":1,"time":"2025-07-22 21:44:24"}
{"credential_type":"password","host_id":2,"host_ip":"127.0.0.1","host_name":"","level":"debug","msg":"准备主机连接信息","time":"2025-07-22 21:44:24"}
{"credential_type":"password","host_id":1,"host_ip":"adassad","host_name":"","level":"debug","msg":"准备主机连接信息","time":"2025-07-22 21:44:24"}
{"level":"debug","msg":"主机信息准备完成","time":"2025-07-22 21:44:24","total_prepared":2,"total_requested":2}
{"host_id":2,"level":"debug","msg":"更新主机 ping 状态成功","status":"online","time":"2025-07-22 21:44:26"}
{"host_id":1,"level":"debug","msg":"更新主机 ping 状态成功","status":"offline","time":"2025-07-22 21:44:26"}
{"consumer_id":1,"level":"info","msg":"任务执行成功","source":"api","task_id":"3e9edff5-5487-4402-a000-481931dd5080","task_type":"ping","tenant_id":1,"tenant_name":"默认租户","time":"2025-07-22 21:44:26","user_id":1,"username":"admin","worker_id":"test-worker-001"}
{"consumer_id":1,"level":"info","msg":"开始处理任务","source":"api","task_id":"f740ed42-accc-468b-858f-a58dfafef334","task_type":"ping","tenant_id":1,"tenant_name":"默认租户","time":"2025-07-22 21:44:40","user_id":1,"username":"admin","worker_id":"test-worker-001"}
{"count":2,"host_ids":[2,1],"level":"debug","msg":"开始查询主机信息","tenant_id":1,"time":"2025-07-22 21:44:40"}
{"credential_type":"password","host_id":2,"host_ip":"127.0.0.1","host_name":"","level":"debug","msg":"准备主机连接信息","time":"2025-07-22 21:44:40"}
{"credential_type":"password","host_id":1,"host_ip":"adassad","host_name":"","level":"debug","msg":"准备主机连接信息","time":"2025-07-22 21:44:40"}
{"level":"debug","msg":"主机信息准备完成","time":"2025-07-22 21:44:40","total_prepared":2,"total_requested":2}
{"host_id":2,"level":"debug","msg":"更新主机 ping 状态成功","status":"online","time":"2025-07-22 21:44:43"}
{"host_id":1,"level":"debug","msg":"更新主机 ping 状态成功","status":"offline","time":"2025-07-22 21:44:43"}
{"consumer_id":1,"level":"info","msg":"任务执行成功","source":"api","task_id":"f740ed42-accc-468b-858f-a58dfafef334","task_type":"ping","tenant_id":1,"tenant_name":"默认租户","time":"2025-07-22 21:44:43","user_id":1,"username":"admin","worker_id":"test-worker-001"}
{"level":"info","msg":"收到退出信号，正在停止Worker...","time":"2025-07-22 21:45:16"}
{"level":"info","msg":"开始停止Worker","time":"2025-07-22 21:45:16"}
{"consumer_id":0,"level":"info","msg":"任务消费者收到退出信号","time":"2025-07-22 21:45:20","worker_id":"test-worker-001"}
{"consumer_id":1,"level":"info","msg":"任务消费者收到退出信号","time":"2025-07-22 21:45:23","worker_id":"test-worker-001"}
{"level":"info","msg":"所有任务已完成","time":"2025-07-22 21:45:23"}
{"level":"info","msg":"Worker已停止","time":"2025-07-22 21:45:23"}
{"level":"info","msg":"Worker已优雅停止","time":"2025-07-22 21:45:23"}
{"level":"info","master_url":"http://localhost:8080","msg":"启动AHOP Worker","time":"2025-07-22 21:45:27","version":"1.0.0","worker_name":"AHOP Worker on development"}
{"level":"info","msg":"使用配置的worker_id","time":"2025-07-22 21:45:27","worker_id":"test-worker-001"}
{"level":"info","master_url":"http://localhost:8080","msg":"Worker认证成功，获得数据库和Redis凭据","time":"2025-07-22 21:45:27","worker_id":"test-worker-001"}
{"executors":2,"level":"info","msg":"已注册任务执行器","time":"2025-07-22 21:45:27"}
{"concurrency":2,"level":"info","msg":"Worker启动成功","time":"2025-07-22 21:45:27","worker_id":"test-worker-001"}
{"level":"info","msg":"Worker启动成功，正在等待任务...","time":"2025-07-22 21:45:27"}
{"consumer_id":1,"level":"info","msg":"任务消费者启动","time":"2025-07-22 21:45:27","worker_id":"test-worker-001"}
{"consumer_id":0,"level":"info","msg":"任务消费者启动","time":"2025-07-22 21:45:27","worker_id":"test-worker-001"}
{"consumer_id":0,"level":"info","msg":"开始处理任务","source":"api","task_id":"e9136cdb-12b3-4c08-869c-672d42f6f6f0","task_type":"ping","tenant_id":1,"tenant_name":"默认租户","time":"2025-07-22 21:46:12","user_id":1,"username":"admin","worker_id":"test-worker-001"}
{"count":2,"host_ids":[2,1],"level":"debug","msg":"开始查询主机信息","tenant_id":1,"time":"2025-07-22 21:46:12"}
{"credential_type":"password","host_id":2,"host_ip":"127.0.0.1","host_name":"","level":"debug","msg":"准备主机连接信息","time":"2025-07-22 21:46:12"}
{"credential_type":"password","host_id":1,"host_ip":"adassad","host_name":"","level":"debug","msg":"准备主机连接信息","time":"2025-07-22 21:46:12"}
{"level":"debug","msg":"主机信息准备完成","time":"2025-07-22 21:46:12","total_prepared":2,"total_requested":2}
{"host_id":2,"level":"debug","msg":"更新主机 ping 状态成功","status":"online","time":"2025-07-22 21:46:14"}
{"host_id":1,"level":"debug","msg":"更新主机 ping 状态成功","status":"offline","time":"2025-07-22 21:46:14"}
{"consumer_id":0,"level":"info","msg":"任务执行成功","source":"api","task_id":"e9136cdb-12b3-4c08-869c-672d42f6f6f0","task_type":"ping","tenant_id":1,"tenant_name":"默认租户","time":"2025-07-22 21:46:14","user_id":1,"username":"admin","worker_id":"test-worker-001"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-22 21:47:27"}
{"consumer_id":0,"level":"info","msg":"开始处理任务","source":"api","task_id":"25f92191-1f17-4764-98b5-38dd7afc4905","task_type":"ping","tenant_id":1,"tenant_name":"默认租户","time":"2025-07-22 21:47:40","user_id":1,"username":"admin","worker_id":"test-worker-001"}
{"count":2,"host_ids":[2,1],"level":"debug","msg":"开始查询主机信息","tenant_id":1,"time":"2025-07-22 21:47:40"}
{"credential_type":"password","host_id":2,"host_ip":"127.0.0.1","host_name":"","level":"debug","msg":"准备主机连接信息","time":"2025-07-22 21:47:40"}
{"credential_type":"password","host_id":1,"host_ip":"adassad","host_name":"","level":"debug","msg":"准备主机连接信息","time":"2025-07-22 21:47:40"}
{"level":"debug","msg":"主机信息准备完成","time":"2025-07-22 21:47:40","total_prepared":2,"total_requested":2}
{"host_id":2,"level":"debug","msg":"更新主机 ping 状态成功","status":"online","time":"2025-07-22 21:47:42"}
{"host_id":1,"level":"debug","msg":"更新主机 ping 状态成功","status":"offline","time":"2025-07-22 21:47:42"}
{"consumer_id":0,"level":"info","msg":"任务执行成功","source":"api","task_id":"25f92191-1f17-4764-98b5-38dd7afc4905","task_type":"ping","tenant_id":1,"tenant_name":"默认租户","time":"2025-07-22 21:47:42","user_id":1,"username":"admin","worker_id":"test-worker-001"}
{"level":"info","msg":"收到退出信号，正在停止Worker...","time":"2025-07-22 21:48:09"}
{"level":"info","msg":"开始停止Worker","time":"2025-07-22 21:48:09"}
{"consumer_id":1,"level":"info","msg":"任务消费者收到退出信号","time":"2025-07-22 21:48:09","worker_id":"test-worker-001"}
{"consumer_id":0,"level":"info","msg":"任务消费者收到退出信号","time":"2025-07-22 21:48:12","worker_id":"test-worker-001"}
{"level":"info","msg":"所有任务已完成","time":"2025-07-22 21:48:12"}
{"level":"info","msg":"Worker已停止","time":"2025-07-22 21:48:12"}
{"level":"info","msg":"Worker已优雅停止","time":"2025-07-22 21:48:12"}
{"level":"info","master_url":"http://localhost:8080","msg":"启动AHOP Worker","time":"2025-07-22 21:48:19","version":"1.0.0","worker_name":"AHOP Worker on development"}
{"level":"info","msg":"使用配置的worker_id","time":"2025-07-22 21:48:19","worker_id":"test-worker-001"}
{"level":"info","master_url":"http://localhost:8080","msg":"Worker认证成功，获得数据库和Redis凭据","time":"2025-07-22 21:48:19","worker_id":"test-worker-001"}
{"executors":2,"level":"info","msg":"已注册任务执行器","time":"2025-07-22 21:48:19"}
{"concurrency":2,"level":"info","msg":"Worker启动成功","time":"2025-07-22 21:48:19","worker_id":"test-worker-001"}
{"level":"info","msg":"Worker启动成功，正在等待任务...","time":"2025-07-22 21:48:19"}
{"consumer_id":1,"level":"info","msg":"任务消费者启动","time":"2025-07-22 21:48:19","worker_id":"test-worker-001"}
{"consumer_id":0,"level":"info","msg":"任务消费者启动","time":"2025-07-22 21:48:19","worker_id":"test-worker-001"}
{"consumer_id":0,"level":"info","msg":"开始处理任务","source":"api","task_id":"2a0426ff-9970-4054-a3a5-227b7113e805","task_type":"ping","tenant_id":1,"tenant_name":"默认租户","time":"2025-07-22 21:48:23","user_id":1,"username":"admin","worker_id":"test-worker-001"}
{"count":2,"host_ids":[2,1],"level":"debug","msg":"开始查询主机信息","tenant_id":1,"time":"2025-07-22 21:48:23"}
{"credential_type":"password","host_id":2,"host_ip":"127.0.0.1","host_name":"","level":"debug","msg":"准备主机连接信息","time":"2025-07-22 21:48:23"}
{"credential_type":"password","host_id":1,"host_ip":"adassad","host_name":"","level":"debug","msg":"准备主机连接信息","time":"2025-07-22 21:48:23"}
{"level":"debug","msg":"主机信息准备完成","time":"2025-07-22 21:48:23","total_prepared":2,"total_requested":2}
{"host_id":2,"level":"debug","msg":"更新主机 ping 状态成功","status":"online","time":"2025-07-22 21:48:26"}
{"host_id":1,"level":"debug","msg":"更新主机 ping 状态成功","status":"offline","time":"2025-07-22 21:48:26"}
{"consumer_id":0,"level":"info","msg":"任务执行成功","source":"api","task_id":"2a0426ff-9970-4054-a3a5-227b7113e805","task_type":"ping","tenant_id":1,"tenant_name":"默认租户","time":"2025-07-22 21:48:26","user_id":1,"username":"admin","worker_id":"test-worker-001"}
{"consumer_id":0,"level":"info","msg":"开始处理任务","source":"api","task_id":"103150ce-5cd0-4620-a74c-2e4deaf4c7bf","task_type":"collect","tenant_id":1,"tenant_name":"默认租户","time":"2025-07-22 21:48:40","user_id":1,"username":"admin","worker_id":"test-worker-001"}
{"count":2,"host_ids":[2,1],"level":"debug","msg":"开始查询主机信息","tenant_id":1,"time":"2025-07-22 21:48:40"}
{"credential_type":"password","host_id":2,"host_ip":"127.0.0.1","host_name":"","level":"debug","msg":"准备主机连接信息","time":"2025-07-22 21:48:40"}
{"credential_type":"password","host_id":1,"host_ip":"adassad","host_name":"","level":"debug","msg":"准备主机连接信息","time":"2025-07-22 21:48:40"}
{"level":"debug","msg":"主机信息准备完成","time":"2025-07-22 21:48:40","total_prepared":2,"total_requested":2}
{"host_id":1,"level":"warning","msg":"主机信息收集失败，跳过更新","time":"2025-07-22 21:48:48"}
{"host_id":2,"level":"debug","msg":"ansible_facts 字段数量: 2","time":"2025-07-22 21:48:48"}
{"host_id":2,"level":"debug","msg":"没有找到挂载点信息","time":"2025-07-22 21:48:48"}
{"host_id":2,"level":"debug","msg":"没有找到网络接口信息","time":"2025-07-22 21:48:48"}
{"host_id":2,"level":"info","msg":"更新主机系统信息成功","time":"2025-07-22 21:48:48"}
{"consumer_id":0,"level":"info","msg":"任务执行成功","source":"api","task_id":"103150ce-5cd0-4620-a74c-2e4deaf4c7bf","task_type":"collect","tenant_id":1,"tenant_name":"默认租户","time":"2025-07-22 21:48:48","user_id":1,"username":"admin","worker_id":"test-worker-001"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-22 21:50:19"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-22 21:52:19"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-22 21:54:19"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-22 21:56:19"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-22 21:58:19"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-22 22:00:19"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-22 22:02:19"}
{"level":"info","msg":"收到退出信号，正在停止Worker...","time":"2025-07-22 22:04:00"}
{"level":"info","msg":"开始停止Worker","time":"2025-07-22 22:04:00"}
{"consumer_id":1,"level":"info","msg":"任务消费者收到退出信号","time":"2025-07-22 22:04:00","worker_id":"test-worker-001"}
{"consumer_id":0,"level":"info","msg":"任务消费者收到退出信号","time":"2025-07-22 22:04:08","worker_id":"test-worker-001"}
{"level":"info","msg":"所有任务已完成","time":"2025-07-22 22:04:08"}
{"level":"info","msg":"Worker已停止","time":"2025-07-22 22:04:08"}
{"level":"info","msg":"Worker已优雅停止","time":"2025-07-22 22:04:08"}
{"level":"info","master_url":"http://localhost:8080","msg":"启动AHOP Worker","time":"2025-07-22 22:04:10","version":"1.0.0","worker_name":"AHOP Worker on development"}
{"level":"info","msg":"使用配置的worker_id","time":"2025-07-22 22:04:10","worker_id":"test-worker-001"}
{"level":"info","master_url":"http://localhost:8080","msg":"Worker认证成功，获得数据库和Redis凭据","time":"2025-07-22 22:04:10","worker_id":"test-worker-001"}
{"executors":2,"level":"info","msg":"已注册任务执行器","time":"2025-07-22 22:04:10"}
{"concurrency":2,"level":"info","msg":"Worker启动成功","time":"2025-07-22 22:04:10","worker_id":"test-worker-001"}
{"consumer_id":0,"level":"info","msg":"任务消费者启动","time":"2025-07-22 22:04:10","worker_id":"test-worker-001"}
{"level":"info","msg":"Worker启动成功，正在等待任务...","time":"2025-07-22 22:04:10"}
{"consumer_id":1,"level":"info","msg":"任务消费者启动","time":"2025-07-22 22:04:10","worker_id":"test-worker-001"}
{"level":"info","msg":"收到退出信号，正在停止Worker...","time":"2025-07-22 22:04:11"}
{"level":"info","msg":"开始停止Worker","time":"2025-07-22 22:04:11"}
{"consumer_id":0,"level":"info","msg":"任务消费者收到退出信号","time":"2025-07-22 22:04:20","worker_id":"test-worker-001"}
{"consumer_id":1,"level":"info","msg":"任务消费者收到退出信号","time":"2025-07-22 22:04:20","worker_id":"test-worker-001"}
{"level":"info","msg":"所有任务已完成","time":"2025-07-22 22:04:20"}
{"level":"info","msg":"Worker已停止","time":"2025-07-22 22:04:20"}
{"level":"info","msg":"Worker已优雅停止","time":"2025-07-22 22:04:20"}
{"level":"info","master_url":"http://localhost:8080","msg":"启动AHOP Worker","time":"2025-07-22 22:04:39","version":"1.0.0","worker_name":"AHOP Worker on development"}
{"level":"info","msg":"使用配置的worker_id","time":"2025-07-22 22:04:39","worker_id":"test-worker-001"}
{"level":"info","master_url":"http://localhost:8080","msg":"Worker认证成功，获得数据库和Redis凭据","time":"2025-07-22 22:04:39","worker_id":"test-worker-001"}
{"executors":2,"level":"info","msg":"已注册任务执行器","time":"2025-07-22 22:04:39"}
{"concurrency":2,"level":"info","msg":"Worker启动成功","time":"2025-07-22 22:04:39","worker_id":"test-worker-001"}
{"level":"info","msg":"Worker启动成功，正在等待任务...","time":"2025-07-22 22:04:39"}
{"consumer_id":0,"level":"info","msg":"任务消费者启动","time":"2025-07-22 22:04:39","worker_id":"test-worker-001"}
{"consumer_id":1,"level":"info","msg":"任务消费者启动","time":"2025-07-22 22:04:39","worker_id":"test-worker-001"}
{"consumer_id":1,"level":"info","msg":"开始处理任务","source":"api","task_id":"4847dbc2-0d7e-4e8b-a983-25991bf1379d","task_type":"collect","tenant_id":1,"tenant_name":"默认租户","time":"2025-07-22 22:04:53","user_id":1,"username":"admin","worker_id":"test-worker-001"}
{"count":2,"host_ids":[2,1],"level":"debug","msg":"开始查询主机信息","tenant_id":1,"time":"2025-07-22 22:04:53"}
{"credential_type":"password","host_id":1,"host_ip":"adassad","host_name":"","level":"debug","msg":"准备主机连接信息","time":"2025-07-22 22:04:53"}
{"credential_type":"password","host_id":2,"host_ip":"127.0.0.1","host_name":"","level":"debug","msg":"准备主机连接信息","time":"2025-07-22 22:04:53"}
{"level":"debug","msg":"主机信息准备完成","time":"2025-07-22 22:04:53","total_prepared":2,"total_requested":2}
{"host_id":1,"level":"warning","msg":"主机信息收集失败，跳过更新","time":"2025-07-22 22:05:01"}
{"host_id":2,"level":"debug","msg":"ansible_facts 字段数量: 2","time":"2025-07-22 22:05:01"}
{"host_id":2,"level":"debug","msg":"没有找到挂载点信息","time":"2025-07-22 22:05:01"}
{"host_id":2,"level":"debug","msg":"没有找到网络接口信息","time":"2025-07-22 22:05:01"}
{"host_id":2,"level":"info","msg":"更新主机系统信息成功","time":"2025-07-22 22:05:01"}
{"consumer_id":1,"level":"info","msg":"任务执行成功","source":"api","task_id":"4847dbc2-0d7e-4e8b-a983-25991bf1379d","task_type":"collect","tenant_id":1,"tenant_name":"默认租户","time":"2025-07-22 22:05:01","user_id":1,"username":"admin","worker_id":"test-worker-001"}
{"consumer_id":0,"level":"info","msg":"开始处理任务","source":"api","task_id":"86280179-1555-4980-b325-b611a3640e6e","task_type":"ping","tenant_id":1,"tenant_name":"默认租户","time":"2025-07-22 22:05:33","user_id":1,"username":"admin","worker_id":"test-worker-001"}
{"count":2,"host_ids":[2,1],"level":"debug","msg":"开始查询主机信息","tenant_id":1,"time":"2025-07-22 22:05:34"}
{"credential_type":"password","host_id":1,"host_ip":"adassad","host_name":"","level":"debug","msg":"准备主机连接信息","time":"2025-07-22 22:05:34"}
{"credential_type":"password","host_id":2,"host_ip":"127.0.0.1","host_name":"","level":"debug","msg":"准备主机连接信息","time":"2025-07-22 22:05:34"}
{"level":"debug","msg":"主机信息准备完成","time":"2025-07-22 22:05:34","total_prepared":2,"total_requested":2}
{"host_id":1,"level":"debug","msg":"更新主机 ping 状态成功","status":"offline","time":"2025-07-22 22:05:36"}
{"host_id":2,"level":"debug","msg":"更新主机 ping 状态成功","status":"online","time":"2025-07-22 22:05:36"}
{"consumer_id":0,"level":"info","msg":"任务执行成功","source":"api","task_id":"86280179-1555-4980-b325-b611a3640e6e","task_type":"ping","tenant_id":1,"tenant_name":"默认租户","time":"2025-07-22 22:05:36","user_id":1,"username":"admin","worker_id":"test-worker-001"}
{"level":"info","msg":"收到退出信号，正在停止Worker...","time":"2025-07-22 22:05:51"}
{"level":"info","msg":"开始停止Worker","time":"2025-07-22 22:05:51"}
{"consumer_id":1,"level":"info","msg":"任务消费者收到退出信号","time":"2025-07-22 22:05:52","worker_id":"test-worker-001"}
{"consumer_id":0,"level":"info","msg":"任务消费者收到退出信号","time":"2025-07-22 22:05:56","worker_id":"test-worker-001"}
{"level":"info","msg":"所有任务已完成","time":"2025-07-22 22:05:56"}
{"level":"info","msg":"Worker已停止","time":"2025-07-22 22:05:56"}
{"level":"info","msg":"Worker已优雅停止","time":"2025-07-22 22:05:56"}
{"level":"info","master_url":"http://localhost:8080","msg":"启动AHOP Worker","time":"2025-07-22 22:06:07","version":"1.0.0","worker_name":"AHOP Worker on development"}
{"level":"info","msg":"使用配置的worker_id","time":"2025-07-22 22:06:07","worker_id":"test-worker-001"}
{"level":"info","master_url":"http://localhost:8080","msg":"Worker认证成功，获得数据库和Redis凭据","time":"2025-07-22 22:06:07","worker_id":"test-worker-001"}
{"executors":2,"level":"info","msg":"已注册任务执行器","time":"2025-07-22 22:06:07"}
{"concurrency":2,"level":"info","msg":"Worker启动成功","time":"2025-07-22 22:06:07","worker_id":"test-worker-001"}
{"consumer_id":0,"level":"info","msg":"任务消费者启动","time":"2025-07-22 22:06:07","worker_id":"test-worker-001"}
{"level":"info","msg":"Worker启动成功，正在等待任务...","time":"2025-07-22 22:06:07"}
{"consumer_id":1,"level":"info","msg":"任务消费者启动","time":"2025-07-22 22:06:07","worker_id":"test-worker-001"}
{"consumer_id":1,"level":"info","msg":"开始处理任务","source":"api","task_id":"0f6fb7b4-cfea-49f8-b475-1766827f72ce","task_type":"collect","tenant_id":1,"tenant_name":"默认租户","time":"2025-07-22 22:06:52","user_id":1,"username":"admin","worker_id":"test-worker-001"}
{"count":2,"host_ids":[2,1],"level":"debug","msg":"开始查询主机信息","tenant_id":1,"time":"2025-07-22 22:06:52"}
{"credential_type":"password","host_id":1,"host_ip":"adassad","host_name":"","level":"debug","msg":"准备主机连接信息","time":"2025-07-22 22:06:52"}
{"credential_type":"password","host_id":2,"host_ip":"127.0.0.1","host_name":"","level":"debug","msg":"准备主机连接信息","time":"2025-07-22 22:06:52"}
{"level":"debug","msg":"主机信息准备完成","time":"2025-07-22 22:06:52","total_prepared":2,"total_requested":2}
{"host_id":2,"level":"debug","msg":"ansible_facts 字段数量: 2","time":"2025-07-22 22:06:59"}
{"host_id":2,"level":"debug","msg":"没有找到挂载点信息","time":"2025-07-22 22:06:59"}
{"host_id":2,"level":"debug","msg":"没有找到网络接口信息","time":"2025-07-22 22:06:59"}
{"host_id":2,"level":"info","msg":"更新主机系统信息成功","time":"2025-07-22 22:06:59"}
{"host_id":1,"level":"warning","msg":"主机信息收集失败，跳过更新","time":"2025-07-22 22:06:59"}
{"consumer_id":1,"level":"info","msg":"任务执行成功","source":"api","task_id":"0f6fb7b4-cfea-49f8-b475-1766827f72ce","task_type":"collect","tenant_id":1,"tenant_name":"默认租户","time":"2025-07-22 22:06:59","user_id":1,"username":"admin","worker_id":"test-worker-001"}
{"level":"info","msg":"收到退出信号，正在停止Worker...","time":"2025-07-22 22:07:27"}
{"level":"info","msg":"开始停止Worker","time":"2025-07-22 22:07:27"}
{"consumer_id":0,"level":"info","msg":"任务消费者收到退出信号","time":"2025-07-22 22:07:28","worker_id":"test-worker-001"}
{"consumer_id":1,"level":"info","msg":"任务消费者收到退出信号","time":"2025-07-22 22:07:29","worker_id":"test-worker-001"}
{"level":"info","msg":"所有任务已完成","time":"2025-07-22 22:07:29"}
{"level":"info","msg":"Worker已停止","time":"2025-07-22 22:07:29"}
{"level":"info","msg":"Worker已优雅停止","time":"2025-07-22 22:07:29"}
{"level":"info","master_url":"http://localhost:8080","msg":"启动AHOP Worker","time":"2025-07-22 22:07:33","version":"1.0.0","worker_name":"AHOP Worker on development"}
{"level":"info","msg":"使用配置的worker_id","time":"2025-07-22 22:07:33","worker_id":"test-worker-001"}
{"level":"info","master_url":"http://localhost:8080","msg":"Worker认证成功，获得数据库和Redis凭据","time":"2025-07-22 22:07:33","worker_id":"test-worker-001"}
{"executors":2,"level":"info","msg":"已注册任务执行器","time":"2025-07-22 22:07:33"}
{"concurrency":2,"level":"info","msg":"Worker启动成功","time":"2025-07-22 22:07:33","worker_id":"test-worker-001"}
{"consumer_id":0,"level":"info","msg":"任务消费者启动","time":"2025-07-22 22:07:33","worker_id":"test-worker-001"}
{"level":"info","msg":"Worker启动成功，正在等待任务...","time":"2025-07-22 22:07:33"}
{"consumer_id":1,"level":"info","msg":"任务消费者启动","time":"2025-07-22 22:07:33","worker_id":"test-worker-001"}
{"consumer_id":0,"level":"info","msg":"开始处理任务","source":"api","task_id":"0f9ef73e-303e-44a9-a7a0-49da2d70e842","task_type":"collect","tenant_id":1,"tenant_name":"默认租户","time":"2025-07-22 22:07:37","user_id":1,"username":"admin","worker_id":"test-worker-001"}
{"count":2,"host_ids":[2,1],"level":"debug","msg":"开始查询主机信息","tenant_id":1,"time":"2025-07-22 22:07:37"}
{"credential_type":"password","host_id":1,"host_ip":"adassad","host_name":"","level":"debug","msg":"准备主机连接信息","time":"2025-07-22 22:07:37"}
{"credential_type":"password","host_id":2,"host_ip":"127.0.0.1","host_name":"","level":"debug","msg":"准备主机连接信息","time":"2025-07-22 22:07:37"}
{"level":"debug","msg":"主机信息准备完成","time":"2025-07-22 22:07:37","total_prepared":2,"total_requested":2}
{"host_id":1,"level":"warning","msg":"主机信息收集失败，跳过更新","time":"2025-07-22 22:07:45"}
{"host_id":2,"level":"debug","msg":"ansible_facts 字段数量: 2","time":"2025-07-22 22:07:45"}
{"host_id":2,"level":"debug","msg":"没有找到挂载点信息","time":"2025-07-22 22:07:45"}
{"host_id":2,"level":"debug","msg":"没有找到网络接口信息","time":"2025-07-22 22:07:45"}
{"host_id":2,"level":"info","msg":"更新主机系统信息成功","time":"2025-07-22 22:07:45"}
{"consumer_id":0,"level":"info","msg":"任务执行成功","source":"api","task_id":"0f9ef73e-303e-44a9-a7a0-49da2d70e842","task_type":"collect","tenant_id":1,"tenant_name":"默认租户","time":"2025-07-22 22:07:45","user_id":1,"username":"admin","worker_id":"test-worker-001"}
{"consumer_id":1,"level":"info","msg":"开始处理任务","source":"api","task_id":"31b37a23-908f-4821-91a9-c1252b5ae471","task_type":"collect","tenant_id":1,"tenant_name":"默认租户","time":"2025-07-22 22:08:38","user_id":1,"username":"admin","worker_id":"test-worker-001"}
{"count":2,"host_ids":[2,1],"level":"debug","msg":"开始查询主机信息","tenant_id":1,"time":"2025-07-22 22:08:38"}
{"credential_type":"password","host_id":1,"host_ip":"adassad","host_name":"","level":"debug","msg":"准备主机连接信息","time":"2025-07-22 22:08:38"}
{"credential_type":"password","host_id":2,"host_ip":"127.0.0.1","host_name":"","level":"debug","msg":"准备主机连接信息","time":"2025-07-22 22:08:38"}
{"level":"debug","msg":"主机信息准备完成","time":"2025-07-22 22:08:38","total_prepared":2,"total_requested":2}
{"host_id":1,"level":"warning","msg":"主机信息收集失败，跳过更新","time":"2025-07-22 22:08:46"}
{"host_id":2,"level":"debug","msg":"ansible_facts 字段数量: 2","time":"2025-07-22 22:08:46"}
{"host_id":2,"level":"debug","msg":"没有找到挂载点信息","time":"2025-07-22 22:08:46"}
{"host_id":2,"level":"debug","msg":"没有找到网络接口信息","time":"2025-07-22 22:08:46"}
{"host_id":2,"level":"info","msg":"更新主机系统信息成功","time":"2025-07-22 22:08:46"}
{"consumer_id":1,"level":"info","msg":"任务执行成功","source":"api","task_id":"31b37a23-908f-4821-91a9-c1252b5ae471","task_type":"collect","tenant_id":1,"tenant_name":"默认租户","time":"2025-07-22 22:08:46","user_id":1,"username":"admin","worker_id":"test-worker-001"}
{"level":"info","msg":"收到退出信号，正在停止Worker...","time":"2025-07-22 22:09:20"}
{"level":"info","msg":"开始停止Worker","time":"2025-07-22 22:09:20"}
{"consumer_id":0,"level":"info","msg":"任务消费者收到退出信号","time":"2025-07-22 22:09:26","worker_id":"test-worker-001"}
{"consumer_id":1,"level":"info","msg":"任务消费者收到退出信号","time":"2025-07-22 22:09:27","worker_id":"test-worker-001"}
{"level":"info","msg":"所有任务已完成","time":"2025-07-22 22:09:27"}
{"level":"info","msg":"Worker已停止","time":"2025-07-22 22:09:27"}
{"level":"info","msg":"Worker已优雅停止","time":"2025-07-22 22:09:27"}
{"level":"info","master_url":"http://localhost:8080","msg":"启动AHOP Worker","time":"2025-07-22 22:10:31","version":"1.0.0","worker_name":"AHOP Worker on development"}
{"level":"info","msg":"使用配置的worker_id","time":"2025-07-22 22:10:31","worker_id":"test-worker-001"}
{"level":"info","master_url":"http://localhost:8080","msg":"Worker认证成功，获得数据库和Redis凭据","time":"2025-07-22 22:10:31","worker_id":"test-worker-001"}
{"executors":2,"level":"info","msg":"已注册任务执行器","time":"2025-07-22 22:10:31"}
{"concurrency":2,"level":"info","msg":"Worker启动成功","time":"2025-07-22 22:10:31","worker_id":"test-worker-001"}
{"level":"info","msg":"Worker启动成功，正在等待任务...","time":"2025-07-22 22:10:31"}
{"consumer_id":1,"level":"info","msg":"任务消费者启动","time":"2025-07-22 22:10:31","worker_id":"test-worker-001"}
{"consumer_id":0,"level":"info","msg":"任务消费者启动","time":"2025-07-22 22:10:31","worker_id":"test-worker-001"}
{"consumer_id":1,"level":"info","msg":"开始处理任务","source":"api","task_id":"b703b71e-e332-4110-9f4d-fbc9a44fb8d9","task_type":"collect","tenant_id":1,"tenant_name":"默认租户","time":"2025-07-22 22:11:26","user_id":1,"username":"admin","worker_id":"test-worker-001"}
{"count":2,"host_ids":[2,1],"level":"debug","msg":"开始查询主机信息","tenant_id":1,"time":"2025-07-22 22:11:26"}
{"credential_type":"password","host_id":1,"host_ip":"adassad","host_name":"","level":"debug","msg":"准备主机连接信息","time":"2025-07-22 22:11:26"}
{"credential_type":"password","host_id":2,"host_ip":"127.0.0.1","host_name":"","level":"debug","msg":"准备主机连接信息","time":"2025-07-22 22:11:26"}
{"level":"debug","msg":"主机信息准备完成","time":"2025-07-22 22:11:26","total_prepared":2,"total_requested":2}
{"host_id":1,"level":"warning","msg":"主机信息收集失败，跳过更新","time":"2025-07-22 22:11:34"}
{"host_id":2,"level":"debug","msg":"ansible_facts 字段数量: 2","time":"2025-07-22 22:11:34"}
{"host_id":2,"level":"debug","msg":"没有找到挂载点信息","time":"2025-07-22 22:11:34"}
{"host_id":2,"level":"debug","msg":"没有找到网络接口信息","time":"2025-07-22 22:11:34"}
{"host_id":2,"level":"info","msg":"更新主机系统信息成功","time":"2025-07-22 22:11:34"}
{"consumer_id":1,"level":"info","msg":"任务执行成功","source":"api","task_id":"b703b71e-e332-4110-9f4d-fbc9a44fb8d9","task_type":"collect","tenant_id":1,"tenant_name":"默认租户","time":"2025-07-22 22:11:34","user_id":1,"username":"admin","worker_id":"test-worker-001"}
{"level":"info","msg":"收到退出信号，正在停止Worker...","time":"2025-07-22 22:12:29"}
{"level":"info","msg":"开始停止Worker","time":"2025-07-22 22:12:29"}
{"consumer_id":0,"level":"info","msg":"任务消费者收到退出信号","time":"2025-07-22 22:12:32","worker_id":"test-worker-001"}
{"level":"info","master_url":"http://localhost:8080","msg":"启动AHOP Worker","time":"2025-07-22 22:12:34","version":"1.0.0","worker_name":"AHOP Worker on development"}
{"level":"info","msg":"使用配置的worker_id","time":"2025-07-22 22:12:34","worker_id":"test-worker-001"}
{"level":"info","master_url":"http://localhost:8080","msg":"Worker认证成功，获得数据库和Redis凭据","time":"2025-07-22 22:12:34","worker_id":"test-worker-001"}
{"executors":2,"level":"info","msg":"已注册任务执行器","time":"2025-07-22 22:12:34"}
{"concurrency":2,"level":"info","msg":"Worker启动成功","time":"2025-07-22 22:12:34","worker_id":"test-worker-001"}
{"level":"info","msg":"Worker启动成功，正在等待任务...","time":"2025-07-22 22:12:34"}
{"consumer_id":0,"level":"info","msg":"任务消费者启动","time":"2025-07-22 22:12:34","worker_id":"test-worker-001"}
{"consumer_id":1,"level":"info","msg":"任务消费者启动","time":"2025-07-22 22:12:34","worker_id":"test-worker-001"}
{"consumer_id":1,"level":"info","msg":"任务消费者收到退出信号","time":"2025-07-22 22:12:34","worker_id":"test-worker-001"}
{"level":"info","msg":"所有任务已完成","time":"2025-07-22 22:12:34"}
{"level":"info","msg":"Worker已停止","time":"2025-07-22 22:12:34"}
{"level":"info","msg":"Worker已优雅停止","time":"2025-07-22 22:12:34"}
{"level":"info","master_url":"http://localhost:8080","msg":"启动AHOP Worker","time":"2025-07-22 22:12:46","version":"1.0.0","worker_name":"AHOP Worker on development"}
{"level":"info","msg":"使用配置的worker_id","time":"2025-07-22 22:12:46","worker_id":"test-worker-001"}
{"level":"info","master_url":"http://localhost:8080","msg":"Worker认证成功，获得数据库和Redis凭据","time":"2025-07-22 22:12:46","worker_id":"test-worker-001"}
{"executors":2,"level":"info","msg":"已注册任务执行器","time":"2025-07-22 22:12:46"}
{"concurrency":2,"level":"info","msg":"Worker启动成功","time":"2025-07-22 22:12:46","worker_id":"test-worker-001"}
{"consumer_id":0,"level":"info","msg":"任务消费者启动","time":"2025-07-22 22:12:46","worker_id":"test-worker-001"}
{"consumer_id":1,"level":"info","msg":"任务消费者启动","time":"2025-07-22 22:12:46","worker_id":"test-worker-001"}
{"level":"info","msg":"Worker启动成功，正在等待任务...","time":"2025-07-22 22:12:46"}
{"consumer_id":1,"level":"info","msg":"开始处理任务","source":"api","task_id":"1cfe5b77-8fbc-4765-beab-2d695b4104ba","task_type":"collect","tenant_id":1,"tenant_name":"默认租户","time":"2025-07-22 22:12:51","user_id":1,"username":"admin","worker_id":"test-worker-001"}
{"count":2,"host_ids":[2,1],"level":"debug","msg":"开始查询主机信息","tenant_id":1,"time":"2025-07-22 22:12:51"}
{"credential_type":"password","host_id":1,"host_ip":"adassad","host_name":"","level":"debug","msg":"准备主机连接信息","time":"2025-07-22 22:12:51"}
{"credential_type":"password","host_id":2,"host_ip":"127.0.0.1","host_name":"","level":"debug","msg":"准备主机连接信息","time":"2025-07-22 22:12:51"}
{"level":"debug","msg":"主机信息准备完成","time":"2025-07-22 22:12:51","total_prepared":2,"total_requested":2}
{"host_id":1,"level":"warning","msg":"主机信息收集失败，跳过更新","time":"2025-07-22 22:12:59"}
{"host_id":2,"level":"debug","msg":"ansible_facts 字段数量: 2","time":"2025-07-22 22:12:59"}
{"host_id":2,"level":"debug","msg":"没有找到挂载点信息","time":"2025-07-22 22:12:59"}
{"host_id":2,"level":"debug","msg":"没有找到网络接口信息","time":"2025-07-22 22:12:59"}
{"host_id":2,"level":"info","msg":"更新主机系统信息成功","time":"2025-07-22 22:12:59"}
{"consumer_id":1,"level":"info","msg":"任务执行成功","source":"api","task_id":"1cfe5b77-8fbc-4765-beab-2d695b4104ba","task_type":"collect","tenant_id":1,"tenant_name":"默认租户","time":"2025-07-22 22:12:59","user_id":1,"username":"admin","worker_id":"test-worker-001"}
{"level":"info","msg":"收到退出信号，正在停止Worker...","time":"2025-07-22 22:13:28"}
{"level":"info","msg":"开始停止Worker","time":"2025-07-22 22:13:28"}
{"consumer_id":1,"level":"info","msg":"任务消费者收到退出信号","time":"2025-07-22 22:13:29","worker_id":"test-worker-001"}
{"consumer_id":0,"level":"info","msg":"任务消费者收到退出信号","time":"2025-07-22 22:13:37","worker_id":"test-worker-001"}
{"level":"info","msg":"所有任务已完成","time":"2025-07-22 22:13:37"}
{"level":"info","msg":"Worker已停止","time":"2025-07-22 22:13:37"}
{"level":"info","msg":"Worker已优雅停止","time":"2025-07-22 22:13:37"}
{"level":"info","master_url":"http://localhost:8080","msg":"启动AHOP Worker","time":"2025-07-22 22:13:38","version":"1.0.0","worker_name":"AHOP Worker on development"}
{"level":"info","msg":"使用配置的worker_id","time":"2025-07-22 22:13:38","worker_id":"test-worker-001"}
{"level":"info","master_url":"http://localhost:8080","msg":"Worker认证成功，获得数据库和Redis凭据","time":"2025-07-22 22:13:38","worker_id":"test-worker-001"}
{"executors":2,"level":"info","msg":"已注册任务执行器","time":"2025-07-22 22:13:38"}
{"concurrency":2,"level":"info","msg":"Worker启动成功","time":"2025-07-22 22:13:38","worker_id":"test-worker-001"}
{"level":"info","msg":"Worker启动成功，正在等待任务...","time":"2025-07-22 22:13:38"}
{"consumer_id":1,"level":"info","msg":"任务消费者启动","time":"2025-07-22 22:13:38","worker_id":"test-worker-001"}
{"consumer_id":0,"level":"info","msg":"任务消费者启动","time":"2025-07-22 22:13:38","worker_id":"test-worker-001"}
{"consumer_id":1,"level":"info","msg":"开始处理任务","source":"api","task_id":"b1da9721-5286-43d7-9b1e-77a0369d764d","task_type":"collect","tenant_id":1,"tenant_name":"默认租户","time":"2025-07-22 22:13:52","user_id":1,"username":"admin","worker_id":"test-worker-001"}
{"count":2,"host_ids":[2,1],"level":"debug","msg":"开始查询主机信息","tenant_id":1,"time":"2025-07-22 22:13:52"}
{"credential_type":"password","host_id":1,"host_ip":"adassad","host_name":"","level":"debug","msg":"准备主机连接信息","time":"2025-07-22 22:13:52"}
{"credential_type":"password","host_id":2,"host_ip":"127.0.0.1","host_name":"","level":"debug","msg":"准备主机连接信息","time":"2025-07-22 22:13:52"}
{"level":"debug","msg":"主机信息准备完成","time":"2025-07-22 22:13:52","total_prepared":2,"total_requested":2}
{"host_id":1,"level":"warning","msg":"主机信息收集失败，跳过更新","time":"2025-07-22 22:13:59"}
{"host_id":2,"level":"debug","msg":"ansible_facts 字段数量: 2","time":"2025-07-22 22:13:59"}
{"host_id":2,"level":"debug","msg":"没有找到挂载点信息","time":"2025-07-22 22:13:59"}
{"host_id":2,"level":"debug","msg":"没有找到网络接口信息","time":"2025-07-22 22:13:59"}
{"host_id":2,"level":"info","msg":"更新主机系统信息成功","time":"2025-07-22 22:13:59"}
{"consumer_id":1,"level":"info","msg":"任务执行成功","source":"api","task_id":"b1da9721-5286-43d7-9b1e-77a0369d764d","task_type":"collect","tenant_id":1,"tenant_name":"默认租户","time":"2025-07-22 22:13:59","user_id":1,"username":"admin","worker_id":"test-worker-001"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-22 22:14:34"}
{"level":"info","msg":"收到退出信号，正在停止Worker...","time":"2025-07-22 22:14:46"}
{"level":"info","msg":"开始停止Worker","time":"2025-07-22 22:14:46"}
{"consumer_id":0,"level":"info","msg":"任务消费者收到退出信号","time":"2025-07-22 22:14:48","worker_id":"test-worker-001"}
{"level":"info","msg":"收到退出信号，正在停止Worker...","time":"2025-07-22 22:14:49"}
{"level":"info","msg":"开始停止Worker","time":"2025-07-22 22:14:49"}
{"consumer_id":1,"level":"info","msg":"任务消费者收到退出信号","time":"2025-07-22 22:14:50","worker_id":"test-worker-001"}
{"level":"info","msg":"所有任务已完成","time":"2025-07-22 22:14:50"}
{"level":"info","msg":"Worker已停止","time":"2025-07-22 22:14:50"}
{"level":"info","msg":"Worker已优雅停止","time":"2025-07-22 22:14:50"}
{"level":"info","master_url":"http://localhost:8080","msg":"启动AHOP Worker","time":"2025-07-22 22:14:53","version":"1.0.0","worker_name":"AHOP Worker on development"}
{"level":"info","msg":"使用配置的worker_id","time":"2025-07-22 22:14:53","worker_id":"test-worker-001"}
{"level":"info","master_url":"http://localhost:8080","msg":"Worker认证成功，获得数据库和Redis凭据","time":"2025-07-22 22:14:53","worker_id":"test-worker-001"}
{"executors":2,"level":"info","msg":"已注册任务执行器","time":"2025-07-22 22:14:53"}
{"concurrency":2,"level":"info","msg":"Worker启动成功","time":"2025-07-22 22:14:53","worker_id":"test-worker-001"}
{"level":"info","msg":"Worker启动成功，正在等待任务...","time":"2025-07-22 22:14:53"}
{"consumer_id":0,"level":"info","msg":"任务消费者启动","time":"2025-07-22 22:14:53","worker_id":"test-worker-001"}
{"consumer_id":1,"level":"info","msg":"任务消费者启动","time":"2025-07-22 22:14:53","worker_id":"test-worker-001"}
{"consumer_id":0,"level":"info","msg":"任务消费者收到退出信号","time":"2025-07-22 22:14:56","worker_id":"test-worker-001"}
{"consumer_id":1,"level":"info","msg":"任务消费者收到退出信号","time":"2025-07-22 22:14:56","worker_id":"test-worker-001"}
{"level":"info","msg":"所有任务已完成","time":"2025-07-22 22:14:56"}
{"level":"info","msg":"Worker已停止","time":"2025-07-22 22:14:56"}
{"level":"info","msg":"Worker已优雅停止","time":"2025-07-22 22:14:56"}
{"consumer_id":0,"level":"info","msg":"开始处理任务","source":"api","task_id":"6985b969-1693-4106-8f65-0e89c73103f5","task_type":"collect","tenant_id":1,"tenant_name":"默认租户","time":"2025-07-22 22:15:17","user_id":1,"username":"admin","worker_id":"test-worker-001"}
{"count":2,"host_ids":[2,1],"level":"debug","msg":"开始查询主机信息","tenant_id":1,"time":"2025-07-22 22:15:17"}
{"credential_type":"password","host_id":1,"host_ip":"adassad","host_name":"","level":"debug","msg":"准备主机连接信息","time":"2025-07-22 22:15:17"}
{"credential_type":"password","host_id":2,"host_ip":"127.0.0.1","host_name":"","level":"debug","msg":"准备主机连接信息","time":"2025-07-22 22:15:17"}
{"level":"debug","msg":"主机信息准备完成","time":"2025-07-22 22:15:17","total_prepared":2,"total_requested":2}
{"host_id":1,"level":"warning","msg":"主机信息收集失败，跳过更新","time":"2025-07-22 22:15:25"}
{"host_id":2,"level":"debug","msg":"ansible_facts 字段数量: 2","time":"2025-07-22 22:15:25"}
{"host_id":2,"level":"debug","msg":"没有找到挂载点信息","time":"2025-07-22 22:15:25"}
{"host_id":2,"level":"debug","msg":"没有找到网络接口信息","time":"2025-07-22 22:15:25"}
{"host_id":2,"level":"info","msg":"更新主机系统信息成功","time":"2025-07-22 22:15:25"}
{"consumer_id":0,"level":"info","msg":"任务执行成功","source":"api","task_id":"6985b969-1693-4106-8f65-0e89c73103f5","task_type":"collect","tenant_id":1,"tenant_name":"默认租户","time":"2025-07-22 22:15:25","user_id":1,"username":"admin","worker_id":"test-worker-001"}
{"level":"info","msg":"收到退出信号，正在停止Worker...","time":"2025-07-22 22:16:42"}
{"level":"info","msg":"开始停止Worker","time":"2025-07-22 22:16:42"}
{"consumer_id":1,"level":"info","msg":"任务消费者收到退出信号","time":"2025-07-22 22:16:44","worker_id":"test-worker-001"}
{"consumer_id":0,"level":"info","msg":"任务消费者收到退出信号","time":"2025-07-22 22:16:46","worker_id":"test-worker-001"}
{"level":"info","msg":"所有任务已完成","time":"2025-07-22 22:16:46"}
{"level":"info","msg":"Worker已停止","time":"2025-07-22 22:16:46"}
{"level":"info","msg":"Worker已优雅停止","time":"2025-07-22 22:16:46"}
{"level":"info","master_url":"http://localhost:8080","msg":"启动AHOP Worker","time":"2025-07-22 22:16:47","version":"1.0.0","worker_name":"AHOP Worker on development"}
{"level":"info","msg":"使用配置的worker_id","time":"2025-07-22 22:16:47","worker_id":"test-worker-001"}
{"level":"info","master_url":"http://localhost:8080","msg":"Worker认证成功，获得数据库和Redis凭据","time":"2025-07-22 22:16:47","worker_id":"test-worker-001"}
{"executors":2,"level":"info","msg":"已注册任务执行器","time":"2025-07-22 22:16:47"}
{"concurrency":2,"level":"info","msg":"Worker启动成功","time":"2025-07-22 22:16:47","worker_id":"test-worker-001"}
{"level":"info","msg":"Worker启动成功，正在等待任务...","time":"2025-07-22 22:16:47"}
{"consumer_id":0,"level":"info","msg":"任务消费者启动","time":"2025-07-22 22:16:47","worker_id":"test-worker-001"}
{"consumer_id":1,"level":"info","msg":"任务消费者启动","time":"2025-07-22 22:16:47","worker_id":"test-worker-001"}
{"consumer_id":1,"level":"info","msg":"开始处理任务","source":"api","task_id":"1ba74a3f-f54d-4220-b3c3-0738e6c9600b","task_type":"collect","tenant_id":1,"tenant_name":"默认租户","time":"2025-07-22 22:17:02","user_id":1,"username":"admin","worker_id":"test-worker-001"}
{"count":2,"host_ids":[2,1],"level":"debug","msg":"开始查询主机信息","tenant_id":1,"time":"2025-07-22 22:17:02"}
{"credential_type":"password","host_id":1,"host_ip":"adassad","host_name":"","level":"debug","msg":"准备主机连接信息","time":"2025-07-22 22:17:02"}
{"credential_type":"password","host_id":2,"host_ip":"127.0.0.1","host_name":"","level":"debug","msg":"准备主机连接信息","time":"2025-07-22 22:17:02"}
{"level":"debug","msg":"主机信息准备完成","time":"2025-07-22 22:17:02","total_prepared":2,"total_requested":2}
{"host_id":1,"level":"warning","msg":"主机信息收集失败，跳过更新","time":"2025-07-22 22:17:10"}
{"host_id":2,"level":"debug","msg":"ansible_facts 字段数量: 2","time":"2025-07-22 22:17:10"}
{"host_id":2,"level":"debug","msg":"没有找到挂载点信息","time":"2025-07-22 22:17:10"}
{"host_id":2,"level":"debug","msg":"没有找到网络接口信息","time":"2025-07-22 22:17:10"}
{"host_id":2,"level":"info","msg":"更新主机系统信息成功","time":"2025-07-22 22:17:10"}
{"consumer_id":1,"level":"info","msg":"任务执行成功","source":"api","task_id":"1ba74a3f-f54d-4220-b3c3-0738e6c9600b","task_type":"collect","tenant_id":1,"tenant_name":"默认租户","time":"2025-07-22 22:17:10","user_id":1,"username":"admin","worker_id":"test-worker-001"}
{"level":"info","msg":"收到退出信号，正在停止Worker...","time":"2025-07-22 22:18:00"}
{"level":"info","msg":"开始停止Worker","time":"2025-07-22 22:18:00"}
{"consumer_id":1,"level":"info","msg":"任务消费者收到退出信号","time":"2025-07-22 22:18:00","worker_id":"test-worker-001"}
{"level":"info","master_url":"http://localhost:8080","msg":"启动AHOP Worker","time":"2025-07-22 22:18:04","version":"1.0.0","worker_name":"AHOP Worker on development"}
{"level":"info","msg":"使用配置的worker_id","time":"2025-07-22 22:18:04","worker_id":"test-worker-001"}
{"level":"info","master_url":"http://localhost:8080","msg":"Worker认证成功，获得数据库和Redis凭据","time":"2025-07-22 22:18:04","worker_id":"test-worker-001"}
{"executors":2,"level":"info","msg":"已注册任务执行器","time":"2025-07-22 22:18:04"}
{"concurrency":2,"level":"info","msg":"Worker启动成功","time":"2025-07-22 22:18:04","worker_id":"test-worker-001"}
{"level":"info","msg":"Worker启动成功，正在等待任务...","time":"2025-07-22 22:18:04"}
{"consumer_id":0,"level":"info","msg":"任务消费者启动","time":"2025-07-22 22:18:04","worker_id":"test-worker-001"}
{"consumer_id":1,"level":"info","msg":"任务消费者启动","time":"2025-07-22 22:18:04","worker_id":"test-worker-001"}
{"consumer_id":0,"level":"info","msg":"任务消费者收到退出信号","time":"2025-07-22 22:18:08","worker_id":"test-worker-001"}
{"level":"info","msg":"所有任务已完成","time":"2025-07-22 22:18:08"}
{"level":"info","msg":"Worker已停止","time":"2025-07-22 22:18:08"}
{"level":"info","msg":"Worker已优雅停止","time":"2025-07-22 22:18:08"}
{"consumer_id":0,"level":"info","msg":"开始处理任务","source":"api","task_id":"a5b18c6f-8f14-4998-a58a-760e8b0c16cd","task_type":"collect","tenant_id":1,"tenant_name":"默认租户","time":"2025-07-22 22:18:18","user_id":1,"username":"admin","worker_id":"test-worker-001"}
{"count":2,"host_ids":[2,1],"level":"debug","msg":"开始查询主机信息","tenant_id":1,"time":"2025-07-22 22:18:18"}
{"credential_type":"password","host_id":1,"host_ip":"adassad","host_name":"","level":"debug","msg":"准备主机连接信息","time":"2025-07-22 22:18:19"}
{"credential_type":"password","host_id":2,"host_ip":"127.0.0.1","host_name":"","level":"debug","msg":"准备主机连接信息","time":"2025-07-22 22:18:19"}
{"level":"debug","msg":"主机信息准备完成","time":"2025-07-22 22:18:19","total_prepared":2,"total_requested":2}
{"host_id":1,"level":"warning","msg":"主机信息收集失败，跳过更新","time":"2025-07-22 22:18:26"}
{"host_id":2,"level":"debug","msg":"ansible_facts 字段数量: 2","time":"2025-07-22 22:18:26"}
{"host_id":2,"level":"debug","msg":"没有找到挂载点信息","time":"2025-07-22 22:18:26"}
{"host_id":2,"level":"debug","msg":"没有找到网络接口信息","time":"2025-07-22 22:18:26"}
{"host_id":2,"level":"info","msg":"更新主机系统信息成功","time":"2025-07-22 22:18:26"}
{"consumer_id":0,"level":"info","msg":"任务执行成功","source":"api","task_id":"a5b18c6f-8f14-4998-a58a-760e8b0c16cd","task_type":"collect","tenant_id":1,"tenant_name":"默认租户","time":"2025-07-22 22:18:26","user_id":1,"username":"admin","worker_id":"test-worker-001"}
{"level":"info","msg":"收到退出信号，正在停止Worker...","time":"2025-07-22 22:19:19"}
{"level":"info","msg":"开始停止Worker","time":"2025-07-22 22:19:19"}
{"level":"info","master_url":"http://localhost:8080","msg":"启动AHOP Worker","time":"2025-07-22 22:19:23","version":"1.0.0","worker_name":"AHOP Worker on development"}
{"level":"info","msg":"使用配置的worker_id","time":"2025-07-22 22:19:23","worker_id":"test-worker-001"}
{"level":"info","master_url":"http://localhost:8080","msg":"Worker认证成功，获得数据库和Redis凭据","time":"2025-07-22 22:19:23","worker_id":"test-worker-001"}
{"executors":2,"level":"info","msg":"已注册任务执行器","time":"2025-07-22 22:19:23"}
{"concurrency":2,"level":"info","msg":"Worker启动成功","time":"2025-07-22 22:19:23","worker_id":"test-worker-001"}
{"level":"info","msg":"Worker启动成功，正在等待任务...","time":"2025-07-22 22:19:23"}
{"consumer_id":0,"level":"info","msg":"任务消费者启动","time":"2025-07-22 22:19:23","worker_id":"test-worker-001"}
{"consumer_id":1,"level":"info","msg":"任务消费者启动","time":"2025-07-22 22:19:23","worker_id":"test-worker-001"}
{"consumer_id":1,"level":"info","msg":"任务消费者收到退出信号","time":"2025-07-22 22:19:25","worker_id":"test-worker-001"}
{"consumer_id":0,"level":"info","msg":"任务消费者收到退出信号","time":"2025-07-22 22:19:27","worker_id":"test-worker-001"}
{"level":"info","msg":"所有任务已完成","time":"2025-07-22 22:19:27"}
{"level":"info","msg":"Worker已停止","time":"2025-07-22 22:19:27"}
{"level":"info","msg":"Worker已优雅停止","time":"2025-07-22 22:19:27"}
{"consumer_id":0,"level":"info","msg":"开始处理任务","source":"api","task_id":"17439830-253f-4f97-8387-26df58012d5d","task_type":"collect","tenant_id":1,"tenant_name":"默认租户","time":"2025-07-22 22:19:48","user_id":1,"username":"admin","worker_id":"test-worker-001"}
{"count":2,"host_ids":[2,1],"level":"debug","msg":"开始查询主机信息","tenant_id":1,"time":"2025-07-22 22:19:48"}
{"credential_type":"password","host_id":1,"host_ip":"adassad","host_name":"","level":"debug","msg":"准备主机连接信息","time":"2025-07-22 22:19:48"}
{"credential_type":"password","host_id":2,"host_ip":"127.0.0.1","host_name":"","level":"debug","msg":"准备主机连接信息","time":"2025-07-22 22:19:48"}
{"level":"debug","msg":"主机信息准备完成","time":"2025-07-22 22:19:48","total_prepared":2,"total_requested":2}
{"host_id":1,"level":"warning","msg":"主机信息收集失败，跳过更新","time":"2025-07-22 22:19:55"}
{"host_id":2,"level":"debug","msg":"ansible_facts 字段数量: 2","time":"2025-07-22 22:19:55"}
{"host_id":2,"level":"debug","msg":"没有找到挂载点信息","time":"2025-07-22 22:19:55"}
{"host_id":2,"level":"debug","msg":"没有找到网络接口信息","time":"2025-07-22 22:19:55"}
{"host_id":2,"level":"info","msg":"更新主机系统信息成功","time":"2025-07-22 22:19:55"}
{"consumer_id":0,"level":"info","msg":"任务执行成功","source":"api","task_id":"17439830-253f-4f97-8387-26df58012d5d","task_type":"collect","tenant_id":1,"tenant_name":"默认租户","time":"2025-07-22 22:19:55","user_id":1,"username":"admin","worker_id":"test-worker-001"}
{"level":"info","msg":"收到退出信号，正在停止Worker...","time":"2025-07-22 22:20:25"}
{"level":"info","msg":"开始停止Worker","time":"2025-07-22 22:20:25"}
{"consumer_id":0,"level":"info","msg":"任务消费者收到退出信号","time":"2025-07-22 22:20:26","worker_id":"test-worker-001"}
{"level":"info","master_url":"http://localhost:8080","msg":"启动AHOP Worker","time":"2025-07-22 22:20:30","version":"1.0.0","worker_name":"AHOP Worker on development"}
{"level":"info","msg":"使用配置的worker_id","time":"2025-07-22 22:20:30","worker_id":"test-worker-001"}
{"level":"info","master_url":"http://localhost:8080","msg":"Worker认证成功，获得数据库和Redis凭据","time":"2025-07-22 22:20:30","worker_id":"test-worker-001"}
{"executors":2,"level":"info","msg":"已注册任务执行器","time":"2025-07-22 22:20:30"}
{"concurrency":2,"level":"info","msg":"Worker启动成功","time":"2025-07-22 22:20:30","worker_id":"test-worker-001"}
{"level":"info","msg":"Worker启动成功，正在等待任务...","time":"2025-07-22 22:20:30"}
{"consumer_id":0,"level":"info","msg":"任务消费者启动","time":"2025-07-22 22:20:30","worker_id":"test-worker-001"}
{"consumer_id":1,"level":"info","msg":"任务消费者启动","time":"2025-07-22 22:20:30","worker_id":"test-worker-001"}
{"consumer_id":1,"level":"info","msg":"任务消费者收到退出信号","time":"2025-07-22 22:20:34","worker_id":"test-worker-001"}
{"level":"info","msg":"所有任务已完成","time":"2025-07-22 22:20:34"}
{"level":"info","msg":"Worker已停止","time":"2025-07-22 22:20:34"}
{"level":"info","msg":"Worker已优雅停止","time":"2025-07-22 22:20:34"}
{"consumer_id":1,"level":"info","msg":"开始处理任务","source":"api","task_id":"4e13fa64-3184-4850-ab25-282925de522d","task_type":"collect","tenant_id":1,"tenant_name":"默认租户","time":"2025-07-22 22:20:45","user_id":1,"username":"admin","worker_id":"test-worker-001"}
{"count":2,"host_ids":[2,1],"level":"debug","msg":"开始查询主机信息","tenant_id":1,"time":"2025-07-22 22:20:45"}
{"credential_type":"password","host_id":1,"host_ip":"adassad","host_name":"","level":"debug","msg":"准备主机连接信息","time":"2025-07-22 22:20:45"}
{"credential_type":"password","host_id":2,"host_ip":"127.0.0.1","host_name":"","level":"debug","msg":"准备主机连接信息","time":"2025-07-22 22:20:45"}
{"level":"debug","msg":"主机信息准备完成","time":"2025-07-22 22:20:45","total_prepared":2,"total_requested":2}
{"host_id":1,"level":"warning","msg":"主机信息收集失败，跳过更新","time":"2025-07-22 22:20:53"}
{"host_id":2,"level":"debug","msg":"ansible_facts 字段数量: 2","time":"2025-07-22 22:20:53"}
{"host_id":2,"level":"debug","msg":"没有找到挂载点信息","time":"2025-07-22 22:20:53"}
{"host_id":2,"level":"debug","msg":"没有找到网络接口信息","time":"2025-07-22 22:20:53"}
{"host_id":2,"level":"info","msg":"更新主机系统信息成功","time":"2025-07-22 22:20:53"}
{"consumer_id":1,"level":"info","msg":"任务执行成功","source":"api","task_id":"4e13fa64-3184-4850-ab25-282925de522d","task_type":"collect","tenant_id":1,"tenant_name":"默认租户","time":"2025-07-22 22:20:53","user_id":1,"username":"admin","worker_id":"test-worker-001"}
{"level":"info","msg":"收到退出信号，正在停止Worker...","time":"2025-07-22 22:21:40"}
{"level":"info","msg":"开始停止Worker","time":"2025-07-22 22:21:40"}
{"consumer_id":0,"level":"info","msg":"任务消费者收到退出信号","time":"2025-07-22 22:21:41","worker_id":"test-worker-001"}
{"consumer_id":1,"level":"info","msg":"任务消费者收到退出信号","time":"2025-07-22 22:21:43","worker_id":"test-worker-001"}
{"level":"info","msg":"所有任务已完成","time":"2025-07-22 22:21:43"}
{"level":"info","msg":"Worker已停止","time":"2025-07-22 22:21:43"}
{"level":"info","msg":"Worker已优雅停止","time":"2025-07-22 22:21:43"}
{"level":"info","master_url":"http://localhost:8080","msg":"启动AHOP Worker","time":"2025-07-22 22:21:45","version":"1.0.0","worker_name":"AHOP Worker on development"}
{"level":"info","msg":"使用配置的worker_id","time":"2025-07-22 22:21:45","worker_id":"test-worker-001"}
{"level":"info","master_url":"http://localhost:8080","msg":"Worker认证成功，获得数据库和Redis凭据","time":"2025-07-22 22:21:45","worker_id":"test-worker-001"}
{"executors":2,"level":"info","msg":"已注册任务执行器","time":"2025-07-22 22:21:45"}
{"concurrency":2,"level":"info","msg":"Worker启动成功","time":"2025-07-22 22:21:45","worker_id":"test-worker-001"}
{"level":"info","msg":"Worker启动成功，正在等待任务...","time":"2025-07-22 22:21:45"}
{"consumer_id":0,"level":"info","msg":"任务消费者启动","time":"2025-07-22 22:21:45","worker_id":"test-worker-001"}
{"consumer_id":1,"level":"info","msg":"任务消费者启动","time":"2025-07-22 22:21:45","worker_id":"test-worker-001"}
{"consumer_id":1,"level":"info","msg":"开始处理任务","source":"api","task_id":"dbcc45e0-d001-4a36-8f28-bc88dfaabdbb","task_type":"collect","tenant_id":1,"tenant_name":"默认租户","time":"2025-07-22 22:22:19","user_id":1,"username":"admin","worker_id":"test-worker-001"}
{"count":2,"host_ids":[2,1],"level":"debug","msg":"开始查询主机信息","tenant_id":1,"time":"2025-07-22 22:22:19"}
{"credential_type":"password","host_id":1,"host_ip":"adassad","host_name":"","level":"debug","msg":"准备主机连接信息","time":"2025-07-22 22:22:19"}
{"credential_type":"password","host_id":2,"host_ip":"127.0.0.1","host_name":"","level":"debug","msg":"准备主机连接信息","time":"2025-07-22 22:22:19"}
{"level":"debug","msg":"主机信息准备完成","time":"2025-07-22 22:22:19","total_prepared":2,"total_requested":2}
{"host_id":1,"level":"warning","msg":"主机信息收集失败，跳过更新","time":"2025-07-22 22:22:28"}
{"host_id":2,"level":"debug","msg":"ansible_facts 字段数量: 2","time":"2025-07-22 22:22:28"}
{"host_id":2,"level":"debug","msg":"没有找到挂载点信息","time":"2025-07-22 22:22:28"}
{"host_id":2,"level":"debug","msg":"没有找到网络接口信息","time":"2025-07-22 22:22:28"}
{"host_id":2,"level":"info","msg":"更新主机系统信息成功","time":"2025-07-22 22:22:28"}
{"consumer_id":1,"level":"info","msg":"任务执行成功","source":"api","task_id":"dbcc45e0-d001-4a36-8f28-bc88dfaabdbb","task_type":"collect","tenant_id":1,"tenant_name":"默认租户","time":"2025-07-22 22:22:28","user_id":1,"username":"admin","worker_id":"test-worker-001"}
{"level":"info","msg":"收到退出信号，正在停止Worker...","time":"2025-07-22 22:23:18"}
{"level":"info","msg":"开始停止Worker","time":"2025-07-22 22:23:18"}
{"consumer_id":0,"level":"info","msg":"任务消费者收到退出信号","time":"2025-07-22 22:23:26","worker_id":"test-worker-001"}
{"consumer_id":1,"level":"info","msg":"任务消费者收到退出信号","time":"2025-07-22 22:23:29","worker_id":"test-worker-001"}
{"level":"info","msg":"所有任务已完成","time":"2025-07-22 22:23:29"}
{"level":"info","msg":"Worker已停止","time":"2025-07-22 22:23:29"}
{"level":"info","msg":"Worker已优雅停止","time":"2025-07-22 22:23:29"}
{"level":"info","master_url":"http://localhost:8080","msg":"启动AHOP Worker","time":"2025-07-22 22:23:30","version":"1.0.0","worker_name":"AHOP Worker on development"}
{"level":"info","msg":"使用配置的worker_id","time":"2025-07-22 22:23:30","worker_id":"test-worker-001"}
{"level":"info","master_url":"http://localhost:8080","msg":"Worker认证成功，获得数据库和Redis凭据","time":"2025-07-22 22:23:30","worker_id":"test-worker-001"}
{"executors":2,"level":"info","msg":"已注册任务执行器","time":"2025-07-22 22:23:30"}
{"concurrency":2,"level":"info","msg":"Worker启动成功","time":"2025-07-22 22:23:30","worker_id":"test-worker-001"}
{"level":"info","msg":"Worker启动成功，正在等待任务...","time":"2025-07-22 22:23:30"}
{"consumer_id":0,"level":"info","msg":"任务消费者启动","time":"2025-07-22 22:23:30","worker_id":"test-worker-001"}
{"consumer_id":1,"level":"info","msg":"任务消费者启动","time":"2025-07-22 22:23:30","worker_id":"test-worker-001"}
{"consumer_id":0,"level":"info","msg":"开始处理任务","source":"api","task_id":"5b59dcc3-05f0-4e26-ab2a-cf74ae25e158","task_type":"collect","tenant_id":1,"tenant_name":"默认租户","time":"2025-07-22 22:23:44","user_id":1,"username":"admin","worker_id":"test-worker-001"}
{"count":2,"host_ids":[2,1],"level":"debug","msg":"开始查询主机信息","tenant_id":1,"time":"2025-07-22 22:23:44"}
{"credential_type":"password","host_id":2,"host_ip":"127.0.0.1","host_name":"","level":"debug","msg":"准备主机连接信息","time":"2025-07-22 22:23:44"}
{"credential_type":"password","host_id":1,"host_ip":"adassad","host_name":"","level":"debug","msg":"准备主机连接信息","time":"2025-07-22 22:23:44"}
{"level":"debug","msg":"主机信息准备完成","time":"2025-07-22 22:23:44","total_prepared":2,"total_requested":2}
{"host_id":2,"level":"debug","msg":"ansible_facts 字段数量: 2","time":"2025-07-22 22:23:53"}
{"host_id":2,"level":"debug","msg":"没有找到挂载点信息","time":"2025-07-22 22:23:53"}
{"host_id":2,"level":"debug","msg":"没有找到网络接口信息","time":"2025-07-22 22:23:53"}
{"host_id":2,"level":"info","msg":"更新主机系统信息成功","time":"2025-07-22 22:23:53"}
{"host_id":1,"level":"warning","msg":"主机信息收集失败，跳过更新","time":"2025-07-22 22:23:53"}
{"consumer_id":0,"level":"info","msg":"任务执行成功","source":"api","task_id":"5b59dcc3-05f0-4e26-ab2a-cf74ae25e158","task_type":"collect","tenant_id":1,"tenant_name":"默认租户","time":"2025-07-22 22:23:53","user_id":1,"username":"admin","worker_id":"test-worker-001"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-22 22:25:30"}
{"level":"info","master_url":"http://localhost:8080","msg":"启动AHOP Worker","time":"2025-07-22 22:26:44","version":"1.0.0","worker_name":"AHOP Worker on development"}
{"level":"info","msg":"使用配置的worker_id","time":"2025-07-22 22:26:44","worker_id":"test-worker-001"}
{"level":"info","master_url":"http://localhost:8080","msg":"Worker认证成功，获得数据库和Redis凭据","time":"2025-07-22 22:26:44","worker_id":"test-worker-001"}
{"executors":2,"level":"info","msg":"已注册任务执行器","time":"2025-07-22 22:26:44"}
{"concurrency":2,"level":"info","msg":"Worker启动成功","time":"2025-07-22 22:26:44","worker_id":"test-worker-001"}
{"level":"info","msg":"Worker启动成功，正在等待任务...","time":"2025-07-22 22:26:44"}
{"consumer_id":1,"level":"info","msg":"任务消费者启动","time":"2025-07-22 22:26:44","worker_id":"test-worker-001"}
{"consumer_id":0,"level":"info","msg":"任务消费者启动","time":"2025-07-22 22:26:44","worker_id":"test-worker-001"}
{"level":"info","msg":"收到退出信号，正在停止Worker...","time":"2025-07-22 22:27:11"}
{"level":"info","msg":"收到退出信号，正在停止Worker...","time":"2025-07-22 22:27:11"}
{"level":"info","msg":"开始停止Worker","time":"2025-07-22 22:27:11"}
{"level":"info","msg":"开始停止Worker","time":"2025-07-22 22:27:11"}
{"consumer_id":1,"level":"info","msg":"任务消费者收到退出信号","time":"2025-07-22 22:27:12","worker_id":"test-worker-001"}
{"consumer_id":0,"level":"info","msg":"任务消费者收到退出信号","time":"2025-07-22 22:27:15","worker_id":"test-worker-001"}
{"consumer_id":1,"level":"info","msg":"任务消费者收到退出信号","time":"2025-07-22 22:27:15","worker_id":"test-worker-001"}
{"level":"info","msg":"所有任务已完成","time":"2025-07-22 22:27:15"}
{"level":"info","msg":"Worker已停止","time":"2025-07-22 22:27:15"}
{"level":"info","msg":"Worker已优雅停止","time":"2025-07-22 22:27:15"}
{"consumer_id":0,"level":"info","msg":"任务消费者收到退出信号","time":"2025-07-22 22:27:15","worker_id":"test-worker-001"}
{"level":"info","msg":"所有任务已完成","time":"2025-07-22 22:27:15"}
{"level":"info","msg":"Worker已停止","time":"2025-07-22 22:27:15"}
{"level":"info","msg":"Worker已优雅停止","time":"2025-07-22 22:27:15"}
{"level":"info","master_url":"http://localhost:8080","msg":"启动AHOP Worker","time":"2025-07-22 22:27:19","version":"1.0.0","worker_name":"AHOP Worker on development"}
{"level":"info","msg":"使用配置的worker_id","time":"2025-07-22 22:27:19","worker_id":"test-worker-001"}
{"level":"info","master_url":"http://localhost:8080","msg":"Worker认证成功，获得数据库和Redis凭据","time":"2025-07-22 22:27:20","worker_id":"test-worker-001"}
{"executors":2,"level":"info","msg":"已注册任务执行器","time":"2025-07-22 22:27:20"}
{"concurrency":2,"level":"info","msg":"Worker启动成功","time":"2025-07-22 22:27:20","worker_id":"test-worker-001"}
{"level":"info","msg":"Worker启动成功，正在等待任务...","time":"2025-07-22 22:27:20"}
{"consumer_id":0,"level":"info","msg":"任务消费者启动","time":"2025-07-22 22:27:20","worker_id":"test-worker-001"}
{"consumer_id":1,"level":"info","msg":"任务消费者启动","time":"2025-07-22 22:27:20","worker_id":"test-worker-001"}
{"consumer_id":0,"level":"info","msg":"开始处理任务","source":"api","task_id":"9d20a83a-d084-41dc-9852-cf778f73f60e","task_type":"collect","tenant_id":1,"tenant_name":"默认租户","time":"2025-07-22 22:27:34","user_id":1,"username":"admin","worker_id":"test-worker-001"}
{"count":2,"host_ids":[2,1],"level":"debug","msg":"开始查询主机信息","tenant_id":1,"time":"2025-07-22 22:27:34"}
{"credential_type":"password","host_id":2,"host_ip":"127.0.0.1","host_name":"","level":"debug","msg":"准备主机连接信息","time":"2025-07-22 22:27:34"}
{"credential_type":"password","host_id":1,"host_ip":"adassad","host_name":"","level":"debug","msg":"准备主机连接信息","time":"2025-07-22 22:27:34"}
{"level":"debug","msg":"主机信息准备完成","time":"2025-07-22 22:27:34","total_prepared":2,"total_requested":2}
{"host_id":2,"level":"debug","msg":"ansible_facts 字段数量: 2","time":"2025-07-22 22:27:42"}
{"host_id":2,"level":"debug","msg":"没有找到挂载点信息","time":"2025-07-22 22:27:42"}
{"host_id":2,"level":"debug","msg":"没有找到网络接口信息","time":"2025-07-22 22:27:42"}
{"host_id":2,"level":"info","msg":"更新主机系统信息成功","time":"2025-07-22 22:27:42"}
{"host_id":1,"level":"warning","msg":"主机信息收集失败，跳过更新","time":"2025-07-22 22:27:42"}
{"consumer_id":0,"level":"info","msg":"任务执行成功","source":"api","task_id":"9d20a83a-d084-41dc-9852-cf778f73f60e","task_type":"collect","tenant_id":1,"tenant_name":"默认租户","time":"2025-07-22 22:27:42","user_id":1,"username":"admin","worker_id":"test-worker-001"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-22 22:29:20"}
{"level":"info","msg":"收到退出信号，正在停止Worker...","time":"2025-07-22 22:29:39"}
{"level":"info","msg":"开始停止Worker","time":"2025-07-22 22:29:39"}
{"consumer_id":1,"level":"info","msg":"任务消费者收到退出信号","time":"2025-07-22 22:29:41","worker_id":"test-worker-001"}
{"consumer_id":0,"level":"info","msg":"任务消费者收到退出信号","time":"2025-07-22 22:29:43","worker_id":"test-worker-001"}
{"level":"info","msg":"所有任务已完成","time":"2025-07-22 22:29:43"}
{"level":"info","msg":"Worker已停止","time":"2025-07-22 22:29:43"}
{"level":"info","msg":"Worker已优雅停止","time":"2025-07-22 22:29:43"}
{"level":"info","master_url":"http://localhost:8080","msg":"启动AHOP Worker","time":"2025-07-22 22:29:44","version":"1.0.0","worker_name":"AHOP Worker on development"}
{"level":"info","msg":"使用配置的worker_id","time":"2025-07-22 22:29:44","worker_id":"test-worker-001"}
{"level":"info","master_url":"http://localhost:8080","msg":"Worker认证成功，获得数据库和Redis凭据","time":"2025-07-22 22:29:44","worker_id":"test-worker-001"}
{"executors":2,"level":"info","msg":"已注册任务执行器","time":"2025-07-22 22:29:44"}
{"concurrency":2,"level":"info","msg":"Worker启动成功","time":"2025-07-22 22:29:44","worker_id":"test-worker-001"}
{"level":"info","msg":"Worker启动成功，正在等待任务...","time":"2025-07-22 22:29:44"}
{"consumer_id":0,"level":"info","msg":"任务消费者启动","time":"2025-07-22 22:29:44","worker_id":"test-worker-001"}
{"consumer_id":1,"level":"info","msg":"任务消费者启动","time":"2025-07-22 22:29:44","worker_id":"test-worker-001"}
{"consumer_id":1,"level":"info","msg":"开始处理任务","source":"api","task_id":"8d12a02e-b3fc-468a-8253-f8bd51caa8de","task_type":"collect","tenant_id":1,"tenant_name":"默认租户","time":"2025-07-22 22:29:58","user_id":1,"username":"admin","worker_id":"test-worker-001"}
{"count":2,"host_ids":[2,1],"level":"debug","msg":"开始查询主机信息","tenant_id":1,"time":"2025-07-22 22:29:58"}
{"credential_type":"password","host_id":2,"host_ip":"127.0.0.1","host_name":"","level":"debug","msg":"准备主机连接信息","time":"2025-07-22 22:29:58"}
{"credential_type":"password","host_id":1,"host_ip":"adassad","host_name":"","level":"debug","msg":"准备主机连接信息","time":"2025-07-22 22:29:58"}
{"level":"debug","msg":"主机信息准备完成","time":"2025-07-22 22:29:58","total_prepared":2,"total_requested":2}
{"host_id":2,"level":"debug","msg":"ansible_facts 字段数量: 2","time":"2025-07-22 22:30:07"}
{"host_id":2,"level":"debug","msg":"没有找到挂载点信息","time":"2025-07-22 22:30:07"}
{"host_id":2,"level":"debug","msg":"没有找到网络接口信息","time":"2025-07-22 22:30:07"}
{"host_id":2,"level":"info","msg":"更新主机系统信息成功","time":"2025-07-22 22:30:07"}
{"host_id":1,"level":"warning","msg":"主机信息收集失败，跳过更新","time":"2025-07-22 22:30:07"}
{"consumer_id":1,"level":"info","msg":"任务执行成功","source":"api","task_id":"8d12a02e-b3fc-468a-8253-f8bd51caa8de","task_type":"collect","tenant_id":1,"tenant_name":"默认租户","time":"2025-07-22 22:30:07","user_id":1,"username":"admin","worker_id":"test-worker-001"}
{"level":"info","msg":"收到退出信号，正在停止Worker...","time":"2025-07-22 22:31:00"}
{"level":"info","msg":"开始停止Worker","time":"2025-07-22 22:31:00"}
{"level":"info","master_url":"http://localhost:8080","msg":"启动AHOP Worker","time":"2025-07-22 22:31:04","version":"1.0.0","worker_name":"AHOP Worker on development"}
{"level":"info","msg":"使用配置的worker_id","time":"2025-07-22 22:31:04","worker_id":"test-worker-001"}
{"level":"info","master_url":"http://localhost:8080","msg":"Worker认证成功，获得数据库和Redis凭据","time":"2025-07-22 22:31:04","worker_id":"test-worker-001"}
{"executors":2,"level":"info","msg":"已注册任务执行器","time":"2025-07-22 22:31:04"}
{"concurrency":2,"level":"info","msg":"Worker启动成功","time":"2025-07-22 22:31:04","worker_id":"test-worker-001"}
{"level":"info","msg":"Worker启动成功，正在等待任务...","time":"2025-07-22 22:31:04"}
{"consumer_id":1,"level":"info","msg":"任务消费者启动","time":"2025-07-22 22:31:04","worker_id":"test-worker-001"}
{"consumer_id":0,"level":"info","msg":"任务消费者启动","time":"2025-07-22 22:31:04","worker_id":"test-worker-001"}
{"consumer_id":0,"level":"info","msg":"任务消费者收到退出信号","time":"2025-07-22 22:31:05","worker_id":"test-worker-001"}
{"consumer_id":1,"level":"info","msg":"任务消费者收到退出信号","time":"2025-07-22 22:31:07","worker_id":"test-worker-001"}
{"level":"info","msg":"所有任务已完成","time":"2025-07-22 22:31:07"}
{"level":"info","msg":"Worker已停止","time":"2025-07-22 22:31:07"}
{"level":"info","msg":"Worker已优雅停止","time":"2025-07-22 22:31:07"}
{"consumer_id":0,"level":"info","msg":"开始处理任务","source":"api","task_id":"fc8b5281-144d-4c20-b6c4-4fd4be8bcd22","task_type":"collect","tenant_id":1,"tenant_name":"默认租户","time":"2025-07-22 22:31:18","user_id":1,"username":"admin","worker_id":"test-worker-001"}
{"count":2,"host_ids":[2,1],"level":"debug","msg":"开始查询主机信息","tenant_id":1,"time":"2025-07-22 22:31:18"}
{"credential_type":"password","host_id":2,"host_ip":"127.0.0.1","host_name":"","level":"debug","msg":"准备主机连接信息","time":"2025-07-22 22:31:18"}
{"credential_type":"password","host_id":1,"host_ip":"adassad","host_name":"","level":"debug","msg":"准备主机连接信息","time":"2025-07-22 22:31:18"}
{"level":"debug","msg":"主机信息准备完成","time":"2025-07-22 22:31:18","total_prepared":2,"total_requested":2}
{"host_id":2,"level":"debug","msg":"ansible_facts 字段数量: 2","time":"2025-07-22 22:31:27"}
{"host_id":2,"level":"debug","msg":"没有找到挂载点信息","time":"2025-07-22 22:31:27"}
{"host_id":2,"level":"debug","msg":"没有找到网络接口信息","time":"2025-07-22 22:31:27"}
{"host_id":2,"level":"info","msg":"更新主机系统信息成功","time":"2025-07-22 22:31:27"}
{"host_id":1,"level":"warning","msg":"主机信息收集失败，跳过更新","time":"2025-07-22 22:31:27"}
{"consumer_id":0,"level":"info","msg":"任务执行成功","source":"api","task_id":"fc8b5281-144d-4c20-b6c4-4fd4be8bcd22","task_type":"collect","tenant_id":1,"tenant_name":"默认租户","time":"2025-07-22 22:31:27","user_id":1,"username":"admin","worker_id":"test-worker-001"}
{"level":"info","msg":"收到退出信号，正在停止Worker...","time":"2025-07-22 22:32:20"}
{"level":"info","msg":"开始停止Worker","time":"2025-07-22 22:32:20"}
{"level":"info","master_url":"http://localhost:8080","msg":"启动AHOP Worker","time":"2025-07-22 22:32:25","version":"1.0.0","worker_name":"AHOP Worker on development"}
{"level":"info","msg":"使用配置的worker_id","time":"2025-07-22 22:32:25","worker_id":"test-worker-001"}
{"level":"info","master_url":"http://localhost:8080","msg":"Worker认证成功，获得数据库和Redis凭据","time":"2025-07-22 22:32:25","worker_id":"test-worker-001"}
{"executors":2,"level":"info","msg":"已注册任务执行器","time":"2025-07-22 22:32:25"}
{"concurrency":2,"level":"info","msg":"Worker启动成功","time":"2025-07-22 22:32:25","worker_id":"test-worker-001"}
{"consumer_id":0,"level":"info","msg":"任务消费者启动","time":"2025-07-22 22:32:25","worker_id":"test-worker-001"}
{"level":"info","msg":"Worker启动成功，正在等待任务...","time":"2025-07-22 22:32:25"}
{"consumer_id":1,"level":"info","msg":"任务消费者启动","time":"2025-07-22 22:32:25","worker_id":"test-worker-001"}
{"consumer_id":1,"level":"info","msg":"任务消费者收到退出信号","time":"2025-07-22 22:32:25","worker_id":"test-worker-001"}
{"consumer_id":0,"level":"info","msg":"任务消费者收到退出信号","time":"2025-07-22 22:32:27","worker_id":"test-worker-001"}
{"level":"info","msg":"所有任务已完成","time":"2025-07-22 22:32:27"}
{"level":"info","msg":"Worker已停止","time":"2025-07-22 22:32:27"}
{"level":"info","msg":"Worker已优雅停止","time":"2025-07-22 22:32:27"}
{"consumer_id":0,"level":"info","msg":"开始处理任务","source":"api","task_id":"ee2398fc-c4a9-4d9d-b010-a30814e68f53","task_type":"collect","tenant_id":1,"tenant_name":"默认租户","time":"2025-07-22 22:32:39","user_id":1,"username":"admin","worker_id":"test-worker-001"}
{"count":2,"host_ids":[2,1],"level":"debug","msg":"开始查询主机信息","tenant_id":1,"time":"2025-07-22 22:32:39"}
{"credential_type":"password","host_id":2,"host_ip":"127.0.0.1","host_name":"","level":"debug","msg":"准备主机连接信息","time":"2025-07-22 22:32:39"}
{"credential_type":"password","host_id":1,"host_ip":"adassad","host_name":"","level":"debug","msg":"准备主机连接信息","time":"2025-07-22 22:32:39"}
{"level":"debug","msg":"主机信息准备完成","time":"2025-07-22 22:32:39","total_prepared":2,"total_requested":2}
{"host_id":2,"level":"debug","msg":"ansible_facts 字段数量: 2","time":"2025-07-22 22:32:47"}
{"host_id":2,"level":"debug","msg":"没有找到挂载点信息","time":"2025-07-22 22:32:47"}
{"host_id":2,"level":"debug","msg":"没有找到网络接口信息","time":"2025-07-22 22:32:47"}
{"host_id":2,"level":"info","msg":"更新主机系统信息成功","time":"2025-07-22 22:32:47"}
{"host_id":1,"level":"warning","msg":"主机信息收集失败，跳过更新","time":"2025-07-22 22:32:47"}
{"consumer_id":0,"level":"info","msg":"任务执行成功","source":"api","task_id":"ee2398fc-c4a9-4d9d-b010-a30814e68f53","task_type":"collect","tenant_id":1,"tenant_name":"默认租户","time":"2025-07-22 22:32:47","user_id":1,"username":"admin","worker_id":"test-worker-001"}
{"level":"info","msg":"收到退出信号，正在停止Worker...","time":"2025-07-22 22:34:22"}
{"level":"info","msg":"开始停止Worker","time":"2025-07-22 22:34:22"}
{"consumer_id":1,"level":"info","msg":"任务消费者收到退出信号","time":"2025-07-22 22:34:26","worker_id":"test-worker-001"}
{"level":"info","master_url":"http://localhost:8080","msg":"启动AHOP Worker","time":"2025-07-22 22:34:27","version":"1.0.0","worker_name":"AHOP Worker on development"}
{"level":"info","msg":"使用配置的worker_id","time":"2025-07-22 22:34:27","worker_id":"test-worker-001"}
{"level":"info","master_url":"http://localhost:8080","msg":"Worker认证成功，获得数据库和Redis凭据","time":"2025-07-22 22:34:27","worker_id":"test-worker-001"}
{"executors":2,"level":"info","msg":"已注册任务执行器","time":"2025-07-22 22:34:27"}
{"concurrency":2,"level":"info","msg":"Worker启动成功","time":"2025-07-22 22:34:27","worker_id":"test-worker-001"}
{"level":"info","msg":"Worker启动成功，正在等待任务...","time":"2025-07-22 22:34:27"}
{"consumer_id":0,"level":"info","msg":"任务消费者启动","time":"2025-07-22 22:34:27","worker_id":"test-worker-001"}
{"consumer_id":1,"level":"info","msg":"任务消费者启动","time":"2025-07-22 22:34:27","worker_id":"test-worker-001"}
{"consumer_id":0,"level":"info","msg":"任务消费者收到退出信号","time":"2025-07-22 22:34:29","worker_id":"test-worker-001"}
{"level":"info","msg":"所有任务已完成","time":"2025-07-22 22:34:29"}
{"level":"info","msg":"Worker已停止","time":"2025-07-22 22:34:29"}
{"level":"info","msg":"Worker已优雅停止","time":"2025-07-22 22:34:29"}
{"consumer_id":1,"level":"info","msg":"开始处理任务","source":"api","task_id":"955f529a-587a-493d-90cf-f41e01ed9106","task_type":"collect","tenant_id":1,"tenant_name":"默认租户","time":"2025-07-22 22:34:41","user_id":1,"username":"admin","worker_id":"test-worker-001"}
{"count":2,"host_ids":[2,1],"level":"debug","msg":"开始查询主机信息","tenant_id":1,"time":"2025-07-22 22:34:41"}
{"credential_type":"password","host_id":2,"host_ip":"127.0.0.1","host_name":"","level":"debug","msg":"准备主机连接信息","time":"2025-07-22 22:34:41"}
{"credential_type":"password","host_id":1,"host_ip":"adassad","host_name":"","level":"debug","msg":"准备主机连接信息","time":"2025-07-22 22:34:41"}
{"level":"debug","msg":"主机信息准备完成","time":"2025-07-22 22:34:41","total_prepared":2,"total_requested":2}
{"host_id":2,"level":"debug","msg":"ansible_facts 字段数量: 2","time":"2025-07-22 22:34:49"}
{"host_id":2,"level":"debug","msg":"没有找到挂载点信息","time":"2025-07-22 22:34:49"}
{"host_id":2,"level":"debug","msg":"没有找到网络接口信息","time":"2025-07-22 22:34:49"}
{"host_id":2,"level":"info","msg":"更新主机系统信息成功","time":"2025-07-22 22:34:49"}
{"host_id":1,"level":"warning","msg":"主机信息收集失败，跳过更新","time":"2025-07-22 22:34:49"}
{"consumer_id":1,"level":"info","msg":"任务执行成功","source":"api","task_id":"955f529a-587a-493d-90cf-f41e01ed9106","task_type":"collect","tenant_id":1,"tenant_name":"默认租户","time":"2025-07-22 22:34:49","user_id":1,"username":"admin","worker_id":"test-worker-001"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-22 22:36:27"}
{"level":"info","master_url":"http://localhost:8080","msg":"启动AHOP Worker","time":"2025-07-22 22:36:53","version":"1.0.0","worker_name":"AHOP Worker on development"}
{"level":"info","msg":"使用配置的worker_id","time":"2025-07-22 22:36:53","worker_id":"test-worker-001"}
{"level":"info","master_url":"http://localhost:8080","msg":"Worker认证成功，获得数据库和Redis凭据","time":"2025-07-22 22:36:54","worker_id":"test-worker-001"}
{"executors":2,"level":"info","msg":"已注册任务执行器","time":"2025-07-22 22:36:54"}
{"concurrency":2,"level":"info","msg":"Worker启动成功","time":"2025-07-22 22:36:54","worker_id":"test-worker-001"}
{"level":"info","msg":"Worker启动成功，正在等待任务...","time":"2025-07-22 22:36:54"}
{"consumer_id":0,"level":"info","msg":"任务消费者启动","time":"2025-07-22 22:36:54","worker_id":"test-worker-001"}
{"consumer_id":1,"level":"info","msg":"任务消费者启动","time":"2025-07-22 22:36:54","worker_id":"test-worker-001"}
{"level":"info","msg":"收到退出信号，正在停止Worker...","time":"2025-07-22 22:37:29"}
{"level":"info","msg":"收到退出信号，正在停止Worker...","time":"2025-07-22 22:37:29"}
{"level":"info","msg":"开始停止Worker","time":"2025-07-22 22:37:29"}
{"level":"info","msg":"开始停止Worker","time":"2025-07-22 22:37:29"}
{"consumer_id":0,"level":"info","msg":"任务消费者收到退出信号","time":"2025-07-22 22:37:29","worker_id":"test-worker-001"}
{"consumer_id":1,"level":"info","msg":"任务消费者收到退出信号","time":"2025-07-22 22:37:31","worker_id":"test-worker-001"}
{"level":"info","msg":"所有任务已完成","time":"2025-07-22 22:37:31"}
{"level":"info","msg":"Worker已停止","time":"2025-07-22 22:37:31"}
{"level":"info","msg":"Worker已优雅停止","time":"2025-07-22 22:37:31"}
{"consumer_id":0,"level":"info","msg":"任务消费者收到退出信号","time":"2025-07-22 22:37:34","worker_id":"test-worker-001"}
{"consumer_id":1,"level":"info","msg":"任务消费者收到退出信号","time":"2025-07-22 22:37:34","worker_id":"test-worker-001"}
{"level":"info","msg":"所有任务已完成","time":"2025-07-22 22:37:34"}
{"level":"info","msg":"Worker已停止","time":"2025-07-22 22:37:34"}
{"level":"info","msg":"Worker已优雅停止","time":"2025-07-22 22:37:34"}
{"level":"info","master_url":"http://localhost:8080","msg":"启动AHOP Worker","time":"2025-07-22 22:37:35","version":"1.0.0","worker_name":"AHOP Worker on development"}
{"level":"info","msg":"使用配置的worker_id","time":"2025-07-22 22:37:35","worker_id":"test-worker-001"}
{"level":"info","master_url":"http://localhost:8080","msg":"Worker认证成功，获得数据库和Redis凭据","time":"2025-07-22 22:37:35","worker_id":"test-worker-001"}
{"executors":2,"level":"info","msg":"已注册任务执行器","time":"2025-07-22 22:37:35"}
{"concurrency":2,"level":"info","msg":"Worker启动成功","time":"2025-07-22 22:37:35","worker_id":"test-worker-001"}
{"level":"info","msg":"Worker启动成功，正在等待任务...","time":"2025-07-22 22:37:35"}
{"consumer_id":0,"level":"info","msg":"任务消费者启动","time":"2025-07-22 22:37:35","worker_id":"test-worker-001"}
{"consumer_id":1,"level":"info","msg":"任务消费者启动","time":"2025-07-22 22:37:35","worker_id":"test-worker-001"}
{"consumer_id":0,"level":"info","msg":"开始处理任务","source":"api","task_id":"672e67d9-d7a0-4861-a8f3-ce88361e92ef","task_type":"collect","tenant_id":1,"tenant_name":"默认租户","time":"2025-07-22 22:38:09","user_id":1,"username":"admin","worker_id":"test-worker-001"}
{"count":2,"host_ids":[2,1],"level":"debug","msg":"开始查询主机信息","tenant_id":1,"time":"2025-07-22 22:38:09"}
{"credential_type":"password","host_id":2,"host_ip":"127.0.0.1","host_name":"","level":"debug","msg":"准备主机连接信息","time":"2025-07-22 22:38:09"}
{"credential_type":"password","host_id":1,"host_ip":"adassad","host_name":"","level":"debug","msg":"准备主机连接信息","time":"2025-07-22 22:38:09"}
{"level":"debug","msg":"主机信息准备完成","time":"2025-07-22 22:38:09","total_prepared":2,"total_requested":2}
{"host_id":2,"level":"debug","msg":"ansible_facts 字段数量: 109","time":"2025-07-22 22:38:17"}
{"host_id":2,"level":"debug","msg":"找到字段: ansible_interfaces","time":"2025-07-22 22:38:17"}
{"host_id":2,"level":"debug","msg":"找到字段: ansible_mounts","time":"2025-07-22 22:38:17"}
{"host_id":2,"level":"info","msg":"更新主机系统信息成功","time":"2025-07-22 22:38:17"}
{"host_id":1,"level":"warning","msg":"主机信息收集失败，跳过更新","time":"2025-07-22 22:38:17"}
{"consumer_id":0,"level":"info","msg":"任务执行成功","source":"api","task_id":"672e67d9-d7a0-4861-a8f3-ce88361e92ef","task_type":"collect","tenant_id":1,"tenant_name":"默认租户","time":"2025-07-22 22:38:17","user_id":1,"username":"admin","worker_id":"test-worker-001"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-22 22:39:35"}
{"level":"info","master_url":"http://localhost:8080","msg":"启动AHOP Worker","time":"2025-07-22 22:41:09","version":"1.0.0","worker_name":"AHOP Worker on development"}
{"level":"info","msg":"使用配置的worker_id","time":"2025-07-22 22:41:09","worker_id":"test-worker-001"}
{"level":"info","master_url":"http://localhost:8080","msg":"Worker认证成功，获得数据库和Redis凭据","time":"2025-07-22 22:41:09","worker_id":"test-worker-001"}
{"executors":2,"level":"info","msg":"已注册任务执行器","time":"2025-07-22 22:41:09"}
{"concurrency":2,"level":"info","msg":"Worker启动成功","time":"2025-07-22 22:41:09","worker_id":"test-worker-001"}
{"consumer_id":1,"level":"info","msg":"任务消费者启动","time":"2025-07-22 22:41:09","worker_id":"test-worker-001"}
{"level":"info","msg":"Worker启动成功，正在等待任务...","time":"2025-07-22 22:41:09"}
{"consumer_id":0,"level":"info","msg":"任务消费者启动","time":"2025-07-22 22:41:09","worker_id":"test-worker-001"}
{"consumer_id":1,"level":"info","msg":"开始处理任务","source":"api","task_id":"ca492c38-698c-4df9-82b9-c6344639e4c4","task_type":"collect","tenant_id":1,"tenant_name":"默认租户","time":"2025-07-22 22:41:21","user_id":1,"username":"admin","worker_id":"test-worker-001"}
{"count":2,"host_ids":[2,1],"level":"debug","msg":"开始查询主机信息","tenant_id":1,"time":"2025-07-22 22:41:21"}
{"credential_type":"password","host_id":2,"host_ip":"127.0.0.1","host_name":"development","level":"debug","msg":"准备主机连接信息","time":"2025-07-22 22:41:21"}
{"credential_type":"password","host_id":1,"host_ip":"adassad","host_name":"","level":"debug","msg":"准备主机连接信息","time":"2025-07-22 22:41:21"}
{"level":"debug","msg":"主机信息准备完成","time":"2025-07-22 22:41:21","total_prepared":2,"total_requested":2}
{"host_id":2,"level":"debug","msg":"ansible_facts 字段数量: 109","time":"2025-07-22 22:41:29"}
{"host_id":2,"level":"debug","msg":"找到字段: ansible_interfaces","time":"2025-07-22 22:41:29"}
{"host_id":2,"level":"debug","msg":"找到字段: ansible_mounts","time":"2025-07-22 22:41:29"}
{"host_id":2,"level":"info","msg":"更新主机系统信息成功","time":"2025-07-22 22:41:29"}
{"host_id":1,"level":"warning","msg":"主机信息收集失败，跳过更新","time":"2025-07-22 22:41:29"}
{"consumer_id":1,"level":"info","msg":"任务执行成功","source":"api","task_id":"ca492c38-698c-4df9-82b9-c6344639e4c4","task_type":"collect","tenant_id":1,"tenant_name":"默认租户","time":"2025-07-22 22:41:29","user_id":1,"username":"admin","worker_id":"test-worker-001"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-22 22:41:35"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-22 22:43:09"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-22 22:43:35"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-22 22:45:09"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-22 22:45:35"}
{"level":"info","msg":"收到退出信号，正在停止Worker...","time":"2025-07-22 22:46:36"}
{"level":"info","msg":"开始停止Worker","time":"2025-07-22 22:46:36"}
{"consumer_id":0,"level":"info","msg":"任务消费者收到退出信号","time":"2025-07-22 22:46:42","worker_id":"test-worker-001"}
{"consumer_id":1,"level":"info","msg":"任务消费者收到退出信号","time":"2025-07-22 22:46:42","worker_id":"test-worker-001"}
{"level":"info","msg":"所有任务已完成","time":"2025-07-22 22:46:42"}
{"level":"info","msg":"Worker已停止","time":"2025-07-22 22:46:42"}
{"level":"info","msg":"Worker已优雅停止","time":"2025-07-22 22:46:42"}
{"level":"info","master_url":"http://localhost:8080","msg":"启动AHOP Worker","time":"2025-07-22 22:46:42","version":"1.0.0","worker_name":"AHOP Worker on development"}
{"level":"info","msg":"使用配置的worker_id","time":"2025-07-22 22:46:42","worker_id":"test-worker-001"}
{"level":"info","master_url":"http://localhost:8080","msg":"Worker认证成功，获得数据库和Redis凭据","time":"2025-07-22 22:46:42","worker_id":"test-worker-001"}
{"executors":2,"level":"info","msg":"已注册任务执行器","time":"2025-07-22 22:46:43"}
{"concurrency":2,"level":"info","msg":"Worker启动成功","time":"2025-07-22 22:46:43","worker_id":"test-worker-001"}
{"level":"info","msg":"Worker启动成功，正在等待任务...","time":"2025-07-22 22:46:43"}
{"consumer_id":0,"level":"info","msg":"任务消费者启动","time":"2025-07-22 22:46:43","worker_id":"test-worker-001"}
{"consumer_id":1,"level":"info","msg":"任务消费者启动","time":"2025-07-22 22:46:43","worker_id":"test-worker-001"}
{"level":"info","msg":"收到退出信号，正在停止Worker...","time":"2025-07-22 22:46:44"}
{"level":"info","msg":"开始停止Worker","time":"2025-07-22 22:46:44"}
{"consumer_id":1,"level":"info","msg":"任务消费者收到退出信号","time":"2025-07-22 22:46:53","worker_id":"test-worker-001"}
{"consumer_id":0,"level":"info","msg":"任务消费者收到退出信号","time":"2025-07-22 22:46:53","worker_id":"test-worker-001"}
{"level":"info","msg":"所有任务已完成","time":"2025-07-22 22:46:53"}
{"level":"info","msg":"Worker已停止","time":"2025-07-22 22:46:53"}
{"level":"info","msg":"Worker已优雅停止","time":"2025-07-22 22:46:53"}
{"level":"info","master_url":"http://localhost:8080","msg":"启动AHOP Worker","time":"2025-07-22 22:46:54","version":"1.0.0","worker_name":"AHOP Worker on development"}
{"level":"info","msg":"使用配置的worker_id","time":"2025-07-22 22:46:54","worker_id":"test-worker-001"}
{"level":"info","master_url":"http://localhost:8080","msg":"Worker认证成功，获得数据库和Redis凭据","time":"2025-07-22 22:46:54","worker_id":"test-worker-001"}
{"executors":2,"level":"info","msg":"已注册任务执行器","time":"2025-07-22 22:46:54"}
{"concurrency":2,"level":"info","msg":"Worker启动成功","time":"2025-07-22 22:46:54","worker_id":"test-worker-001"}
{"consumer_id":0,"level":"info","msg":"任务消费者启动","time":"2025-07-22 22:46:54","worker_id":"test-worker-001"}
{"level":"info","msg":"Worker启动成功，正在等待任务...","time":"2025-07-22 22:46:54"}
{"consumer_id":1,"level":"info","msg":"任务消费者启动","time":"2025-07-22 22:46:54","worker_id":"test-worker-001"}
{"level":"info","msg":"收到退出信号，正在停止Worker...","time":"2025-07-22 22:46:55"}
{"level":"info","msg":"开始停止Worker","time":"2025-07-22 22:46:55"}
{"consumer_id":1,"level":"info","msg":"任务消费者收到退出信号","time":"2025-07-22 22:47:05","worker_id":"test-worker-001"}
{"consumer_id":0,"level":"info","msg":"任务消费者收到退出信号","time":"2025-07-22 22:47:05","worker_id":"test-worker-001"}
{"level":"info","msg":"所有任务已完成","time":"2025-07-22 22:47:05"}
{"level":"info","msg":"Worker已停止","time":"2025-07-22 22:47:05"}
{"level":"info","msg":"Worker已优雅停止","time":"2025-07-22 22:47:05"}
{"level":"info","master_url":"http://localhost:8080","msg":"启动AHOP Worker","time":"2025-07-22 22:47:13","version":"1.0.0","worker_name":"AHOP Worker on development"}
{"level":"info","msg":"使用配置的worker_id","time":"2025-07-22 22:47:13","worker_id":"test-worker-001"}
{"level":"info","master_url":"http://localhost:8080","msg":"Worker认证成功，获得数据库和Redis凭据","time":"2025-07-22 22:47:13","worker_id":"test-worker-001"}
{"executors":2,"level":"info","msg":"已注册任务执行器","time":"2025-07-22 22:47:13"}
{"concurrency":2,"level":"info","msg":"Worker启动成功","time":"2025-07-22 22:47:13","worker_id":"test-worker-001"}
{"level":"info","msg":"Worker启动成功，正在等待任务...","time":"2025-07-22 22:47:13"}
{"consumer_id":0,"level":"info","msg":"任务消费者启动","time":"2025-07-22 22:47:13","worker_id":"test-worker-001"}
{"consumer_id":1,"level":"info","msg":"任务消费者启动","time":"2025-07-22 22:47:13","worker_id":"test-worker-001"}
{"consumer_id":1,"level":"info","msg":"开始处理任务","source":"api","task_id":"a97c713e-dee3-451e-b6cf-5198c33786b1","task_type":"collect","tenant_id":1,"tenant_name":"默认租户","time":"2025-07-22 22:47:27","user_id":1,"username":"admin","worker_id":"test-worker-001"}
{"count":2,"host_ids":[2,1],"level":"debug","msg":"开始查询主机信息","tenant_id":1,"time":"2025-07-22 22:47:27"}
{"credential_type":"password","host_id":2,"host_ip":"127.0.0.1","host_name":"development","level":"debug","msg":"准备主机连接信息","time":"2025-07-22 22:47:27"}
{"credential_type":"password","host_id":1,"host_ip":"adassad","host_name":"","level":"debug","msg":"准备主机连接信息","time":"2025-07-22 22:47:27"}
{"level":"debug","msg":"主机信息准备完成","time":"2025-07-22 22:47:27","total_prepared":2,"total_requested":2}
{"host_id":2,"level":"debug","msg":"ansible_facts 字段数量: 109","time":"2025-07-22 22:47:34"}
{"host_id":2,"level":"debug","msg":"找到字段: ansible_interfaces","time":"2025-07-22 22:47:34"}
{"host_id":2,"level":"debug","msg":"找到字段: ansible_mounts","time":"2025-07-22 22:47:34"}
{"host_id":2,"level":"info","msg":"更新主机系统信息成功","time":"2025-07-22 22:47:34"}
{"host_id":1,"level":"warning","msg":"主机信息收集失败，跳过更新","time":"2025-07-22 22:47:34"}
{"consumer_id":1,"level":"info","msg":"任务执行成功","source":"api","task_id":"a97c713e-dee3-451e-b6cf-5198c33786b1","task_type":"collect","tenant_id":1,"tenant_name":"默认租户","time":"2025-07-22 22:47:34","user_id":1,"username":"admin","worker_id":"test-worker-001"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-22 22:47:35"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-22 22:49:13"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-22 22:49:35"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-22 22:51:13"}
{"level":"info","msg":"收到退出信号，正在停止Worker...","time":"2025-07-22 22:51:31"}
{"level":"info","msg":"开始停止Worker","time":"2025-07-22 22:51:31"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-22 22:51:35"}
{"consumer_id":0,"level":"info","msg":"任务消费者收到退出信号","time":"2025-07-22 22:51:36","worker_id":"test-worker-001"}
{"consumer_id":1,"level":"info","msg":"任务消费者收到退出信号","time":"2025-07-22 22:51:36","worker_id":"test-worker-001"}
{"level":"info","msg":"所有任务已完成","time":"2025-07-22 22:51:36"}
{"level":"info","msg":"Worker已停止","time":"2025-07-22 22:51:36"}
{"level":"info","msg":"Worker已优雅停止","time":"2025-07-22 22:51:36"}
{"consumer_id":0,"level":"info","msg":"开始处理任务","source":"api","task_id":"ad40021f-58ea-4fca-96b3-546102bf4220","task_type":"collect","tenant_id":1,"tenant_name":"默认租户","time":"2025-07-22 22:51:40","user_id":1,"username":"admin","worker_id":"test-worker-001"}
{"count":2,"host_ids":[2,1],"level":"debug","msg":"开始查询主机信息","tenant_id":1,"time":"2025-07-22 22:51:40"}
{"credential_type":"password","host_id":2,"host_ip":"127.0.0.1","host_name":"development","level":"debug","msg":"准备主机连接信息","time":"2025-07-22 22:51:40"}
{"credential_type":"password","host_id":1,"host_ip":"adassad","host_name":"","level":"debug","msg":"准备主机连接信息","time":"2025-07-22 22:51:40"}
{"level":"debug","msg":"主机信息准备完成","time":"2025-07-22 22:51:40","total_prepared":2,"total_requested":2}
{"level":"info","master_url":"http://localhost:8080","msg":"启动AHOP Worker","time":"2025-07-22 22:51:41","version":"1.0.0","worker_name":"AHOP Worker on development"}
{"level":"info","msg":"使用配置的worker_id","time":"2025-07-22 22:51:41","worker_id":"test-worker-001"}
{"level":"info","master_url":"http://localhost:8080","msg":"Worker认证成功，获得数据库和Redis凭据","time":"2025-07-22 22:51:41","worker_id":"test-worker-001"}
{"executors":2,"level":"info","msg":"已注册任务执行器","time":"2025-07-22 22:51:41"}
{"concurrency":2,"level":"info","msg":"Worker启动成功","time":"2025-07-22 22:51:41","worker_id":"test-worker-001"}
{"level":"info","msg":"Worker启动成功，正在等待任务...","time":"2025-07-22 22:51:41"}
{"consumer_id":1,"level":"info","msg":"任务消费者启动","time":"2025-07-22 22:51:41","worker_id":"test-worker-001"}
{"consumer_id":0,"level":"info","msg":"任务消费者启动","time":"2025-07-22 22:51:41","worker_id":"test-worker-001"}
{"host_id":2,"level":"debug","msg":"ansible_facts 字段数量: 109","time":"2025-07-22 22:51:46"}
{"host_id":2,"level":"debug","msg":"找到字段: ansible_interfaces","time":"2025-07-22 22:51:46"}
{"host_id":2,"level":"debug","msg":"找到字段: ansible_mounts","time":"2025-07-22 22:51:46"}
{"host_id":2,"level":"info","msg":"更新主机系统信息成功","time":"2025-07-22 22:51:46"}
{"host_id":1,"level":"warning","msg":"主机信息收集失败，跳过更新","time":"2025-07-22 22:51:46"}
{"consumer_id":0,"level":"info","msg":"任务执行成功","source":"api","task_id":"ad40021f-58ea-4fca-96b3-546102bf4220","task_type":"collect","tenant_id":1,"tenant_name":"默认租户","time":"2025-07-22 22:51:46","user_id":1,"username":"admin","worker_id":"test-worker-001"}
{"level":"info","msg":"收到退出信号，正在停止Worker...","time":"2025-07-22 22:53:24"}
{"level":"info","msg":"开始停止Worker","time":"2025-07-22 22:53:24"}
{"consumer_id":0,"level":"info","msg":"任务消费者收到退出信号","time":"2025-07-22 22:53:32","worker_id":"test-worker-001"}
{"consumer_id":1,"level":"info","msg":"任务消费者收到退出信号","time":"2025-07-22 22:53:32","worker_id":"test-worker-001"}
{"level":"info","msg":"所有任务已完成","time":"2025-07-22 22:53:32"}
{"level":"info","msg":"Worker已停止","time":"2025-07-22 22:53:32"}
{"level":"info","msg":"Worker已优雅停止","time":"2025-07-22 22:53:32"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-22 22:53:35"}
{"level":"info","master_url":"http://localhost:8080","msg":"启动AHOP Worker","time":"2025-07-22 22:53:54","version":"1.0.0","worker_name":"AHOP Worker on development"}
{"level":"info","msg":"使用配置的worker_id","time":"2025-07-22 22:53:54","worker_id":"test-worker-001"}
{"level":"info","master_url":"http://localhost:8080","msg":"Worker认证成功，获得数据库和Redis凭据","time":"2025-07-22 22:53:54","worker_id":"test-worker-001"}
{"executors":2,"level":"info","msg":"已注册任务执行器","time":"2025-07-22 22:53:54"}
{"concurrency":2,"level":"info","msg":"Worker启动成功","time":"2025-07-22 22:53:54","worker_id":"test-worker-001"}
{"level":"info","msg":"Worker启动成功，正在等待任务...","time":"2025-07-22 22:53:54"}
{"consumer_id":0,"level":"info","msg":"任务消费者启动","time":"2025-07-22 22:53:54","worker_id":"test-worker-001"}
{"consumer_id":1,"level":"info","msg":"任务消费者启动","time":"2025-07-22 22:53:54","worker_id":"test-worker-001"}
{"consumer_id":1,"level":"info","msg":"开始处理任务","source":"api","task_id":"28c53a8c-636d-4221-9648-174a0658b42c","task_type":"collect","tenant_id":1,"tenant_name":"默认租户","time":"2025-07-22 22:54:08","user_id":1,"username":"admin","worker_id":"test-worker-001"}
{"count":2,"host_ids":[2,1],"level":"debug","msg":"开始查询主机信息","tenant_id":1,"time":"2025-07-22 22:54:08"}
{"credential_type":"password","host_id":2,"host_ip":"127.0.0.1","host_name":"development","level":"debug","msg":"准备主机连接信息","time":"2025-07-22 22:54:08"}
{"credential_type":"password","host_id":1,"host_ip":"adassad","host_name":"","level":"debug","msg":"准备主机连接信息","time":"2025-07-22 22:54:08"}
{"level":"debug","msg":"主机信息准备完成","time":"2025-07-22 22:54:08","total_prepared":2,"total_requested":2}
{"host_id":2,"level":"debug","msg":"ansible_facts 字段数量: 2","time":"2025-07-22 22:54:15"}
{"host_id":2,"level":"debug","msg":"没有找到挂载点信息","time":"2025-07-22 22:54:15"}
{"host_id":2,"level":"debug","msg":"没有找到网络接口信息","time":"2025-07-22 22:54:15"}
{"host_id":2,"level":"info","msg":"更新主机系统信息成功","time":"2025-07-22 22:54:15"}
{"host_id":1,"level":"warning","msg":"主机信息收集失败，跳过更新","time":"2025-07-22 22:54:15"}
{"consumer_id":1,"level":"info","msg":"任务执行成功","source":"api","task_id":"28c53a8c-636d-4221-9648-174a0658b42c","task_type":"collect","tenant_id":1,"tenant_name":"默认租户","time":"2025-07-22 22:54:15","user_id":1,"username":"admin","worker_id":"test-worker-001"}
{"level":"info","msg":"收到退出信号，正在停止Worker...","time":"2025-07-22 22:55:18"}
{"level":"info","msg":"开始停止Worker","time":"2025-07-22 22:55:18"}
{"consumer_id":0,"level":"info","msg":"任务消费者收到退出信号","time":"2025-07-22 22:55:25","worker_id":"test-worker-001"}
{"consumer_id":1,"level":"info","msg":"任务消费者收到退出信号","time":"2025-07-22 22:55:26","worker_id":"test-worker-001"}
{"level":"info","msg":"所有任务已完成","time":"2025-07-22 22:55:26"}
{"level":"info","msg":"Worker已停止","time":"2025-07-22 22:55:26"}
{"level":"info","msg":"Worker已优雅停止","time":"2025-07-22 22:55:26"}
{"consumer_id":0,"level":"info","msg":"开始处理任务","source":"api","task_id":"c07b1a4f-3017-4f1e-be57-41c1acd88fc0","task_type":"ping","tenant_id":1,"tenant_name":"默认租户","time":"2025-07-22 22:55:33","user_id":1,"username":"admin","worker_id":"test-worker-001"}
{"count":2,"host_ids":[2,1],"level":"debug","msg":"开始查询主机信息","tenant_id":1,"time":"2025-07-22 22:55:33"}
{"credential_type":"password","host_id":2,"host_ip":"127.0.0.1","host_name":"","level":"debug","msg":"准备主机连接信息","time":"2025-07-22 22:55:33"}
{"credential_type":"password","host_id":1,"host_ip":"adassad","host_name":"","level":"debug","msg":"准备主机连接信息","time":"2025-07-22 22:55:33"}
{"level":"debug","msg":"主机信息准备完成","time":"2025-07-22 22:55:33","total_prepared":2,"total_requested":2}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-22 22:55:35"}
{"host_id":2,"level":"debug","msg":"更新主机 ping 状态成功","status":"online","time":"2025-07-22 22:55:36"}
{"host_id":1,"level":"debug","msg":"更新主机 ping 状态成功","status":"offline","time":"2025-07-22 22:55:36"}
{"consumer_id":0,"level":"info","msg":"任务执行成功","source":"api","task_id":"c07b1a4f-3017-4f1e-be57-41c1acd88fc0","task_type":"ping","tenant_id":1,"tenant_name":"默认租户","time":"2025-07-22 22:55:36","user_id":1,"username":"admin","worker_id":"test-worker-001"}
{"consumer_id":0,"level":"info","msg":"开始处理任务","source":"api","task_id":"56df5b8c-fab0-49d1-861f-ecf805422249","task_type":"collect","tenant_id":1,"tenant_name":"默认租户","time":"2025-07-22 22:56:20","user_id":1,"username":"admin","worker_id":"test-worker-001"}
{"count":2,"host_ids":[2,1],"level":"debug","msg":"开始查询主机信息","tenant_id":1,"time":"2025-07-22 22:56:20"}
{"credential_type":"password","host_id":2,"host_ip":"127.0.0.1","host_name":"","level":"debug","msg":"准备主机连接信息","time":"2025-07-22 22:56:20"}
{"credential_type":"password","host_id":1,"host_ip":"adassad","host_name":"","level":"debug","msg":"准备主机连接信息","time":"2025-07-22 22:56:20"}
{"level":"debug","msg":"主机信息准备完成","time":"2025-07-22 22:56:20","total_prepared":2,"total_requested":2}
{"host_id":2,"level":"debug","msg":"ansible_facts 字段数量: 109","time":"2025-07-22 22:56:29"}
{"host_id":2,"level":"debug","msg":"找到字段: ansible_interfaces","time":"2025-07-22 22:56:29"}
{"host_id":2,"level":"debug","msg":"找到字段: ansible_mounts","time":"2025-07-22 22:56:29"}
{"host_id":2,"level":"info","msg":"更新主机系统信息成功","time":"2025-07-22 22:56:29"}
{"host_id":1,"level":"warning","msg":"主机信息收集失败，跳过更新","time":"2025-07-22 22:56:29"}
{"consumer_id":0,"level":"info","msg":"任务执行成功","source":"api","task_id":"56df5b8c-fab0-49d1-861f-ecf805422249","task_type":"collect","tenant_id":1,"tenant_name":"默认租户","time":"2025-07-22 22:56:29","user_id":1,"username":"admin","worker_id":"test-worker-001"}
{"level":"info","master_url":"http://localhost:8080","msg":"启动AHOP Worker","time":"2025-07-22 22:59:15","version":"1.0.0","worker_name":"AHOP Worker on development"}
{"level":"info","msg":"使用配置的worker_id","time":"2025-07-22 22:59:15","worker_id":"test-worker-001"}
{"level":"info","master_url":"http://localhost:8080","msg":"Worker认证成功，获得数据库和Redis凭据","time":"2025-07-22 22:59:15","worker_id":"test-worker-001"}
{"executors":2,"level":"info","msg":"已注册任务执行器","time":"2025-07-22 22:59:15"}
{"concurrency":2,"level":"info","msg":"Worker启动成功","time":"2025-07-22 22:59:15","worker_id":"test-worker-001"}
{"level":"info","msg":"Worker启动成功，正在等待任务...","time":"2025-07-22 22:59:15"}
{"consumer_id":0,"level":"info","msg":"任务消费者启动","time":"2025-07-22 22:59:15","worker_id":"test-worker-001"}
{"consumer_id":1,"level":"info","msg":"任务消费者启动","time":"2025-07-22 22:59:15","worker_id":"test-worker-001"}
{"consumer_id":0,"level":"info","msg":"开始处理任务","source":"api","task_id":"ffa452a5-cdf9-483b-860e-b696dcc077a2","task_type":"collect","tenant_id":1,"tenant_name":"默认租户","time":"2025-07-22 22:59:29","user_id":1,"username":"admin","worker_id":"test-worker-001"}
{"count":2,"host_ids":[2,1],"level":"debug","msg":"开始查询主机信息","tenant_id":1,"time":"2025-07-22 22:59:29"}
{"credential_type":"password","host_id":1,"host_ip":"adassad","host_name":"","level":"debug","msg":"准备主机连接信息","time":"2025-07-22 22:59:29"}
{"credential_type":"password","host_id":2,"host_ip":"127.0.0.1","host_name":"development","level":"debug","msg":"准备主机连接信息","time":"2025-07-22 22:59:29"}
{"level":"debug","msg":"主机信息准备完成","time":"2025-07-22 22:59:29","total_prepared":2,"total_requested":2}
{"host_id":1,"level":"warning","msg":"主机信息收集失败，跳过更新","time":"2025-07-22 22:59:37"}
{"host_id":2,"level":"debug","msg":"ansible_facts 字段数量: 2","time":"2025-07-22 22:59:37"}
{"host_id":2,"level":"debug","msg":"没有找到挂载点信息","time":"2025-07-22 22:59:37"}
{"host_id":2,"level":"debug","msg":"没有找到网络接口信息","time":"2025-07-22 22:59:37"}
{"host_id":2,"level":"info","msg":"更新主机系统信息成功","time":"2025-07-22 22:59:37"}
{"consumer_id":0,"level":"info","msg":"任务执行成功","source":"api","task_id":"ffa452a5-cdf9-483b-860e-b696dcc077a2","task_type":"collect","tenant_id":1,"tenant_name":"默认租户","time":"2025-07-22 22:59:37","user_id":1,"username":"admin","worker_id":"test-worker-001"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-22 23:01:15"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-22 23:03:15"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-22 23:05:15"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-22 23:07:15"}
{"level":"info","msg":"收到退出信号，正在停止Worker...","time":"2025-07-22 23:08:14"}
{"level":"info","msg":"开始停止Worker","time":"2025-07-22 23:08:14"}
{"consumer_id":1,"level":"info","msg":"任务消费者收到退出信号","time":"2025-07-22 23:08:21","worker_id":"test-worker-001"}
{"consumer_id":0,"level":"info","msg":"任务消费者收到退出信号","time":"2025-07-22 23:08:22","worker_id":"test-worker-001"}
{"level":"info","msg":"所有任务已完成","time":"2025-07-22 23:08:22"}
{"level":"info","msg":"Worker已停止","time":"2025-07-22 23:08:22"}
{"level":"info","msg":"Worker已优雅停止","time":"2025-07-22 23:08:22"}
{"level":"info","master_url":"http://localhost:8080","msg":"启动AHOP Worker","time":"2025-07-22 23:08:27","version":"1.0.0","worker_name":"AHOP Worker on development"}
{"level":"info","msg":"使用配置的worker_id","time":"2025-07-22 23:08:27","worker_id":"test-worker-001"}
{"level":"info","master_url":"http://localhost:8080","msg":"Worker认证成功，获得数据库和Redis凭据","time":"2025-07-22 23:08:27","worker_id":"test-worker-001"}
{"executors":2,"level":"info","msg":"已注册任务执行器","time":"2025-07-22 23:08:27"}
{"concurrency":2,"level":"info","msg":"Worker启动成功","time":"2025-07-22 23:08:27","worker_id":"test-worker-001"}
{"level":"info","msg":"Worker启动成功，正在等待任务...","time":"2025-07-22 23:08:27"}
{"consumer_id":1,"level":"info","msg":"任务消费者启动","time":"2025-07-22 23:08:27","worker_id":"test-worker-001"}
{"consumer_id":0,"level":"info","msg":"任务消费者启动","time":"2025-07-22 23:08:27","worker_id":"test-worker-001"}
{"consumer_id":0,"level":"info","msg":"开始处理任务","source":"api","task_id":"9ba4ddc0-e220-4735-9285-5646ad9f5251","task_type":"collect","tenant_id":1,"tenant_name":"默认租户","time":"2025-07-22 23:08:41","user_id":1,"username":"admin","worker_id":"test-worker-001"}
{"count":2,"host_ids":[2,1],"level":"debug","msg":"开始查询主机信息","tenant_id":1,"time":"2025-07-22 23:08:41"}
{"credential_type":"password","host_id":1,"host_ip":"adassad","host_name":"","level":"debug","msg":"准备主机连接信息","time":"2025-07-22 23:08:41"}
{"credential_type":"password","host_id":2,"host_ip":"127.0.0.1","host_name":"","level":"debug","msg":"准备主机连接信息","time":"2025-07-22 23:08:41"}
{"level":"debug","msg":"主机信息准备完成","time":"2025-07-22 23:08:41","total_prepared":2,"total_requested":2}
{"host_id":1,"level":"warning","msg":"主机信息收集失败，跳过更新","time":"2025-07-22 23:08:49"}
{"host_id":2,"level":"debug","msg":"ansible_facts 字段数量: 2","time":"2025-07-22 23:08:49"}
{"host_id":2,"level":"debug","msg":"没有找到挂载点信息","time":"2025-07-22 23:08:49"}
{"host_id":2,"level":"debug","msg":"没有找到网络接口信息","time":"2025-07-22 23:08:49"}
{"host_id":2,"level":"info","msg":"更新主机系统信息成功","time":"2025-07-22 23:08:49"}
{"consumer_id":0,"level":"info","msg":"任务执行成功","source":"api","task_id":"9ba4ddc0-e220-4735-9285-5646ad9f5251","task_type":"collect","tenant_id":1,"tenant_name":"默认租户","time":"2025-07-22 23:08:49","user_id":1,"username":"admin","worker_id":"test-worker-001"}
{"level":"info","msg":"收到退出信号，正在停止Worker...","time":"2025-07-22 23:09:21"}
{"level":"info","msg":"开始停止Worker","time":"2025-07-22 23:09:21"}
{"consumer_id":1,"level":"info","msg":"任务消费者收到退出信号","time":"2025-07-22 23:09:28","worker_id":"test-worker-001"}
{"consumer_id":0,"level":"info","msg":"任务消费者收到退出信号","time":"2025-07-22 23:09:30","worker_id":"test-worker-001"}
{"level":"info","msg":"所有任务已完成","time":"2025-07-22 23:09:30"}
{"level":"info","msg":"Worker已停止","time":"2025-07-22 23:09:30"}
{"level":"info","msg":"Worker已优雅停止","time":"2025-07-22 23:09:30"}
{"level":"info","master_url":"http://localhost:8080","msg":"启动AHOP Worker","time":"2025-07-22 23:09:33","version":"1.0.0","worker_name":"AHOP Worker on development"}
{"level":"info","msg":"使用配置的worker_id","time":"2025-07-22 23:09:33","worker_id":"test-worker-001"}
{"level":"info","master_url":"http://localhost:8080","msg":"Worker认证成功，获得数据库和Redis凭据","time":"2025-07-22 23:09:34","worker_id":"test-worker-001"}
{"executors":2,"level":"info","msg":"已注册任务执行器","time":"2025-07-22 23:09:34"}
{"concurrency":2,"level":"info","msg":"Worker启动成功","time":"2025-07-22 23:09:34","worker_id":"test-worker-001"}
{"level":"info","msg":"Worker启动成功，正在等待任务...","time":"2025-07-22 23:09:34"}
{"consumer_id":1,"level":"info","msg":"任务消费者启动","time":"2025-07-22 23:09:34","worker_id":"test-worker-001"}
{"consumer_id":0,"level":"info","msg":"任务消费者启动","time":"2025-07-22 23:09:34","worker_id":"test-worker-001"}
{"consumer_id":1,"level":"info","msg":"开始处理任务","source":"api","task_id":"33231b76-6037-42a1-a618-44ef78dcfb78","task_type":"collect","tenant_id":1,"tenant_name":"默认租户","time":"2025-07-22 23:09:48","user_id":1,"username":"admin","worker_id":"test-worker-001"}
{"count":2,"host_ids":[2,1],"level":"debug","msg":"开始查询主机信息","tenant_id":1,"time":"2025-07-22 23:09:48"}
{"credential_type":"password","host_id":1,"host_ip":"adassad","host_name":"","level":"debug","msg":"准备主机连接信息","time":"2025-07-22 23:09:48"}
{"credential_type":"password","host_id":2,"host_ip":"127.0.0.1","host_name":"","level":"debug","msg":"准备主机连接信息","time":"2025-07-22 23:09:48"}
{"level":"debug","msg":"主机信息准备完成","time":"2025-07-22 23:09:48","total_prepared":2,"total_requested":2}
{"host_id":1,"level":"warning","msg":"主机信息收集失败，跳过更新","time":"2025-07-22 23:09:56"}
{"host_id":2,"level":"debug","msg":"ansible_facts 字段数量: 109","time":"2025-07-22 23:09:56"}
{"host_id":2,"level":"debug","msg":"找到字段: ansible_interfaces","time":"2025-07-22 23:09:56"}
{"host_id":2,"level":"debug","msg":"找到字段: ansible_mounts","time":"2025-07-22 23:09:56"}
{"host_id":2,"level":"info","msg":"更新主机系统信息成功","time":"2025-07-22 23:09:56"}
{"consumer_id":1,"level":"info","msg":"任务执行成功","source":"api","task_id":"33231b76-6037-42a1-a618-44ef78dcfb78","task_type":"collect","tenant_id":1,"tenant_name":"默认租户","time":"2025-07-22 23:09:56","user_id":1,"username":"admin","worker_id":"test-worker-001"}
{"consumer_id":0,"level":"info","msg":"开始处理任务","source":"api","task_id":"a28c115f-fb6a-4e21-b42d-bedd28d3a3b1","task_type":"ping","tenant_id":1,"tenant_name":"默认租户","time":"2025-07-22 23:11:09","user_id":1,"username":"admin","worker_id":"test-worker-001"}
{"count":2,"host_ids":[2,1],"level":"debug","msg":"开始查询主机信息","tenant_id":1,"time":"2025-07-22 23:11:09"}
{"credential_type":"password","host_id":1,"host_ip":"adassad","host_name":"","level":"debug","msg":"准备主机连接信息","time":"2025-07-22 23:11:09"}
{"credential_type":"password","host_id":2,"host_ip":"127.0.0.1","host_name":"development","level":"debug","msg":"准备主机连接信息","time":"2025-07-22 23:11:09"}
{"level":"debug","msg":"主机信息准备完成","time":"2025-07-22 23:11:09","total_prepared":2,"total_requested":2}
{"host_id":1,"level":"debug","msg":"更新主机 ping 状态成功","status":"offline","time":"2025-07-22 23:11:11"}
{"host_id":2,"level":"debug","msg":"更新主机 ping 状态成功","status":"online","time":"2025-07-22 23:11:11"}
{"consumer_id":0,"level":"info","msg":"任务执行成功","source":"api","task_id":"a28c115f-fb6a-4e21-b42d-bedd28d3a3b1","task_type":"ping","tenant_id":1,"tenant_name":"默认租户","time":"2025-07-22 23:11:11","user_id":1,"username":"admin","worker_id":"test-worker-001"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-22 23:11:34"}
{"level":"info","msg":"收到退出信号，正在停止Worker...","time":"2025-07-22 23:12:22"}
{"level":"info","msg":"开始停止Worker","time":"2025-07-22 23:12:22"}
{"consumer_id":1,"level":"info","msg":"任务消费者收到退出信号","time":"2025-07-22 23:12:28","worker_id":"test-worker-001"}
{"consumer_id":0,"level":"info","msg":"任务消费者收到退出信号","time":"2025-07-22 23:12:32","worker_id":"test-worker-001"}
{"level":"info","msg":"所有任务已完成","time":"2025-07-22 23:12:32"}
{"level":"info","msg":"Worker已停止","time":"2025-07-22 23:12:32"}
{"level":"info","msg":"Worker已优雅停止","time":"2025-07-22 23:12:32"}
{"level":"info","master_url":"http://localhost:8080","msg":"启动AHOP Worker","time":"2025-07-22 23:12:41","version":"1.0.0","worker_name":"AHOP Worker on development"}
{"level":"info","msg":"使用配置的worker_id","time":"2025-07-22 23:12:41","worker_id":"test-worker-001"}
{"level":"info","master_url":"http://localhost:8080","msg":"Worker认证成功，获得数据库和Redis凭据","time":"2025-07-22 23:12:41","worker_id":"test-worker-001"}
{"executors":2,"level":"info","msg":"已注册任务执行器","time":"2025-07-22 23:12:41"}
{"concurrency":2,"level":"info","msg":"Worker启动成功","time":"2025-07-22 23:12:41","worker_id":"test-worker-001"}
{"consumer_id":0,"level":"info","msg":"任务消费者启动","time":"2025-07-22 23:12:41","worker_id":"test-worker-001"}
{"level":"info","msg":"Worker启动成功，正在等待任务...","time":"2025-07-22 23:12:41"}
{"consumer_id":1,"level":"info","msg":"任务消费者启动","time":"2025-07-22 23:12:41","worker_id":"test-worker-001"}
{"consumer_id":1,"level":"info","msg":"开始处理任务","source":"api","task_id":"67122ad5-d862-4543-92f5-4980dac6ccf9","task_type":"collect","tenant_id":1,"tenant_name":"默认租户","time":"2025-07-22 23:12:45","user_id":1,"username":"admin","worker_id":"test-worker-001"}
{"count":2,"host_ids":[2,1],"level":"debug","msg":"开始查询主机信息","tenant_id":1,"time":"2025-07-22 23:12:45"}
{"credential_type":"password","host_id":1,"host_ip":"adassad","host_name":"","level":"debug","msg":"准备主机连接信息","time":"2025-07-22 23:12:45"}
{"credential_type":"password","host_id":2,"host_ip":"127.0.0.1","host_name":"development","level":"debug","msg":"准备主机连接信息","time":"2025-07-22 23:12:45"}
{"level":"debug","msg":"主机信息准备完成","time":"2025-07-22 23:12:45","total_prepared":2,"total_requested":2}
{"host_id":1,"level":"warning","msg":"主机信息收集失败，跳过更新","time":"2025-07-22 23:12:53"}
{"host_id":2,"level":"debug","msg":"ansible_facts 字段数量: 109","time":"2025-07-22 23:12:53"}
{"host_id":2,"level":"debug","msg":"找到字段: ansible_mounts","time":"2025-07-22 23:12:53"}
{"host_id":2,"level":"debug","msg":"找到字段: ansible_interfaces","time":"2025-07-22 23:12:53"}
{"host_id":2,"level":"info","msg":"更新主机系统信息成功","time":"2025-07-22 23:12:53"}
{"consumer_id":1,"level":"info","msg":"任务执行成功","source":"api","task_id":"67122ad5-d862-4543-92f5-4980dac6ccf9","task_type":"collect","tenant_id":1,"tenant_name":"默认租户","time":"2025-07-22 23:12:53","user_id":1,"username":"admin","worker_id":"test-worker-001"}
{"consumer_id":0,"level":"info","msg":"开始处理任务","source":"api","task_id":"a191365a-323b-4ece-a61e-fae08d7f2a48","task_type":"ping","tenant_id":1,"tenant_name":"默认租户","time":"2025-07-22 23:13:46","user_id":1,"username":"admin","worker_id":"test-worker-001"}
{"count":2,"host_ids":[2,1],"level":"debug","msg":"开始查询主机信息","tenant_id":1,"time":"2025-07-22 23:13:46"}
{"credential_type":"password","host_id":1,"host_ip":"adassad","host_name":"","level":"debug","msg":"准备主机连接信息","time":"2025-07-22 23:13:46"}
{"credential_type":"password","host_id":2,"host_ip":"127.0.0.1","host_name":"development","level":"debug","msg":"准备主机连接信息","time":"2025-07-22 23:13:46"}
{"level":"debug","msg":"主机信息准备完成","time":"2025-07-22 23:13:46","total_prepared":2,"total_requested":2}
{"host_id":1,"level":"debug","msg":"更新主机 ping 状态成功","status":"offline","time":"2025-07-22 23:13:49"}
{"host_id":2,"level":"debug","msg":"更新主机 ping 状态成功","status":"online","time":"2025-07-22 23:13:49"}
{"consumer_id":0,"level":"info","msg":"任务执行成功","source":"api","task_id":"a191365a-323b-4ece-a61e-fae08d7f2a48","task_type":"ping","tenant_id":1,"tenant_name":"默认租户","time":"2025-07-22 23:13:49","user_id":1,"username":"admin","worker_id":"test-worker-001"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-22 23:14:41"}
{"level":"info","msg":"收到退出信号，正在停止Worker...","time":"2025-07-22 23:16:33"}
{"level":"info","msg":"开始停止Worker","time":"2025-07-22 23:16:33"}
{"consumer_id":1,"level":"info","msg":"任务消费者收到退出信号","time":"2025-07-22 23:16:35","worker_id":"test-worker-001"}
{"consumer_id":0,"level":"info","msg":"任务消费者收到退出信号","time":"2025-07-22 23:16:41","worker_id":"test-worker-001"}
{"level":"info","msg":"所有任务已完成","time":"2025-07-22 23:16:41"}
{"level":"info","msg":"Worker已停止","time":"2025-07-22 23:16:41"}
{"level":"info","msg":"Worker已优雅停止","time":"2025-07-22 23:16:41"}
{"level":"info","master_url":"http://localhost:8080","msg":"启动AHOP Worker","time":"2025-07-22 23:16:47","version":"1.0.0","worker_name":"AHOP Worker on development"}
{"level":"info","msg":"使用配置的worker_id","time":"2025-07-22 23:16:47","worker_id":"test-worker-001"}
{"level":"info","master_url":"http://localhost:8080","msg":"Worker认证成功，获得数据库和Redis凭据","time":"2025-07-22 23:16:47","worker_id":"test-worker-001"}
{"executors":2,"level":"info","msg":"已注册任务执行器","time":"2025-07-22 23:16:47"}
{"concurrency":2,"level":"info","msg":"Worker启动成功","time":"2025-07-22 23:16:47","worker_id":"test-worker-001"}
{"consumer_id":0,"level":"info","msg":"任务消费者启动","time":"2025-07-22 23:16:47","worker_id":"test-worker-001"}
{"consumer_id":1,"level":"info","msg":"任务消费者启动","time":"2025-07-22 23:16:47","worker_id":"test-worker-001"}
{"level":"info","msg":"Worker启动成功，正在等待任务...","time":"2025-07-22 23:16:47"}
{"consumer_id":0,"level":"info","msg":"开始处理任务","source":"api","task_id":"47b35983-b4cf-4824-a3f6-6743b1d322ac","task_type":"collect","tenant_id":1,"tenant_name":"默认租户","time":"2025-07-22 23:17:01","user_id":1,"username":"admin","worker_id":"test-worker-001"}
{"count":2,"host_ids":[2,1],"level":"debug","msg":"开始查询主机信息","tenant_id":1,"time":"2025-07-22 23:17:01"}
{"credential_type":"password","host_id":1,"host_ip":"adassad","host_name":"","level":"debug","msg":"准备主机连接信息","time":"2025-07-22 23:17:01"}
{"credential_type":"password","host_id":2,"host_ip":"127.0.0.1","host_name":"development","level":"debug","msg":"准备主机连接信息","time":"2025-07-22 23:17:01"}
{"level":"debug","msg":"主机信息准备完成","time":"2025-07-22 23:17:01","total_prepared":2,"total_requested":2}
{"host_id":1,"level":"warning","msg":"主机信息收集失败，跳过更新","time":"2025-07-22 23:17:10"}
{"host_id":2,"level":"debug","msg":"ansible_facts 字段数量: 109","time":"2025-07-22 23:17:10"}
{"host_id":2,"level":"debug","msg":"找到字段: ansible_mounts","time":"2025-07-22 23:17:10"}
{"host_id":2,"level":"debug","msg":"找到字段: ansible_interfaces","time":"2025-07-22 23:17:10"}
{"host_id":2,"level":"info","msg":"更新主机系统信息成功","time":"2025-07-22 23:17:10"}
{"consumer_id":0,"level":"info","msg":"任务执行成功","source":"api","task_id":"47b35983-b4cf-4824-a3f6-6743b1d322ac","task_type":"collect","tenant_id":1,"tenant_name":"默认租户","time":"2025-07-22 23:17:10","user_id":1,"username":"admin","worker_id":"test-worker-001"}
{"consumer_id":0,"level":"info","msg":"开始处理任务","source":"api","task_id":"5bd04781-62f8-407e-9f3f-28374715d768","task_type":"ping","tenant_id":1,"tenant_name":"默认租户","time":"2025-07-22 23:17:54","user_id":1,"username":"admin","worker_id":"test-worker-001"}
{"count":2,"host_ids":[2,1],"level":"debug","msg":"开始查询主机信息","tenant_id":1,"time":"2025-07-22 23:17:54"}
{"credential_type":"password","host_id":1,"host_ip":"adassad","host_name":"","level":"debug","msg":"准备主机连接信息","time":"2025-07-22 23:17:54"}
{"credential_type":"password","host_id":2,"host_ip":"127.0.0.1","host_name":"development","level":"debug","msg":"准备主机连接信息","time":"2025-07-22 23:17:54"}
{"level":"debug","msg":"主机信息准备完成","time":"2025-07-22 23:17:54","total_prepared":2,"total_requested":2}
{"host_id":1,"level":"debug","msg":"更新主机 ping 状态成功","status":"offline","time":"2025-07-22 23:17:56"}
{"host_id":2,"level":"debug","msg":"更新主机 ping 状态成功","status":"online","time":"2025-07-22 23:17:56"}
{"consumer_id":0,"level":"info","msg":"任务执行成功","source":"api","task_id":"5bd04781-62f8-407e-9f3f-28374715d768","task_type":"ping","tenant_id":1,"tenant_name":"默认租户","time":"2025-07-22 23:17:56","user_id":1,"username":"admin","worker_id":"test-worker-001"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-22 23:18:47"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-22 23:20:47"}
{"level":"info","msg":"收到退出信号，正在停止Worker...","time":"2025-07-22 23:22:24"}
{"level":"info","msg":"开始停止Worker","time":"2025-07-22 23:22:24"}
{"consumer_id":0,"level":"info","msg":"任务消费者收到退出信号","time":"2025-07-22 23:22:30","worker_id":"test-worker-001"}
{"consumer_id":1,"level":"info","msg":"任务消费者收到退出信号","time":"2025-07-22 23:22:31","worker_id":"test-worker-001"}
{"level":"info","msg":"所有任务已完成","time":"2025-07-22 23:22:31"}
{"level":"info","msg":"Worker已停止","time":"2025-07-22 23:22:31"}
{"level":"info","msg":"Worker已优雅停止","time":"2025-07-22 23:22:31"}
{"level":"info","master_url":"http://localhost:8080","msg":"启动AHOP Worker","time":"2025-07-22 23:22:32","version":"1.0.0","worker_name":"AHOP Worker on development"}
{"level":"info","msg":"使用配置的worker_id","time":"2025-07-22 23:22:32","worker_id":"test-worker-001"}
{"level":"info","master_url":"http://localhost:8080","msg":"Worker认证成功，获得数据库和Redis凭据","time":"2025-07-22 23:22:32","worker_id":"test-worker-001"}
{"executors":2,"level":"info","msg":"已注册任务执行器","time":"2025-07-22 23:22:32"}
{"concurrency":2,"level":"info","msg":"Worker启动成功","time":"2025-07-22 23:22:32","worker_id":"test-worker-001"}
{"level":"info","msg":"Worker启动成功，正在等待任务...","time":"2025-07-22 23:22:32"}
{"consumer_id":0,"level":"info","msg":"任务消费者启动","time":"2025-07-22 23:22:32","worker_id":"test-worker-001"}
{"consumer_id":1,"level":"info","msg":"任务消费者启动","time":"2025-07-22 23:22:32","worker_id":"test-worker-001"}
{"consumer_id":1,"level":"info","msg":"开始处理任务","source":"api","task_id":"87d253a3-1242-4c60-ba31-7ee6a32615bb","task_type":"ping","tenant_id":1,"tenant_name":"默认租户","time":"2025-07-22 23:22:36","user_id":1,"username":"admin","worker_id":"test-worker-001"}
{"count":2,"host_ids":[2,1],"level":"debug","msg":"开始查询主机信息","tenant_id":1,"time":"2025-07-22 23:22:36"}
{"credential_type":"password","host_id":1,"host_ip":"adassad","host_name":"","level":"debug","msg":"准备主机连接信息","time":"2025-07-22 23:22:36"}
{"credential_type":"password","host_id":2,"host_ip":"127.0.0.1","host_name":"development","level":"debug","msg":"准备主机连接信息","time":"2025-07-22 23:22:36"}
{"level":"debug","msg":"主机信息准备完成","time":"2025-07-22 23:22:36","total_prepared":2,"total_requested":2}
{"host_id":1,"level":"debug","msg":"更新主机 ping 状态成功","status":"offline","time":"2025-07-22 23:22:39"}
{"host_id":2,"level":"debug","msg":"更新主机 ping 状态成功","status":"online","time":"2025-07-22 23:22:39"}
{"consumer_id":1,"level":"info","msg":"任务执行成功","source":"api","task_id":"87d253a3-1242-4c60-ba31-7ee6a32615bb","task_type":"ping","tenant_id":1,"tenant_name":"默认租户","time":"2025-07-22 23:22:39","user_id":1,"username":"admin","worker_id":"test-worker-001"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-22 23:24:32"}
{"level":"info","msg":"收到退出信号，正在停止Worker...","time":"2025-07-22 23:24:36"}
{"level":"info","msg":"开始停止Worker","time":"2025-07-22 23:24:36"}
{"consumer_id":1,"level":"info","msg":"任务消费者收到退出信号","time":"2025-07-22 23:24:40","worker_id":"test-worker-001"}
{"consumer_id":0,"level":"info","msg":"任务消费者收到退出信号","time":"2025-07-22 23:24:43","worker_id":"test-worker-001"}
{"level":"info","msg":"所有任务已完成","time":"2025-07-22 23:24:43"}
{"level":"info","msg":"Worker已停止","time":"2025-07-22 23:24:43"}
{"level":"info","msg":"Worker已优雅停止","time":"2025-07-22 23:24:43"}
{"level":"info","master_url":"http://localhost:8080","msg":"启动AHOP Worker","time":"2025-07-22 23:24:50","version":"1.0.0","worker_name":"AHOP Worker on development"}
{"level":"info","msg":"使用配置的worker_id","time":"2025-07-22 23:24:50","worker_id":"test-worker-001"}
{"level":"info","master_url":"http://localhost:8080","msg":"Worker认证成功，获得数据库和Redis凭据","time":"2025-07-22 23:24:50","worker_id":"test-worker-001"}
{"executors":2,"level":"info","msg":"已注册任务执行器","time":"2025-07-22 23:24:50"}
{"concurrency":2,"level":"info","msg":"Worker启动成功","time":"2025-07-22 23:24:50","worker_id":"test-worker-001"}
{"level":"info","msg":"Worker启动成功，正在等待任务...","time":"2025-07-22 23:24:50"}
{"consumer_id":1,"level":"info","msg":"任务消费者启动","time":"2025-07-22 23:24:50","worker_id":"test-worker-001"}
{"consumer_id":0,"level":"info","msg":"任务消费者启动","time":"2025-07-22 23:24:50","worker_id":"test-worker-001"}
{"consumer_id":0,"level":"info","msg":"开始处理任务","source":"api","task_id":"74c83e5a-0623-44b3-b959-696a88cdb8ce","task_type":"ping","tenant_id":1,"tenant_name":"默认租户","time":"2025-07-22 23:24:54","user_id":1,"username":"admin","worker_id":"test-worker-001"}
{"count":2,"host_ids":[2,1],"level":"debug","msg":"开始查询主机信息","tenant_id":1,"time":"2025-07-22 23:24:54"}
{"credential_type":"password","host_id":2,"host_ip":"127.0.0.1","host_name":"development","level":"debug","msg":"准备主机连接信息","time":"2025-07-22 23:24:54"}
{"credential_type":"password","host_id":1,"host_ip":"adassad","host_name":"","level":"debug","msg":"准备主机连接信息","time":"2025-07-22 23:24:54"}
{"level":"debug","msg":"主机信息准备完成","time":"2025-07-22 23:24:54","total_prepared":2,"total_requested":2}
{"host_id":2,"level":"debug","msg":"更新主机 ping 状态成功","status":"online","time":"2025-07-22 23:24:57"}
{"host_id":1,"level":"debug","msg":"更新主机 ping 状态成功","status":"offline","time":"2025-07-22 23:24:57"}
{"consumer_id":0,"level":"info","msg":"任务执行成功","source":"api","task_id":"74c83e5a-0623-44b3-b959-696a88cdb8ce","task_type":"ping","tenant_id":1,"tenant_name":"默认租户","time":"2025-07-22 23:24:57","user_id":1,"username":"admin","worker_id":"test-worker-001"}
{"level":"info","msg":"收到退出信号，正在停止Worker...","time":"2025-07-22 23:26:21"}
{"level":"info","msg":"开始停止Worker","time":"2025-07-22 23:26:21"}
{"consumer_id":1,"level":"info","msg":"任务消费者收到退出信号","time":"2025-07-22 23:26:21","worker_id":"test-worker-001"}
{"consumer_id":0,"level":"info","msg":"任务消费者收到退出信号","time":"2025-07-22 23:26:28","worker_id":"test-worker-001"}
{"level":"info","msg":"所有任务已完成","time":"2025-07-22 23:26:28"}
{"level":"info","msg":"Worker已停止","time":"2025-07-22 23:26:28"}
{"level":"info","msg":"Worker已优雅停止","time":"2025-07-22 23:26:28"}
{"level":"info","master_url":"http://localhost:8080","msg":"启动AHOP Worker","time":"2025-07-22 23:28:21","version":"1.0.0","worker_name":"AHOP Worker on development"}
{"level":"info","msg":"使用配置的worker_id","time":"2025-07-22 23:28:21","worker_id":"test-worker-001"}
{"level":"info","master_url":"http://localhost:8080","msg":"Worker认证成功，获得数据库和Redis凭据","time":"2025-07-22 23:28:21","worker_id":"test-worker-001"}
{"executors":2,"level":"info","msg":"已注册任务执行器","time":"2025-07-22 23:28:21"}
{"concurrency":2,"level":"info","msg":"Worker启动成功","time":"2025-07-22 23:28:21","worker_id":"test-worker-001"}
{"level":"info","msg":"Worker启动成功，正在等待任务...","time":"2025-07-22 23:28:21"}
{"consumer_id":0,"level":"info","msg":"任务消费者启动","time":"2025-07-22 23:28:21","worker_id":"test-worker-001"}
{"consumer_id":1,"level":"info","msg":"任务消费者启动","time":"2025-07-22 23:28:21","worker_id":"test-worker-001"}
{"consumer_id":1,"level":"info","msg":"开始处理任务","source":"api","task_id":"052d74da-87c5-490f-ab45-868c47b54118","task_type":"ping","tenant_id":1,"tenant_name":"默认租户","time":"2025-07-22 23:28:25","user_id":1,"username":"admin","worker_id":"test-worker-001"}
{"count":2,"host_ids":[2,1],"level":"debug","msg":"开始查询主机信息","tenant_id":1,"time":"2025-07-22 23:28:25"}
{"credential_type":"password","host_id":2,"host_ip":"127.0.0.1","host_name":"development","level":"debug","msg":"准备主机连接信息","time":"2025-07-22 23:28:25"}
{"credential_type":"password","host_id":1,"host_ip":"adassad","host_name":"","level":"debug","msg":"准备主机连接信息","time":"2025-07-22 23:28:25"}
{"level":"debug","msg":"主机信息准备完成","time":"2025-07-22 23:28:25","total_prepared":2,"total_requested":2}
{"host_id":2,"level":"debug","msg":"更新主机 ping 状态成功","status":"online","time":"2025-07-22 23:28:27"}
{"host_id":1,"level":"debug","msg":"更新主机 ping 状态成功","status":"offline","time":"2025-07-22 23:28:27"}
{"consumer_id":1,"level":"info","msg":"任务执行成功","source":"api","task_id":"052d74da-87c5-490f-ab45-868c47b54118","task_type":"ping","tenant_id":1,"tenant_name":"默认租户","time":"2025-07-22 23:28:27","user_id":1,"username":"admin","worker_id":"test-worker-001"}
{"level":"info","msg":"收到退出信号，正在停止Worker...","time":"2025-07-22 23:28:52"}
{"level":"info","msg":"开始停止Worker","time":"2025-07-22 23:28:52"}
{"consumer_id":1,"level":"info","msg":"任务消费者收到退出信号","time":"2025-07-22 23:28:58","worker_id":"test-worker-001"}
{"consumer_id":0,"level":"info","msg":"任务消费者收到退出信号","time":"2025-07-22 23:29:01","worker_id":"test-worker-001"}
{"level":"info","msg":"所有任务已完成","time":"2025-07-22 23:29:01"}
{"level":"info","msg":"Worker已停止","time":"2025-07-22 23:29:01"}
{"level":"info","msg":"Worker已优雅停止","time":"2025-07-22 23:29:01"}
{"level":"info","master_url":"http://localhost:8080","msg":"启动AHOP Worker","time":"2025-07-22 23:29:05","version":"1.0.0","worker_name":"AHOP Worker on development"}
{"level":"info","msg":"使用配置的worker_id","time":"2025-07-22 23:29:05","worker_id":"test-worker-001"}
{"level":"info","master_url":"http://localhost:8080","msg":"Worker认证成功，获得数据库和Redis凭据","time":"2025-07-22 23:29:05","worker_id":"test-worker-001"}
{"executors":2,"level":"info","msg":"已注册任务执行器","time":"2025-07-22 23:29:05"}
{"concurrency":2,"level":"info","msg":"Worker启动成功","time":"2025-07-22 23:29:05","worker_id":"test-worker-001"}
{"level":"info","msg":"Worker启动成功，正在等待任务...","time":"2025-07-22 23:29:05"}
{"consumer_id":0,"level":"info","msg":"任务消费者启动","time":"2025-07-22 23:29:05","worker_id":"test-worker-001"}
{"consumer_id":1,"level":"info","msg":"任务消费者启动","time":"2025-07-22 23:29:05","worker_id":"test-worker-001"}
{"consumer_id":0,"level":"info","msg":"开始处理任务","source":"api","task_id":"126b529f-0287-4cc7-a43b-7a638771c814","task_type":"ping","tenant_id":1,"tenant_name":"默认租户","time":"2025-07-22 23:29:09","user_id":1,"username":"admin","worker_id":"test-worker-001"}
{"count":2,"host_ids":[2,1],"level":"debug","msg":"开始查询主机信息","tenant_id":1,"time":"2025-07-22 23:29:09"}
{"credential_type":"password","host_id":2,"host_ip":"127.0.0.1","host_name":"development","level":"debug","msg":"准备主机连接信息","time":"2025-07-22 23:29:09"}
{"credential_type":"password","host_id":1,"host_ip":"adassad","host_name":"","level":"debug","msg":"准备主机连接信息","time":"2025-07-22 23:29:09"}
{"level":"debug","msg":"主机信息准备完成","time":"2025-07-22 23:29:09","total_prepared":2,"total_requested":2}
{"host_id":2,"level":"debug","msg":"更新主机 ping 状态成功","status":"online","time":"2025-07-22 23:29:11"}
{"host_id":1,"level":"debug","msg":"更新主机 ping 状态成功","status":"offline","time":"2025-07-22 23:29:11"}
{"consumer_id":0,"level":"info","msg":"任务执行成功","source":"api","task_id":"126b529f-0287-4cc7-a43b-7a638771c814","task_type":"ping","tenant_id":1,"tenant_name":"默认租户","time":"2025-07-22 23:29:11","user_id":1,"username":"admin","worker_id":"test-worker-001"}
{"level":"info","msg":"收到退出信号，正在停止Worker...","time":"2025-07-22 23:29:31"}
{"level":"info","msg":"开始停止Worker","time":"2025-07-22 23:29:31"}
{"consumer_id":0,"level":"info","msg":"任务消费者收到退出信号","time":"2025-07-22 23:29:32","worker_id":"test-worker-001"}
{"consumer_id":1,"level":"info","msg":"任务消费者收到退出信号","time":"2025-07-22 23:29:36","worker_id":"test-worker-001"}
{"level":"info","msg":"所有任务已完成","time":"2025-07-22 23:29:36"}
{"level":"info","msg":"Worker已停止","time":"2025-07-22 23:29:36"}
{"level":"info","msg":"Worker已优雅停止","time":"2025-07-22 23:29:36"}
{"level":"info","master_url":"http://localhost:8080","msg":"启动AHOP Worker","time":"2025-07-22 23:29:40","version":"1.0.0","worker_name":"AHOP Worker on development"}
{"level":"info","msg":"使用配置的worker_id","time":"2025-07-22 23:29:40","worker_id":"test-worker-001"}
{"level":"info","master_url":"http://localhost:8080","msg":"Worker认证成功，获得数据库和Redis凭据","time":"2025-07-22 23:29:40","worker_id":"test-worker-001"}
{"executors":2,"level":"info","msg":"已注册任务执行器","time":"2025-07-22 23:29:40"}
{"concurrency":2,"level":"info","msg":"Worker启动成功","time":"2025-07-22 23:29:40","worker_id":"test-worker-001"}
{"level":"info","msg":"Worker启动成功，正在等待任务...","time":"2025-07-22 23:29:40"}
{"consumer_id":0,"level":"info","msg":"任务消费者启动","time":"2025-07-22 23:29:40","worker_id":"test-worker-001"}
{"consumer_id":1,"level":"info","msg":"任务消费者启动","time":"2025-07-22 23:29:40","worker_id":"test-worker-001"}
{"consumer_id":0,"level":"info","msg":"开始处理任务","source":"api","task_id":"a8882f92-3535-4a5f-b2ec-be6b21de066d","task_type":"ping","tenant_id":1,"tenant_name":"默认租户","time":"2025-07-22 23:29:44","user_id":1,"username":"admin","worker_id":"test-worker-001"}
{"count":2,"host_ids":[2,1],"level":"debug","msg":"开始查询主机信息","tenant_id":1,"time":"2025-07-22 23:29:44"}
{"credential_type":"password","host_id":2,"host_ip":"127.0.0.1","host_name":"development","level":"debug","msg":"准备主机连接信息","time":"2025-07-22 23:29:44"}
{"credential_type":"password","host_id":1,"host_ip":"adassad","host_name":"","level":"debug","msg":"准备主机连接信息","time":"2025-07-22 23:29:44"}
{"level":"debug","msg":"主机信息准备完成","time":"2025-07-22 23:29:44","total_prepared":2,"total_requested":2}
{"host_id":1,"level":"debug","msg":"更新主机 ping 状态成功","status":"offline","time":"2025-07-22 23:29:46"}
{"host_id":2,"level":"debug","msg":"更新主机 ping 状态成功","status":"online","time":"2025-07-22 23:29:46"}
{"consumer_id":0,"level":"info","msg":"任务执行成功","source":"api","task_id":"a8882f92-3535-4a5f-b2ec-be6b21de066d","task_type":"ping","tenant_id":1,"tenant_name":"默认租户","time":"2025-07-22 23:29:46","user_id":1,"username":"admin","worker_id":"test-worker-001"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-22 23:31:40"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-22 23:33:40"}
{"level":"info","msg":"收到退出信号，正在停止Worker...","time":"2025-07-22 23:33:58"}
{"level":"info","msg":"开始停止Worker","time":"2025-07-22 23:33:58"}
{"consumer_id":0,"level":"info","msg":"任务消费者收到退出信号","time":"2025-07-22 23:33:59","worker_id":"test-worker-001"}
{"consumer_id":1,"level":"info","msg":"任务消费者收到退出信号","time":"2025-07-22 23:34:03","worker_id":"test-worker-001"}
{"level":"info","msg":"所有任务已完成","time":"2025-07-22 23:34:03"}
{"level":"info","msg":"Worker已停止","time":"2025-07-22 23:34:03"}
{"level":"info","msg":"Worker已优雅停止","time":"2025-07-22 23:34:03"}
{"level":"info","master_url":"http://localhost:8080","msg":"启动AHOP Worker","time":"2025-07-22 23:34:07","version":"1.0.0","worker_name":"AHOP Worker on development"}
{"level":"info","msg":"使用配置的worker_id","time":"2025-07-22 23:34:07","worker_id":"test-worker-001"}
{"level":"info","master_url":"http://localhost:8080","msg":"Worker认证成功，获得数据库和Redis凭据","time":"2025-07-22 23:34:07","worker_id":"test-worker-001"}
{"executors":2,"level":"info","msg":"已注册任务执行器","time":"2025-07-22 23:34:07"}
{"concurrency":2,"level":"info","msg":"Worker启动成功","time":"2025-07-22 23:34:07","worker_id":"test-worker-001"}
{"level":"info","msg":"Worker启动成功，正在等待任务...","time":"2025-07-22 23:34:07"}
{"consumer_id":0,"level":"info","msg":"任务消费者启动","time":"2025-07-22 23:34:07","worker_id":"test-worker-001"}
{"consumer_id":1,"level":"info","msg":"任务消费者启动","time":"2025-07-22 23:34:07","worker_id":"test-worker-001"}
{"consumer_id":1,"level":"info","msg":"开始处理任务","source":"api","task_id":"ae343851-ba7f-4b20-b9d4-77f69c320602","task_type":"ping","tenant_id":1,"tenant_name":"默认租户","time":"2025-07-22 23:34:11","user_id":1,"username":"admin","worker_id":"test-worker-001"}
{"count":2,"host_ids":[2,1],"level":"debug","msg":"开始查询主机信息","tenant_id":1,"time":"2025-07-22 23:34:11"}
{"credential_type":"password","host_id":1,"host_ip":"adassad","host_name":"","level":"debug","msg":"准备主机连接信息","time":"2025-07-22 23:34:11"}
{"credential_type":"password","host_id":2,"host_ip":"127.0.0.1","host_name":"development","level":"debug","msg":"准备主机连接信息","time":"2025-07-22 23:34:11"}
{"level":"debug","msg":"主机信息准备完成","time":"2025-07-22 23:34:11","total_prepared":2,"total_requested":2}
{"host_id":1,"level":"debug","msg":"更新主机 ping 状态成功","status":"offline","time":"2025-07-22 23:34:14"}
{"host_id":2,"level":"debug","msg":"更新主机 ping 状态成功","status":"online","time":"2025-07-22 23:34:14"}
{"consumer_id":1,"level":"info","msg":"任务执行成功","source":"api","task_id":"ae343851-ba7f-4b20-b9d4-77f69c320602","task_type":"ping","tenant_id":1,"tenant_name":"默认租户","time":"2025-07-22 23:34:14","user_id":1,"username":"admin","worker_id":"test-worker-001"}
{"consumer_id":0,"level":"info","msg":"开始处理任务","source":"api","task_id":"4a3dba36-13f4-4c9f-997b-f68e13c06ad7","task_type":"collect","tenant_id":1,"tenant_name":"默认租户","time":"2025-07-22 23:34:42","user_id":1,"username":"admin","worker_id":"test-worker-001"}
{"count":2,"host_ids":[2,1],"level":"debug","msg":"开始查询主机信息","tenant_id":1,"time":"2025-07-22 23:34:42"}
{"credential_type":"password","host_id":1,"host_ip":"adassad","host_name":"","level":"debug","msg":"准备主机连接信息","time":"2025-07-22 23:34:42"}
{"credential_type":"password","host_id":2,"host_ip":"127.0.0.1","host_name":"development","level":"debug","msg":"准备主机连接信息","time":"2025-07-22 23:34:42"}
{"level":"debug","msg":"主机信息准备完成","time":"2025-07-22 23:34:42","total_prepared":2,"total_requested":2}
{"host_id":2,"level":"debug","msg":"ansible_facts 字段数量: 109","time":"2025-07-22 23:34:51"}
{"host_id":2,"level":"debug","msg":"找到字段: ansible_interfaces","time":"2025-07-22 23:34:51"}
{"host_id":2,"level":"debug","msg":"找到字段: ansible_mounts","time":"2025-07-22 23:34:51"}
{"host_id":2,"level":"info","msg":"更新主机系统信息成功","time":"2025-07-22 23:34:51"}
{"host_id":1,"level":"warning","msg":"主机信息收集失败，跳过更新","time":"2025-07-22 23:34:51"}
{"consumer_id":0,"level":"info","msg":"任务执行成功","source":"api","task_id":"4a3dba36-13f4-4c9f-997b-f68e13c06ad7","task_type":"collect","tenant_id":1,"tenant_name":"默认租户","time":"2025-07-22 23:34:51","user_id":1,"username":"admin","worker_id":"test-worker-001"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-22 23:36:07"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-22 23:38:07"}
{"level":"info","msg":"收到退出信号，正在停止Worker...","time":"2025-07-22 23:38:36"}
{"level":"info","msg":"开始停止Worker","time":"2025-07-22 23:38:36"}
{"consumer_id":1,"level":"info","msg":"任务消费者收到退出信号","time":"2025-07-22 23:38:36","worker_id":"test-worker-001"}
{"consumer_id":0,"level":"info","msg":"任务消费者收到退出信号","time":"2025-07-22 23:38:43","worker_id":"test-worker-001"}
{"level":"info","msg":"所有任务已完成","time":"2025-07-22 23:38:43"}
{"level":"info","msg":"Worker已停止","time":"2025-07-22 23:38:43"}
{"level":"info","msg":"Worker已优雅停止","time":"2025-07-22 23:38:43"}
{"level":"info","master_url":"http://localhost:8080","msg":"启动AHOP Worker","time":"2025-07-22 23:38:44","version":"1.0.0","worker_name":"AHOP Worker on development"}
{"level":"info","msg":"使用配置的worker_id","time":"2025-07-22 23:38:44","worker_id":"test-worker-001"}
{"level":"info","master_url":"http://localhost:8080","msg":"Worker认证成功，获得数据库和Redis凭据","time":"2025-07-22 23:38:44","worker_id":"test-worker-001"}
{"executors":2,"level":"info","msg":"已注册任务执行器","time":"2025-07-22 23:38:44"}
{"concurrency":2,"level":"info","msg":"Worker启动成功","time":"2025-07-22 23:38:44","worker_id":"test-worker-001"}
{"level":"info","msg":"Worker启动成功，正在等待任务...","time":"2025-07-22 23:38:44"}
{"consumer_id":0,"level":"info","msg":"任务消费者启动","time":"2025-07-22 23:38:44","worker_id":"test-worker-001"}
{"consumer_id":1,"level":"info","msg":"任务消费者启动","time":"2025-07-22 23:38:44","worker_id":"test-worker-001"}
{"level":"info","msg":"收到退出信号，正在停止Worker...","time":"2025-07-22 23:38:47"}
{"level":"info","msg":"开始停止Worker","time":"2025-07-22 23:38:47"}
{"consumer_id":0,"level":"info","msg":"任务消费者收到退出信号","time":"2025-07-22 23:38:54","worker_id":"test-worker-001"}
{"consumer_id":1,"level":"info","msg":"任务消费者收到退出信号","time":"2025-07-22 23:38:54","worker_id":"test-worker-001"}
{"level":"info","msg":"所有任务已完成","time":"2025-07-22 23:38:54"}
{"level":"info","msg":"Worker已停止","time":"2025-07-22 23:38:54"}
{"level":"info","msg":"Worker已优雅停止","time":"2025-07-22 23:38:54"}
{"level":"info","master_url":"http://localhost:8080","msg":"启动AHOP Worker","time":"2025-07-22 23:38:58","version":"1.0.0","worker_name":"AHOP Worker on development"}
{"level":"info","msg":"使用配置的worker_id","time":"2025-07-22 23:38:58","worker_id":"test-worker-001"}
{"level":"info","master_url":"http://localhost:8080","msg":"Worker认证成功，获得数据库和Redis凭据","time":"2025-07-22 23:38:58","worker_id":"test-worker-001"}
{"executors":2,"level":"info","msg":"已注册任务执行器","time":"2025-07-22 23:38:58"}
{"concurrency":2,"level":"info","msg":"Worker启动成功","time":"2025-07-22 23:38:58","worker_id":"test-worker-001"}
{"level":"info","msg":"Worker启动成功，正在等待任务...","time":"2025-07-22 23:38:58"}
{"consumer_id":1,"level":"info","msg":"任务消费者启动","time":"2025-07-22 23:38:58","worker_id":"test-worker-001"}
{"consumer_id":0,"level":"info","msg":"任务消费者启动","time":"2025-07-22 23:38:58","worker_id":"test-worker-001"}
{"consumer_id":0,"level":"info","msg":"开始处理任务","source":"api","task_id":"958aa022-153b-4856-b966-1dffdd615a6c","task_type":"collect","tenant_id":1,"tenant_name":"默认租户","time":"2025-07-22 23:39:03","user_id":1,"username":"admin","worker_id":"test-worker-001"}
{"count":2,"host_ids":[2,1],"level":"debug","msg":"开始查询主机信息","tenant_id":1,"time":"2025-07-22 23:39:03"}
{"credential_type":"password","host_id":1,"host_ip":"adassad","host_name":"","level":"debug","msg":"准备主机连接信息","time":"2025-07-22 23:39:03"}
{"credential_type":"password","host_id":2,"host_ip":"127.0.0.1","host_name":"development","level":"debug","msg":"准备主机连接信息","time":"2025-07-22 23:39:03"}
{"level":"debug","msg":"主机信息准备完成","time":"2025-07-22 23:39:03","total_prepared":2,"total_requested":2}
{"host_id":1,"level":"warning","msg":"主机信息收集失败，跳过更新","time":"2025-07-22 23:39:11"}
{"host_id":2,"level":"debug","msg":"ansible_facts 字段数量: 109","time":"2025-07-22 23:39:11"}
{"host_id":2,"level":"debug","msg":"找到字段: ansible_interfaces","time":"2025-07-22 23:39:11"}
{"host_id":2,"level":"debug","msg":"找到字段: ansible_mounts","time":"2025-07-22 23:39:11"}
{"host_id":2,"level":"info","msg":"更新主机系统信息成功","time":"2025-07-22 23:39:11"}
{"consumer_id":0,"level":"info","msg":"任务执行成功","source":"api","task_id":"958aa022-153b-4856-b966-1dffdd615a6c","task_type":"collect","tenant_id":1,"tenant_name":"默认租户","time":"2025-07-22 23:39:11","user_id":1,"username":"admin","worker_id":"test-worker-001"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-22 23:40:58"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-22 23:42:58"}
{"level":"info","msg":"收到退出信号，正在停止Worker...","time":"2025-07-22 23:44:09"}
{"level":"info","msg":"开始停止Worker","time":"2025-07-22 23:44:09"}
{"consumer_id":1,"level":"info","msg":"任务消费者收到退出信号","time":"2025-07-22 23:44:12","worker_id":"test-worker-001"}
{"consumer_id":0,"level":"info","msg":"任务消费者收到退出信号","time":"2025-07-22 23:44:14","worker_id":"test-worker-001"}
{"level":"info","msg":"所有任务已完成","time":"2025-07-22 23:44:14"}
{"level":"info","msg":"Worker已停止","time":"2025-07-22 23:44:14"}
{"level":"info","msg":"Worker已优雅停止","time":"2025-07-22 23:44:14"}
{"level":"info","master_url":"http://localhost:8080","msg":"启动AHOP Worker","time":"2025-07-22 23:44:15","version":"1.0.0","worker_name":"AHOP Worker on development"}
{"level":"info","msg":"使用配置的worker_id","time":"2025-07-22 23:44:15","worker_id":"test-worker-001"}
{"level":"info","master_url":"http://localhost:8080","msg":"Worker认证成功，获得数据库和Redis凭据","time":"2025-07-22 23:44:15","worker_id":"test-worker-001"}
{"executors":2,"level":"info","msg":"已注册任务执行器","time":"2025-07-22 23:44:15"}
{"concurrency":2,"level":"info","msg":"Worker启动成功","time":"2025-07-22 23:44:15","worker_id":"test-worker-001"}
{"level":"info","msg":"Worker启动成功，正在等待任务...","time":"2025-07-22 23:44:15"}
{"consumer_id":0,"level":"info","msg":"任务消费者启动","time":"2025-07-22 23:44:15","worker_id":"test-worker-001"}
{"consumer_id":1,"level":"info","msg":"任务消费者启动","time":"2025-07-22 23:44:15","worker_id":"test-worker-001"}
{"level":"info","msg":"收到退出信号，正在停止Worker...","time":"2025-07-22 23:44:18"}
{"level":"info","msg":"开始停止Worker","time":"2025-07-22 23:44:18"}
{"consumer_id":0,"level":"info","msg":"任务消费者收到退出信号","time":"2025-07-22 23:44:25","worker_id":"test-worker-001"}
{"consumer_id":1,"level":"info","msg":"任务消费者收到退出信号","time":"2025-07-22 23:44:25","worker_id":"test-worker-001"}
{"level":"info","msg":"所有任务已完成","time":"2025-07-22 23:44:25"}
{"level":"info","msg":"Worker已停止","time":"2025-07-22 23:44:25"}
{"level":"info","msg":"Worker已优雅停止","time":"2025-07-22 23:44:25"}
{"level":"info","master_url":"http://localhost:8080","msg":"启动AHOP Worker","time":"2025-07-22 23:44:29","version":"1.0.0","worker_name":"AHOP Worker on development"}
{"level":"info","msg":"使用配置的worker_id","time":"2025-07-22 23:44:29","worker_id":"test-worker-001"}
{"level":"info","master_url":"http://localhost:8080","msg":"Worker认证成功，获得数据库和Redis凭据","time":"2025-07-22 23:44:29","worker_id":"test-worker-001"}
{"executors":2,"level":"info","msg":"已注册任务执行器","time":"2025-07-22 23:44:29"}
{"concurrency":2,"level":"info","msg":"Worker启动成功","time":"2025-07-22 23:44:29","worker_id":"test-worker-001"}
{"level":"info","msg":"Worker启动成功，正在等待任务...","time":"2025-07-22 23:44:29"}
{"consumer_id":0,"level":"info","msg":"任务消费者启动","time":"2025-07-22 23:44:29","worker_id":"test-worker-001"}
{"consumer_id":1,"level":"info","msg":"任务消费者启动","time":"2025-07-22 23:44:29","worker_id":"test-worker-001"}
{"consumer_id":0,"level":"info","msg":"开始处理任务","source":"api","task_id":"6d7167e9-0b21-4b7d-9b72-ceed7a209b30","task_type":"collect","tenant_id":1,"tenant_name":"默认租户","time":"2025-07-22 23:44:44","user_id":1,"username":"admin","worker_id":"test-worker-001"}
{"count":2,"host_ids":[2,1],"level":"debug","msg":"开始查询主机信息","tenant_id":1,"time":"2025-07-22 23:44:44"}
{"credential_type":"password","host_id":1,"host_ip":"adassad","host_name":"","level":"debug","msg":"准备主机连接信息","time":"2025-07-22 23:44:44"}
{"credential_type":"password","host_id":2,"host_ip":"127.0.0.1","host_name":"development","level":"debug","msg":"准备主机连接信息","time":"2025-07-22 23:44:44"}
{"level":"debug","msg":"主机信息准备完成","time":"2025-07-22 23:44:44","total_prepared":2,"total_requested":2}
{"host_id":1,"level":"debug","msg":"ansible_facts 字段数量: 5","time":"2025-07-22 23:44:52"}
{"host_id":1,"level":"debug","msg":"没有找到挂载点信息","time":"2025-07-22 23:44:52"}
{"host_id":1,"level":"debug","msg":"没有找到网络接口信息","time":"2025-07-22 23:44:52"}
{"host_id":1,"level":"info","msg":"更新主机系统信息成功","time":"2025-07-22 23:44:52"}
{"host_id":2,"level":"debug","msg":"ansible_facts 字段数量: 109","time":"2025-07-22 23:44:52"}
{"host_id":2,"level":"debug","msg":"找到字段: ansible_interfaces","time":"2025-07-22 23:44:52"}
{"host_id":2,"level":"debug","msg":"找到字段: ansible_mounts","time":"2025-07-22 23:44:52"}
{"host_id":2,"level":"info","msg":"更新主机系统信息成功","time":"2025-07-22 23:44:52"}
{"consumer_id":0,"level":"info","msg":"任务执行成功","source":"api","task_id":"6d7167e9-0b21-4b7d-9b72-ceed7a209b30","task_type":"collect","tenant_id":1,"tenant_name":"默认租户","time":"2025-07-22 23:44:52","user_id":1,"username":"admin","worker_id":"test-worker-001"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-22 23:46:29"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-22 23:48:29"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-22 23:50:29"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-22 23:52:29"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-22 23:54:29"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-22 23:56:29"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-22 23:58:29"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-23 00:00:29"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-23 00:02:29"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-23 00:04:29"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-23 00:06:29"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-23 00:08:29"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-23 00:10:29"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-23 00:12:29"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-23 00:14:29"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-23 00:16:29"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-23 00:18:29"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-23 00:20:29"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-23 00:22:29"}
{"level":"info","msg":"收到退出信号，正在停止Worker...","time":"2025-07-23 00:22:58"}
{"level":"info","msg":"开始停止Worker","time":"2025-07-23 00:22:58"}
{"consumer_id":1,"level":"info","msg":"任务消费者收到退出信号","time":"2025-07-23 00:23:04","worker_id":"test-worker-001"}
{"consumer_id":0,"level":"info","msg":"任务消费者收到退出信号","time":"2025-07-23 00:23:06","worker_id":"test-worker-001"}
{"level":"info","msg":"所有任务已完成","time":"2025-07-23 00:23:06"}
{"level":"info","msg":"Worker已停止","time":"2025-07-23 00:23:06"}
{"level":"info","msg":"Worker已优雅停止","time":"2025-07-23 00:23:06"}
{"level":"info","master_url":"http://localhost:8080","msg":"启动AHOP Worker","time":"2025-07-24 21:40:29","version":"1.0.0","worker_name":"AHOP Worker on development"}
{"level":"info","msg":"使用配置的worker_id","time":"2025-07-24 21:40:29","worker_id":"test-worker-001"}
{"level":"info","master_url":"http://localhost:8080","msg":"Worker认证成功，获得数据库和Redis凭据","time":"2025-07-24 21:40:29","worker_id":"test-worker-001"}
{"executors":2,"level":"info","msg":"已注册任务执行器","time":"2025-07-24 21:40:29"}
{"concurrency":2,"level":"info","msg":"Worker启动成功","time":"2025-07-24 21:40:29","worker_id":"test-worker-001"}
{"level":"info","msg":"Worker启动成功，正在等待任务...","time":"2025-07-24 21:40:29"}
{"level":"info","msg":"开始清理旧的Git仓库副本...","time":"2025-07-24 21:40:29"}
{"error":"读取基础目录失败: open /data/ahop/repos: no such file or directory","level":"error","msg":"清理旧仓库失败","time":"2025-07-24 21:40:29"}
{"consumer_id":1,"level":"info","msg":"任务消费者启动","time":"2025-07-24 21:40:29","worker_id":"test-worker-001"}
{"consumer_id":0,"level":"info","msg":"任务消费者启动","time":"2025-07-24 21:40:29","worker_id":"test-worker-001"}
{"level":"info","msg":"Git同步订阅服务已启动","time":"2025-07-24 21:40:29"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-24 21:42:29"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-24 21:44:29"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-24 21:46:29"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-24 21:48:29"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-24 21:50:29"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-24 21:52:29"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-24 21:54:29"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-24 21:56:29"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-24 21:58:29"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-24 22:00:29"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-24 22:02:29"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-24 22:04:29"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-24 22:06:29"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-24 22:08:29"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-24 22:10:29"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-24 22:12:29"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-24 22:14:29"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-24 22:16:29"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-24 22:18:29"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-24 22:20:29"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-24 22:22:29"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-24 22:24:29"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-24 22:26:29"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-24 22:28:29"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-24 22:30:29"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-24 22:32:29"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-24 22:34:29"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-24 22:36:29"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-24 22:38:29"}
{"level":"info","msg":"收到退出信号，正在停止Worker...","time":"2025-07-24 22:39:47"}
{"level":"info","msg":"开始停止Worker","time":"2025-07-24 22:39:47"}
{"level":"info","msg":"Git同步订阅服务收到退出信号","time":"2025-07-24 22:39:47"}
{"level":"info","msg":"Git仓库清理服务收到退出信号","time":"2025-07-24 22:39:47"}
{"consumer_id":1,"level":"info","msg":"任务消费者收到退出信号","time":"2025-07-24 22:39:56","worker_id":"test-worker-001"}
{"consumer_id":0,"level":"info","msg":"任务消费者收到退出信号","time":"2025-07-24 22:39:56","worker_id":"test-worker-001"}
{"level":"info","msg":"所有任务已完成","time":"2025-07-24 22:39:56"}
{"level":"info","msg":"Worker已停止","time":"2025-07-24 22:39:56"}
{"level":"info","msg":"Worker已优雅停止","time":"2025-07-24 22:39:56"}
{"level":"info","master_url":"http://localhost:8080","msg":"启动AHOP Worker","time":"2025-07-24 22:40:19","version":"1.0.0","worker_name":"AHOP Worker on development"}
{"level":"info","msg":"使用配置的worker_id","time":"2025-07-24 22:40:19","worker_id":"test-worker-001"}
{"level":"info","master_url":"http://localhost:8080","msg":"Worker认证成功，获得数据库和Redis凭据","time":"2025-07-24 22:40:19","worker_id":"test-worker-001"}
{"executors":2,"level":"info","msg":"已注册任务执行器","time":"2025-07-24 22:40:19"}
{"concurrency":2,"level":"info","msg":"Worker启动成功","time":"2025-07-24 22:40:19","worker_id":"test-worker-001"}
{"level":"info","msg":"Worker启动成功，正在等待任务...","time":"2025-07-24 22:40:19"}
{"level":"info","msg":"开始清理旧的Git仓库副本...","time":"2025-07-24 22:40:19"}
{"consumer_id":1,"level":"info","msg":"任务消费者启动","time":"2025-07-24 22:40:19","worker_id":"test-worker-001"}
{"consumer_id":0,"level":"info","msg":"任务消费者启动","time":"2025-07-24 22:40:19","worker_id":"test-worker-001"}
{"level":"info","msg":"Git同步订阅服务已启动","time":"2025-07-24 22:40:19"}
{"level":"info","master_url":"http://localhost:8080","msg":"启动AHOP Worker","time":"2025-07-24 22:40:34","version":"1.0.0","worker_name":"AHOP Worker on development"}
{"level":"info","msg":"使用配置的worker_id","time":"2025-07-24 22:40:34","worker_id":"test-worker-001"}
{"level":"info","master_url":"http://localhost:8080","msg":"Worker认证成功，获得数据库和Redis凭据","time":"2025-07-24 22:40:34","worker_id":"test-worker-001"}
{"executors":2,"level":"info","msg":"已注册任务执行器","time":"2025-07-24 22:40:34"}
{"concurrency":2,"level":"info","msg":"Worker启动成功","time":"2025-07-24 22:40:34","worker_id":"test-worker-001"}
{"level":"info","msg":"Worker启动成功，正在等待任务...","time":"2025-07-24 22:40:34"}
{"level":"info","msg":"开始清理旧的Git仓库副本...","time":"2025-07-24 22:40:34"}
{"consumer_id":0,"level":"info","msg":"任务消费者启动","time":"2025-07-24 22:40:34","worker_id":"test-worker-001"}
{"consumer_id":1,"level":"info","msg":"任务消费者启动","time":"2025-07-24 22:40:34","worker_id":"test-worker-001"}
{"level":"info","msg":"Git同步订阅服务已启动","time":"2025-07-24 22:40:34"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-24 22:42:19"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-24 22:42:34"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-24 22:44:19"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-24 22:44:34"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-24 22:46:19"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-24 22:46:34"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-24 22:48:19"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-24 22:48:34"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-24 22:50:19"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-24 22:50:34"}
{"level":"info","msg":"收到退出信号，正在停止Worker...","time":"2025-07-24 22:50:35"}
{"level":"info","msg":"开始停止Worker","time":"2025-07-24 22:50:35"}
{"level":"info","msg":"Git同步订阅服务收到退出信号","time":"2025-07-24 22:50:35"}
{"level":"info","msg":"收到退出信号，正在停止Worker...","time":"2025-07-24 22:50:35"}
{"level":"info","msg":"开始停止Worker","time":"2025-07-24 22:50:35"}
{"level":"info","msg":"Git仓库清理服务收到退出信号","time":"2025-07-24 22:50:35"}
{"level":"info","msg":"Git同步订阅服务收到退出信号","time":"2025-07-24 22:50:35"}
{"level":"info","msg":"Git仓库清理服务收到退出信号","time":"2025-07-24 22:50:35"}
{"consumer_id":0,"level":"info","msg":"任务消费者收到退出信号","time":"2025-07-24 22:50:36","worker_id":"test-worker-001"}
{"consumer_id":1,"level":"info","msg":"任务消费者收到退出信号","time":"2025-07-24 22:50:36","worker_id":"test-worker-001"}
{"level":"info","msg":"所有任务已完成","time":"2025-07-24 22:50:36"}
{"level":"info","msg":"Worker已停止","time":"2025-07-24 22:50:36"}
{"level":"info","msg":"Worker已优雅停止","time":"2025-07-24 22:50:36"}
{"consumer_id":0,"level":"info","msg":"任务消费者收到退出信号","time":"2025-07-24 22:50:41","worker_id":"test-worker-001"}
{"consumer_id":1,"level":"info","msg":"任务消费者收到退出信号","time":"2025-07-24 22:50:41","worker_id":"test-worker-001"}
{"level":"info","msg":"所有任务已完成","time":"2025-07-24 22:50:41"}
{"level":"info","msg":"Worker已停止","time":"2025-07-24 22:50:41"}
{"level":"info","msg":"Worker已优雅停止","time":"2025-07-24 22:50:41"}
{"level":"info","master_url":"http://localhost:8080","msg":"启动AHOP Worker","time":"2025-07-24 22:50:44","version":"1.0.0","worker_name":"AHOP Worker on development"}
{"level":"info","msg":"使用配置的worker_id","time":"2025-07-24 22:50:44","worker_id":"test-worker-001"}
{"level":"info","master_url":"http://localhost:8080","msg":"Worker认证成功，获得数据库和Redis凭据","time":"2025-07-24 22:50:44","worker_id":"test-worker-001"}
{"executors":2,"level":"info","msg":"已注册任务执行器","time":"2025-07-24 22:50:44"}
{"concurrency":2,"level":"info","msg":"Worker启动成功","time":"2025-07-24 22:50:44","worker_id":"test-worker-001"}
{"level":"info","msg":"Worker启动成功，正在等待任务...","time":"2025-07-24 22:50:44"}
{"consumer_id":1,"level":"info","msg":"任务消费者启动","time":"2025-07-24 22:50:44","worker_id":"test-worker-001"}
{"level":"info","msg":"开始清理旧的Git仓库副本...","time":"2025-07-24 22:50:44"}
{"consumer_id":0,"level":"info","msg":"任务消费者启动","time":"2025-07-24 22:50:44","worker_id":"test-worker-001"}
{"level":"info","msg":"Git同步订阅服务已启动","time":"2025-07-24 22:50:44"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-24 22:52:44"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-24 22:54:44"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-24 22:56:44"}
{"level":"info","master_url":"http://localhost:8080","msg":"启动AHOP Worker","time":"2025-07-24 22:58:05","version":"1.0.0","worker_name":"AHOP Worker on development"}
{"level":"info","msg":"使用配置的worker_id","time":"2025-07-24 22:58:05","worker_id":"test-worker-001"}
{"level":"info","master_url":"http://localhost:8080","msg":"Worker认证成功，获得数据库和Redis凭据","time":"2025-07-24 22:58:05","worker_id":"test-worker-001"}
{"executors":2,"level":"info","msg":"已注册任务执行器","time":"2025-07-24 22:58:05"}
{"concurrency":2,"level":"info","msg":"Worker启动成功","time":"2025-07-24 22:58:05","worker_id":"test-worker-001"}
{"level":"info","msg":"Worker启动成功，正在等待任务...","time":"2025-07-24 22:58:05"}
{"consumer_id":0,"level":"info","msg":"任务消费者启动","time":"2025-07-24 22:58:05","worker_id":"test-worker-001"}
{"level":"info","msg":"开始清理旧的Git仓库副本...","time":"2025-07-24 22:58:05"}
{"consumer_id":1,"level":"info","msg":"任务消费者启动","time":"2025-07-24 22:58:05","worker_id":"test-worker-001"}
{"level":"info","msg":"Git同步订阅服务已启动","time":"2025-07-24 22:58:05"}
{"level":"info","msg":"收到退出信号，正在停止Worker...","time":"2025-07-24 22:58:29"}
{"level":"info","msg":"开始停止Worker","time":"2025-07-24 22:58:29"}
{"level":"info","msg":"Git同步订阅服务收到退出信号","time":"2025-07-24 22:58:29"}
{"level":"info","msg":"Git仓库清理服务收到退出信号","time":"2025-07-24 22:58:29"}
{"consumer_id":0,"level":"info","msg":"任务消费者收到退出信号","time":"2025-07-24 22:58:35","worker_id":"test-worker-001"}
{"consumer_id":1,"level":"info","msg":"任务消费者收到退出信号","time":"2025-07-24 22:58:35","worker_id":"test-worker-001"}
{"level":"info","msg":"所有任务已完成","time":"2025-07-24 22:58:35"}
{"level":"info","msg":"Worker已停止","time":"2025-07-24 22:58:35"}
{"level":"info","msg":"Worker已优雅停止","time":"2025-07-24 22:58:35"}
{"level":"info","master_url":"http://localhost:8080","msg":"启动AHOP Worker","time":"2025-07-24 22:59:27","version":"1.0.0","worker_name":"AHOP Worker on development"}
{"level":"info","msg":"使用配置的worker_id","time":"2025-07-24 22:59:27","worker_id":"test-worker-001"}
{"level":"info","master_url":"http://localhost:8080","msg":"Worker认证成功，获得数据库和Redis凭据","time":"2025-07-24 22:59:27","worker_id":"test-worker-001"}
{"executors":2,"level":"info","msg":"已注册任务执行器","time":"2025-07-24 22:59:27"}
{"concurrency":2,"level":"info","msg":"Worker启动成功","time":"2025-07-24 22:59:27","worker_id":"test-worker-001"}
{"level":"info","msg":"Worker启动成功，正在等待任务...","time":"2025-07-24 22:59:27"}
{"level":"info","msg":"开始清理旧的Git仓库副本...","time":"2025-07-24 22:59:27"}
{"consumer_id":1,"level":"info","msg":"任务消费者启动","time":"2025-07-24 22:59:27","worker_id":"test-worker-001"}
{"consumer_id":0,"level":"info","msg":"任务消费者启动","time":"2025-07-24 22:59:27","worker_id":"test-worker-001"}
{"level":"info","msg":"Git同步订阅服务已启动","time":"2025-07-24 22:59:27"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-24 23:01:27"}
{"level":"info","msg":"收到退出信号，正在停止Worker...","time":"2025-07-24 23:03:04"}
{"level":"info","msg":"开始停止Worker","time":"2025-07-24 23:03:04"}
{"level":"info","msg":"Git同步订阅服务收到退出信号","time":"2025-07-24 23:03:04"}
{"level":"info","msg":"Git仓库清理服务收到退出信号","time":"2025-07-24 23:03:04"}
{"consumer_id":0,"level":"info","msg":"任务消费者收到退出信号","time":"2025-07-24 23:03:10","worker_id":"test-worker-001"}
{"consumer_id":1,"level":"info","msg":"任务消费者收到退出信号","time":"2025-07-24 23:03:10","worker_id":"test-worker-001"}
{"level":"info","msg":"所有任务已完成","time":"2025-07-24 23:03:10"}
{"level":"info","msg":"Worker已停止","time":"2025-07-24 23:03:10"}
{"level":"info","msg":"Worker已优雅停止","time":"2025-07-24 23:03:10"}
{"level":"info","master_url":"http://localhost:8080","msg":"启动AHOP Worker","time":"2025-07-24 23:03:13","version":"1.0.0","worker_name":"AHOP Worker on development"}
{"level":"info","msg":"使用配置的worker_id","time":"2025-07-24 23:03:13","worker_id":"test-worker-001"}
{"level":"info","master_url":"http://localhost:8080","msg":"Worker认证成功，获得数据库和Redis凭据","time":"2025-07-24 23:03:13","worker_id":"test-worker-001"}
{"executors":2,"level":"info","msg":"已注册任务执行器","time":"2025-07-24 23:03:14"}
{"concurrency":2,"level":"info","msg":"Worker启动成功","time":"2025-07-24 23:03:14","worker_id":"test-worker-001"}
{"level":"info","msg":"Worker启动成功，正在等待任务...","time":"2025-07-24 23:03:14"}
{"consumer_id":1,"level":"info","msg":"任务消费者启动","time":"2025-07-24 23:03:14","worker_id":"test-worker-001"}
{"level":"info","msg":"开始清理旧的Git仓库副本...","time":"2025-07-24 23:03:14"}
{"consumer_id":0,"level":"info","msg":"任务消费者启动","time":"2025-07-24 23:03:14","worker_id":"test-worker-001"}
{"level":"info","msg":"Git同步订阅服务已启动","time":"2025-07-24 23:03:14"}
{"level":"info","msg":"收到退出信号，正在停止Worker...","time":"2025-07-24 23:03:15"}
{"level":"info","msg":"开始停止Worker","time":"2025-07-24 23:03:15"}
{"level":"info","msg":"Git仓库清理服务收到退出信号","time":"2025-07-24 23:03:15"}
{"level":"info","msg":"Git同步订阅服务收到退出信号","time":"2025-07-24 23:03:15"}
{"consumer_id":1,"level":"info","msg":"任务消费者收到退出信号","time":"2025-07-24 23:03:24","worker_id":"test-worker-001"}
{"consumer_id":0,"level":"info","msg":"任务消费者收到退出信号","time":"2025-07-24 23:03:24","worker_id":"test-worker-001"}
{"level":"info","msg":"所有任务已完成","time":"2025-07-24 23:03:24"}
{"level":"info","msg":"Worker已停止","time":"2025-07-24 23:03:24"}
{"level":"info","msg":"Worker已优雅停止","time":"2025-07-24 23:03:24"}
{"level":"info","master_url":"http://localhost:8080","msg":"启动AHOP Worker","time":"2025-07-24 23:03:32","version":"1.0.0","worker_name":"AHOP Worker on development"}
{"level":"info","msg":"使用配置的worker_id","time":"2025-07-24 23:03:32","worker_id":"test-worker-001"}
{"level":"info","master_url":"http://localhost:8080","msg":"Worker认证成功，获得数据库和Redis凭据","time":"2025-07-24 23:03:32","worker_id":"test-worker-001"}
{"executors":2,"level":"info","msg":"已注册任务执行器","time":"2025-07-24 23:03:32"}
{"concurrency":2,"level":"info","msg":"Worker启动成功","time":"2025-07-24 23:03:32","worker_id":"test-worker-001"}
{"level":"info","msg":"Worker启动成功，正在等待任务...","time":"2025-07-24 23:03:32"}
{"consumer_id":1,"level":"info","msg":"任务消费者启动","time":"2025-07-24 23:03:32","worker_id":"test-worker-001"}
{"level":"info","msg":"开始清理旧的Git仓库副本...","time":"2025-07-24 23:03:32"}
{"consumer_id":0,"level":"info","msg":"任务消费者启动","time":"2025-07-24 23:03:32","worker_id":"test-worker-001"}
{"level":"info","msg":"Git同步订阅服务已启动","time":"2025-07-24 23:03:32"}
{"level":"info","msg":"收到退出信号，正在停止Worker...","time":"2025-07-24 23:03:40"}
{"level":"info","msg":"开始停止Worker","time":"2025-07-24 23:03:40"}
{"level":"info","msg":"Git同步订阅服务收到退出信号","time":"2025-07-24 23:03:40"}
{"level":"info","msg":"Git仓库清理服务收到退出信号","time":"2025-07-24 23:03:40"}
{"consumer_id":1,"level":"info","msg":"任务消费者收到退出信号","time":"2025-07-24 23:03:42","worker_id":"test-worker-001"}
{"consumer_id":0,"level":"info","msg":"任务消费者收到退出信号","time":"2025-07-24 23:03:42","worker_id":"test-worker-001"}
{"level":"info","msg":"所有任务已完成","time":"2025-07-24 23:03:42"}
{"level":"info","msg":"Worker已停止","time":"2025-07-24 23:03:42"}
{"level":"info","msg":"Worker已优雅停止","time":"2025-07-24 23:03:42"}
{"level":"info","master_url":"http://localhost:8080","msg":"启动AHOP Worker","time":"2025-07-24 23:04:12","version":"1.0.0","worker_name":"AHOP Worker on development"}
{"level":"info","msg":"使用配置的worker_id","time":"2025-07-24 23:04:12","worker_id":"test-worker-001"}
{"level":"info","master_url":"http://localhost:8080","msg":"Worker认证成功，获得数据库和Redis凭据","time":"2025-07-24 23:04:12","worker_id":"test-worker-001"}
{"executors":2,"level":"info","msg":"已注册任务执行器","time":"2025-07-24 23:04:12"}
{"concurrency":2,"level":"info","msg":"Worker启动成功","time":"2025-07-24 23:04:12","worker_id":"test-worker-001"}
{"level":"info","msg":"Worker启动成功，正在等待任务...","time":"2025-07-24 23:04:12"}
{"level":"info","msg":"开始清理旧的Git仓库副本...","time":"2025-07-24 23:04:12"}
{"consumer_id":1,"level":"info","msg":"任务消费者启动","time":"2025-07-24 23:04:12","worker_id":"test-worker-001"}
{"consumer_id":0,"level":"info","msg":"任务消费者启动","time":"2025-07-24 23:04:12","worker_id":"test-worker-001"}
{"level":"info","msg":"Git同步订阅服务已启动","time":"2025-07-24 23:04:12"}
{"level":"info","msg":"收到退出信号，正在停止Worker...","time":"2025-07-24 23:05:30"}
{"level":"info","msg":"开始停止Worker","time":"2025-07-24 23:05:30"}
{"level":"info","msg":"Git同步订阅服务收到退出信号","time":"2025-07-24 23:05:30"}
{"level":"info","msg":"Git仓库清理服务收到退出信号","time":"2025-07-24 23:05:30"}
{"consumer_id":0,"level":"info","msg":"任务消费者收到退出信号","time":"2025-07-24 23:05:33","worker_id":"test-worker-001"}
{"consumer_id":1,"level":"info","msg":"任务消费者收到退出信号","time":"2025-07-24 23:05:33","worker_id":"test-worker-001"}
{"level":"info","msg":"所有任务已完成","time":"2025-07-24 23:05:33"}
{"level":"info","msg":"Worker已停止","time":"2025-07-24 23:05:33"}
{"level":"info","msg":"Worker已优雅停止","time":"2025-07-24 23:05:33"}
{"level":"info","master_url":"http://localhost:8080","msg":"启动AHOP Worker","time":"2025-07-24 23:06:01","version":"1.0.0","worker_name":"AHOP Worker on development"}
{"level":"info","msg":"使用配置的worker_id","time":"2025-07-24 23:06:01","worker_id":"test-worker-001"}
{"level":"info","master_url":"http://localhost:8080","msg":"Worker认证成功，获得数据库和Redis凭据","time":"2025-07-24 23:06:01","worker_id":"test-worker-001"}
{"executors":2,"level":"info","msg":"已注册任务执行器","time":"2025-07-24 23:06:01"}
{"concurrency":2,"level":"info","msg":"Worker启动成功","time":"2025-07-24 23:06:01","worker_id":"test-worker-001"}
{"level":"info","msg":"Worker启动成功，正在等待任务...","time":"2025-07-24 23:06:01"}
{"level":"info","msg":"开始清理旧的Git仓库副本...","time":"2025-07-24 23:06:01"}
{"consumer_id":0,"level":"info","msg":"任务消费者启动","time":"2025-07-24 23:06:01","worker_id":"test-worker-001"}
{"consumer_id":1,"level":"info","msg":"任务消费者启动","time":"2025-07-24 23:06:01","worker_id":"test-worker-001"}
{"level":"info","msg":"Git同步订阅服务已启动","time":"2025-07-24 23:06:01"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-24 23:08:01"}
{"level":"info","master_url":"http://localhost:8080","msg":"启动AHOP Worker","time":"2025-07-24 23:09:25","version":"1.0.0","worker_name":"AHOP Worker on development"}
{"level":"info","msg":"使用配置的worker_id","time":"2025-07-24 23:09:25","worker_id":"test-worker-001"}
{"level":"info","master_url":"http://localhost:8080","msg":"Worker认证成功，获得数据库和Redis凭据","time":"2025-07-24 23:09:25","worker_id":"test-worker-001"}
{"executors":2,"level":"info","msg":"已注册任务执行器","time":"2025-07-24 23:09:25"}
{"concurrency":2,"level":"info","msg":"Worker启动成功","time":"2025-07-24 23:09:25","worker_id":"test-worker-001"}
{"level":"info","msg":"Worker启动成功，正在等待任务...","time":"2025-07-24 23:09:25"}
{"level":"info","msg":"开始清理旧的Git仓库副本...","time":"2025-07-24 23:09:25"}
{"level":"info","msg":"清理完成，共删除 0 个旧仓库目录","time":"2025-07-24 23:09:25"}
{"consumer_id":0,"level":"info","msg":"任务消费者启动","time":"2025-07-24 23:09:25","worker_id":"test-worker-001"}
{"consumer_id":1,"level":"info","msg":"任务消费者启动","time":"2025-07-24 23:09:25","worker_id":"test-worker-001"}
{"level":"info","msg":"Git同步订阅服务已启动","time":"2025-07-24 23:09:25"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-24 23:11:25"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-24 23:13:25"}
{"level":"info","master_url":"http://localhost:8080","msg":"启动AHOP Worker","time":"2025-07-24 23:15:13","version":"1.0.0","worker_name":"AHOP Worker on development"}
{"level":"info","msg":"使用配置的worker_id","time":"2025-07-24 23:15:13","worker_id":"test-worker-001"}
{"level":"info","master_url":"http://localhost:8080","msg":"Worker认证成功，获得数据库和Redis凭据","time":"2025-07-24 23:15:13","worker_id":"test-worker-001"}
{"executors":2,"level":"info","msg":"已注册任务执行器","time":"2025-07-24 23:15:13"}
{"concurrency":2,"level":"info","msg":"Worker启动成功","time":"2025-07-24 23:15:13","worker_id":"test-worker-001"}
{"level":"info","msg":"Worker启动成功，正在等待任务...","time":"2025-07-24 23:15:13"}
{"level":"info","msg":"开始清理旧的Git仓库副本...","time":"2025-07-24 23:15:13"}
{"consumer_id":0,"level":"info","msg":"任务消费者启动","time":"2025-07-24 23:15:13","worker_id":"test-worker-001"}
{"level":"info","msg":"清理完成，共删除 0 个旧仓库目录","time":"2025-07-24 23:15:13"}
{"consumer_id":1,"level":"info","msg":"任务消费者启动","time":"2025-07-24 23:15:13","worker_id":"test-worker-001"}
{"level":"info","msg":"Git同步订阅服务已启动","time":"2025-07-24 23:15:13"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-24 23:15:25"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-24 23:17:13"}
{"level":"info","master_url":"http://localhost:8080","msg":"启动AHOP Worker","time":"2025-07-24 23:17:23","version":"1.0.0","worker_name":"AHOP Worker on development"}
{"level":"info","msg":"使用配置的worker_id","time":"2025-07-24 23:17:23","worker_id":"test-worker-001"}
{"level":"info","master_url":"http://localhost:8080","msg":"Worker认证成功，获得数据库和Redis凭据","time":"2025-07-24 23:17:23","worker_id":"test-worker-001"}
{"executors":2,"level":"info","msg":"已注册任务执行器","time":"2025-07-24 23:17:23"}
{"concurrency":2,"level":"info","msg":"Worker启动成功","time":"2025-07-24 23:17:23","worker_id":"test-worker-001"}
{"level":"info","msg":"Worker启动成功，正在等待任务...","time":"2025-07-24 23:17:23"}
{"level":"info","msg":"开始清理旧的Git仓库副本...","time":"2025-07-24 23:17:23"}
{"consumer_id":1,"level":"info","msg":"任务消费者启动","time":"2025-07-24 23:17:23","worker_id":"test-worker-001"}
{"consumer_id":0,"level":"info","msg":"任务消费者启动","time":"2025-07-24 23:17:23","worker_id":"test-worker-001"}
{"level":"info","msg":"清理完成，共删除 0 个旧仓库目录","time":"2025-07-24 23:17:23"}
{"level":"info","msg":"Git同步订阅服务已启动","time":"2025-07-24 23:17:23"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-24 23:17:25"}
{"level":"info","msg":"收到退出信号，正在停止Worker...","time":"2025-07-24 23:17:28"}
{"level":"info","msg":"开始停止Worker","time":"2025-07-24 23:17:28"}
{"level":"info","msg":"Git同步订阅服务收到退出信号","time":"2025-07-24 23:17:28"}
{"level":"info","msg":"Git仓库清理服务收到退出信号","time":"2025-07-24 23:17:28"}
{"level":"info","master_url":"http://localhost:8080","msg":"启动AHOP Worker","time":"2025-07-24 23:17:41","version":"1.0.0","worker_name":"AHOP Worker on development"}
{"level":"info","msg":"使用配置的worker_id","time":"2025-07-24 23:17:41","worker_id":"test-worker-001"}
{"level":"info","master_url":"http://localhost:8080","msg":"Worker认证成功，获得数据库和Redis凭据","time":"2025-07-24 23:17:41","worker_id":"test-worker-001"}
{"executors":2,"level":"info","msg":"已注册任务执行器","time":"2025-07-24 23:17:41"}
{"concurrency":2,"level":"info","msg":"Worker启动成功","time":"2025-07-24 23:17:41","worker_id":"test-worker-001"}
{"level":"info","msg":"Worker启动成功，正在等待任务...","time":"2025-07-24 23:17:41"}
{"level":"info","msg":"开始清理旧的Git仓库副本...","time":"2025-07-24 23:17:41"}
{"level":"info","msg":"清理完成，共删除 0 个旧仓库目录","time":"2025-07-24 23:17:41"}
{"consumer_id":1,"level":"info","msg":"任务消费者启动","time":"2025-07-24 23:17:41","worker_id":"test-worker-001"}
{"consumer_id":0,"level":"info","msg":"任务消费者启动","time":"2025-07-24 23:17:41","worker_id":"test-worker-001"}
{"level":"info","msg":"Git同步订阅服务已启动","time":"2025-07-24 23:17:41"}
{"level":"info","master_url":"http://localhost:8080","msg":"启动AHOP Worker","time":"2025-07-24 23:19:20","version":"1.0.0","worker_name":"AHOP Worker on development"}
{"level":"info","msg":"使用配置的worker_id","time":"2025-07-24 23:19:20","worker_id":"test-worker-001"}
{"level":"info","master_url":"http://localhost:8080","msg":"Worker认证成功，获得数据库和Redis凭据","time":"2025-07-24 23:19:20","worker_id":"test-worker-001"}
{"executors":2,"level":"info","msg":"已注册任务执行器","time":"2025-07-24 23:19:20"}
{"concurrency":2,"level":"info","msg":"Worker启动成功","time":"2025-07-24 23:19:20","worker_id":"test-worker-001"}
{"level":"info","msg":"Worker启动成功，正在等待任务...","time":"2025-07-24 23:19:20"}
{"level":"info","msg":"Git同步订阅服务已启动","time":"2025-07-24 23:19:20"}
{"consumer_id":1,"level":"info","msg":"任务消费者启动","time":"2025-07-24 23:19:20","worker_id":"test-worker-001"}
{"consumer_id":0,"level":"info","msg":"任务消费者启动","time":"2025-07-24 23:19:20","worker_id":"test-worker-001"}
{"level":"info","msg":"开始清理旧的Git仓库副本...","time":"2025-07-24 23:19:20"}
{"level":"info","msg":"清理完成，共删除 0 个旧仓库目录","time":"2025-07-24 23:19:20"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-24 23:19:25"}
{"level":"info","msg":"开始处理Git同步任务","time":"2025-07-24 23:19:46"}
{"level":"info","msg":"开始处理Git同步任务","time":"2025-07-24 23:19:46"}
{"level":"info","msg":"开始处理Git同步任务","time":"2025-07-24 23:19:46"}
{"level":"info","msg":"开始处理Git同步任务","time":"2025-07-24 23:19:46"}
{"level":"info","msg":"已删除仓库目录: /data/ahop/repos/1/32/test-worker-001_1753370386_643b3y","time":"2025-07-24 23:19:46"}
{"level":"info","msg":"已删除仓库目录: /data/ahop/repos/1/32/test-worker-001_1753370386_643b3y","time":"2025-07-24 23:19:46"}
{"level":"info","msg":"已删除仓库目录: /data/ahop/repos/1/32/test-worker-001_1753370386_rhpcd7","time":"2025-07-24 23:19:46"}
{"level":"info","msg":"已删除仓库目录: /data/ahop/repos/1/32/test-worker-001_1753370386_rhpcd7","time":"2025-07-24 23:19:46"}
{"level":"info","msg":"Git仓库同步成功，耗时: 4.061229ms","time":"2025-07-24 23:19:46"}
{"level":"info","msg":"重试克隆仓库 (第2次)...","time":"2025-07-24 23:19:47"}
{"level":"info","msg":"成功克隆仓库到: /data/ahop/repos/1/32/test-worker-001_1753370386_rhpcd7","time":"2025-07-24 23:19:58"}
{"level":"info","msg":"开始扫描仓库脚本并创建任务模板...","time":"2025-07-24 23:19:58"}
{"level":"info","msg":"Git仓库同步成功，耗时: 11.673666905s","time":"2025-07-24 23:19:58"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-24 23:21:20"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-24 23:23:20"}
{"level":"info","msg":"收到退出信号，正在停止Worker...","time":"2025-07-24 23:24:07"}
{"level":"info","msg":"开始停止Worker","time":"2025-07-24 23:24:07"}
{"level":"info","msg":"Git同步订阅服务收到退出信号","time":"2025-07-24 23:24:07"}
{"level":"info","msg":"Git仓库清理服务收到退出信号","time":"2025-07-24 23:24:07"}
{"consumer_id":0,"level":"info","msg":"任务消费者收到退出信号","time":"2025-07-24 23:24:13","worker_id":"test-worker-001"}
{"consumer_id":1,"level":"info","msg":"任务消费者收到退出信号","time":"2025-07-24 23:24:13","worker_id":"test-worker-001"}
{"level":"info","msg":"所有任务已完成","time":"2025-07-24 23:24:13"}
{"level":"info","msg":"Worker已停止","time":"2025-07-24 23:24:13"}
{"level":"info","msg":"Worker已优雅停止","time":"2025-07-24 23:24:13"}
{"level":"info","master_url":"http://localhost:8080","msg":"启动AHOP Worker","time":"2025-07-24 23:24:21","version":"1.0.0","worker_name":"AHOP Worker on development"}
{"level":"info","msg":"使用配置的worker_id","time":"2025-07-24 23:24:21","worker_id":"test-worker-001"}
{"level":"info","master_url":"http://localhost:8080","msg":"Worker认证成功，获得数据库和Redis凭据","time":"2025-07-24 23:24:21","worker_id":"test-worker-001"}
{"executors":2,"level":"info","msg":"已注册任务执行器","time":"2025-07-24 23:24:21"}
{"concurrency":2,"level":"info","msg":"Worker启动成功","time":"2025-07-24 23:24:21","worker_id":"test-worker-001"}
{"level":"info","msg":"Worker启动成功，正在等待任务...","time":"2025-07-24 23:24:21"}
{"consumer_id":0,"level":"info","msg":"任务消费者启动","time":"2025-07-24 23:24:21","worker_id":"test-worker-001"}
{"consumer_id":1,"level":"info","msg":"任务消费者启动","time":"2025-07-24 23:24:21","worker_id":"test-worker-001"}
{"level":"info","msg":"开始清理旧的Git仓库副本...","time":"2025-07-24 23:24:21"}
{"level":"info","msg":"清理完成，共删除 0 个旧仓库目录","time":"2025-07-24 23:24:21"}
{"level":"info","msg":"Git同步订阅服务已启动","time":"2025-07-24 23:24:21"}
{"level":"info","msg":"开始处理Git同步任务","time":"2025-07-24 23:24:43"}
{"level":"info","msg":"开始处理Git同步任务","time":"2025-07-24 23:24:43"}
{"action":"sync","error":"构建认证失败: 获取凭证失败: 解析响应失败: json: cannot unmarshal number into Go value of type struct { Code int \"json:\\\"code\\\"\"; Message string \"json:\\\"message\\\"\"; Data auth.CredentialInfo \"json:\\\"data\\\"\" }","level":"error","msg":"Git仓库同步失败，耗时: 1.265308ms","repository_id":34,"tenant_id":1,"time":"2025-07-24 23:24:43","worker_id":"test-worker-001"}
{"action":"sync","error":"构建认证失败: 获取凭证失败: 解析响应失败: json: cannot unmarshal number into Go value of type struct { Code int \"json:\\\"code\\\"\"; Message string \"json:\\\"message\\\"\"; Data auth.CredentialInfo \"json:\\\"data\\\"\" }","level":"error","msg":"处理Git同步任务失败","repository_id":34,"tenant_id":1,"time":"2025-07-24 23:24:43"}
{"level":"info","msg":"开始处理Git同步任务","time":"2025-07-24 23:24:44"}
{"level":"info","msg":"开始处理Git同步任务","time":"2025-07-24 23:24:44"}
{"level":"info","msg":"成功克隆仓库到: /data/ahop/repos/1/33/test-worker-001_1753370683_nszi14","time":"2025-07-24 23:24:44"}
{"level":"info","msg":"Git仓库同步成功，耗时: 502.95351ms","time":"2025-07-24 23:24:44"}
{"level":"info","msg":"成功克隆仓库到: /data/ahop/repos/1/33/test-worker-001_1753370684_xlr6iz","time":"2025-07-24 23:24:44"}
{"level":"info","msg":"Git仓库同步成功，耗时: 515.55806ms","time":"2025-07-24 23:24:44"}
{"level":"info","msg":"成功克隆仓库到: /data/ahop/repos/1/33/test-worker-001_1753370684_vaf1k8","time":"2025-07-24 23:24:44"}
{"level":"info","msg":"Git仓库同步成功，耗时: 536.218284ms","time":"2025-07-24 23:24:44"}
{"level":"info","msg":"开始处理Git同步任务","time":"2025-07-24 23:24:54"}
{"level":"info","msg":"成功克隆仓库到: /data/ahop/repos/1/33/test-worker-001_1753370694_m0q6sm","time":"2025-07-24 23:24:55"}
{"level":"info","msg":"Git仓库同步成功，耗时: 1.245606233s","time":"2025-07-24 23:24:55"}
{"level":"info","msg":"开始处理Git同步任务","time":"2025-07-24 23:25:09"}
{"action":"sync","error":"构建认证失败: 获取凭证失败: 解析响应失败: json: cannot unmarshal number into Go value of type struct { Code int \"json:\\\"code\\\"\"; Message string \"json:\\\"message\\\"\"; Data auth.CredentialInfo \"json:\\\"data\\\"\" }","level":"error","msg":"Git仓库同步失败，耗时: 1.708001ms","repository_id":34,"tenant_id":1,"time":"2025-07-24 23:25:09","worker_id":"test-worker-001"}
{"action":"sync","error":"构建认证失败: 获取凭证失败: 解析响应失败: json: cannot unmarshal number into Go value of type struct { Code int \"json:\\\"code\\\"\"; Message string \"json:\\\"message\\\"\"; Data auth.CredentialInfo \"json:\\\"data\\\"\" }","level":"error","msg":"处理Git同步任务失败","repository_id":34,"tenant_id":1,"time":"2025-07-24 23:25:09"}
{"level":"info","msg":"开始处理Git同步任务","time":"2025-07-24 23:25:25"}
{"level":"info","msg":"已删除仓库目录: /data/ahop/repos/1/34/test-worker-001_1753370683_uunlkh","time":"2025-07-24 23:25:25"}
{"level":"info","msg":"已删除仓库目录: /data/ahop/repos/1/34/test-worker-001_1753370709_echzmi","time":"2025-07-24 23:25:25"}
{"level":"info","msg":"Git仓库同步成功，耗时: 716.825µs","time":"2025-07-24 23:25:25"}
{"level":"info","msg":"开始处理Git同步任务","time":"2025-07-24 23:25:26"}
{"level":"info","msg":"已删除仓库目录: /data/ahop/repos/1/33/test-worker-001_1753370683_nszi14","time":"2025-07-24 23:25:26"}
{"level":"info","msg":"已删除仓库目录: /data/ahop/repos/1/33/test-worker-001_1753370684_vaf1k8","time":"2025-07-24 23:25:26"}
{"level":"info","msg":"已删除仓库目录: /data/ahop/repos/1/33/test-worker-001_1753370684_xlr6iz","time":"2025-07-24 23:25:26"}
{"level":"info","msg":"已删除仓库目录: /data/ahop/repos/1/33/test-worker-001_1753370694_m0q6sm","time":"2025-07-24 23:25:26"}
{"level":"info","msg":"Git仓库同步成功，耗时: 33.921693ms","time":"2025-07-24 23:25:26"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-24 23:26:21"}
{"level":"info","msg":"收到退出信号，正在停止Worker...","time":"2025-07-24 23:28:06"}
{"level":"info","msg":"开始停止Worker","time":"2025-07-24 23:28:06"}
{"level":"info","msg":"Git同步订阅服务收到退出信号","time":"2025-07-24 23:28:06"}
{"level":"info","msg":"Git仓库清理服务收到退出信号","time":"2025-07-24 23:28:06"}
{"consumer_id":1,"level":"info","msg":"任务消费者收到退出信号","time":"2025-07-24 23:28:13","worker_id":"test-worker-001"}
{"consumer_id":0,"level":"info","msg":"任务消费者收到退出信号","time":"2025-07-24 23:28:13","worker_id":"test-worker-001"}
{"level":"info","msg":"所有任务已完成","time":"2025-07-24 23:28:13"}
{"level":"info","msg":"Worker已停止","time":"2025-07-24 23:28:13"}
{"level":"info","msg":"Worker已优雅停止","time":"2025-07-24 23:28:13"}
{"level":"info","master_url":"http://localhost:8080","msg":"启动AHOP Worker","time":"2025-07-24 23:29:47","version":"1.0.0","worker_name":"AHOP Worker on development"}
{"level":"info","msg":"使用配置的worker_id","time":"2025-07-24 23:29:47","worker_id":"test-worker-001"}
{"level":"info","master_url":"http://localhost:8080","msg":"Worker认证成功，获得数据库和Redis凭据","time":"2025-07-24 23:29:47","worker_id":"test-worker-001"}
{"executors":2,"level":"info","msg":"已注册任务执行器","time":"2025-07-24 23:29:47"}
{"concurrency":2,"level":"info","msg":"Worker启动成功","time":"2025-07-24 23:29:47","worker_id":"test-worker-001"}
{"level":"info","msg":"Worker启动成功，正在等待任务...","time":"2025-07-24 23:29:47"}
{"consumer_id":0,"level":"info","msg":"任务消费者启动","time":"2025-07-24 23:29:47","worker_id":"test-worker-001"}
{"level":"info","msg":"开始清理旧的Git仓库副本...","time":"2025-07-24 23:29:47"}
{"consumer_id":1,"level":"info","msg":"任务消费者启动","time":"2025-07-24 23:29:47","worker_id":"test-worker-001"}
{"level":"info","msg":"清理完成，共删除 0 个旧仓库目录","time":"2025-07-24 23:29:47"}
{"level":"info","msg":"Git同步订阅服务已启动","time":"2025-07-24 23:29:47"}
{"level":"info","msg":"开始处理Git同步任务","time":"2025-07-24 23:29:59"}
{"level":"info","msg":"开始处理Git同步任务","time":"2025-07-24 23:29:59"}
{"action":"sync","error":"构建认证失败: 获取凭证失败: 凭证不存在 (ID: 51)","level":"error","msg":"Git仓库同步失败，耗时: 3.037175ms","repository_id":36,"tenant_id":1,"time":"2025-07-24 23:29:59","worker_id":"test-worker-001"}
{"action":"sync","error":"构建认证失败: 获取凭证失败: 凭证不存在 (ID: 51)","level":"error","msg":"处理Git同步任务失败","repository_id":36,"tenant_id":1,"time":"2025-07-24 23:29:59"}
{"level":"info","msg":"开始处理Git同步任务","time":"2025-07-24 23:30:00"}
{"level":"info","msg":"开始处理Git同步任务","time":"2025-07-24 23:30:00"}
{"level":"info","msg":"开始处理Git同步任务","time":"2025-07-24 23:30:00"}
{"level":"info","msg":"开始处理Git同步任务","time":"2025-07-24 23:30:00"}
{"level":"info","msg":"成功克隆仓库到: /data/ahop/repos/1/35/test-worker-001_1753371000_6uguo7","time":"2025-07-24 23:30:00"}
{"level":"info","msg":"Git仓库同步成功，耗时: 591.653496ms","time":"2025-07-24 23:30:00"}
{"level":"info","msg":"成功克隆仓库到: /data/ahop/repos/1/35/test-worker-001_1753371000_6cahzr","time":"2025-07-24 23:30:00"}
{"level":"info","msg":"Git仓库同步成功，耗时: 543.68279ms","time":"2025-07-24 23:30:00"}
{"level":"info","msg":"成功克隆仓库到: /data/ahop/repos/1/35/test-worker-001_1753371000_m7szw6","time":"2025-07-24 23:30:00"}
{"level":"info","msg":"Git仓库同步成功，耗时: 972.396101ms","time":"2025-07-24 23:30:00"}
{"level":"info","msg":"成功克隆仓库到: /data/ahop/repos/1/35/test-worker-001_1753370999_4o24va","time":"2025-07-24 23:30:00"}
{"level":"info","msg":"Git仓库同步成功，耗时: 1.099339953s","time":"2025-07-24 23:30:00"}
{"level":"info","msg":"成功克隆仓库到: /data/ahop/repos/1/3/test-worker-001_1753371000_lxp6vr","time":"2025-07-24 23:30:00"}
{"level":"info","msg":"Git仓库同步成功，耗时: 972.283304ms","time":"2025-07-24 23:30:00"}
{"level":"info","msg":"开始处理Git同步任务","time":"2025-07-24 23:30:10"}
{"level":"info","msg":"成功克隆仓库到: /data/ahop/repos/1/35/test-worker-001_1753371010_nuz37c","time":"2025-07-24 23:30:11"}
{"level":"info","msg":"Git仓库同步成功，耗时: 1.153479097s","time":"2025-07-24 23:30:11"}
{"level":"info","msg":"开始处理Git同步任务","time":"2025-07-24 23:30:25"}
{"action":"sync","error":"构建认证失败: 获取凭证失败: 凭证不存在 (ID: 51)","level":"error","msg":"Git仓库同步失败，耗时: 1.655692ms","repository_id":36,"tenant_id":1,"time":"2025-07-24 23:30:25","worker_id":"test-worker-001"}
{"action":"sync","error":"构建认证失败: 获取凭证失败: 凭证不存在 (ID: 51)","level":"error","msg":"处理Git同步任务失败","repository_id":36,"tenant_id":1,"time":"2025-07-24 23:30:25"}
{"level":"info","msg":"开始处理Git同步任务","time":"2025-07-24 23:30:42"}
{"level":"info","msg":"已删除仓库目录: /data/ahop/repos/1/36/test-worker-001_1753370999_d6hgrs","time":"2025-07-24 23:30:42"}
{"level":"info","msg":"已删除仓库目录: /data/ahop/repos/1/36/test-worker-001_1753371025_yddl6p","time":"2025-07-24 23:30:42"}
{"level":"info","msg":"Git仓库同步成功，耗时: 707.75µs","time":"2025-07-24 23:30:42"}
{"level":"info","msg":"开始处理Git同步任务","time":"2025-07-24 23:30:42"}
{"level":"info","msg":"已删除仓库目录: /data/ahop/repos/1/35/test-worker-001_1753370999_4o24va","time":"2025-07-24 23:30:42"}
{"level":"info","msg":"已删除仓库目录: /data/ahop/repos/1/35/test-worker-001_1753371000_6cahzr","time":"2025-07-24 23:30:42"}
{"level":"info","msg":"已删除仓库目录: /data/ahop/repos/1/35/test-worker-001_1753371000_6uguo7","time":"2025-07-24 23:30:42"}
{"level":"info","msg":"已删除仓库目录: /data/ahop/repos/1/35/test-worker-001_1753371000_m7szw6","time":"2025-07-24 23:30:42"}
{"level":"info","msg":"已删除仓库目录: /data/ahop/repos/1/35/test-worker-001_1753371010_nuz37c","time":"2025-07-24 23:30:42"}
{"level":"info","msg":"Git仓库同步成功，耗时: 50.056316ms","time":"2025-07-24 23:30:42"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-24 23:31:47"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-24 23:33:47"}
{"level":"info","msg":"开始处理Git同步任务","time":"2025-07-24 23:34:59"}
{"level":"info","msg":"开始处理Git同步任务","time":"2025-07-24 23:34:59"}
{"level":"info","msg":"成功克隆仓库到: /data/ahop/repos/1/37/test-worker-001_1753371299_5c0cjh","time":"2025-07-24 23:34:59"}
{"level":"info","msg":"Git仓库同步成功，耗时: 503.739275ms","time":"2025-07-24 23:34:59"}
{"level":"info","msg":"成功克隆仓库到: /data/ahop/repos/1/37/test-worker-001_1753371299_47wubg","time":"2025-07-24 23:35:00"}
{"level":"info","msg":"Git仓库同步成功，耗时: 686.63741ms","time":"2025-07-24 23:35:00"}
{"level":"info","msg":"开始处理Git同步任务","time":"2025-07-24 23:35:14"}
{"level":"info","msg":"成功克隆仓库到: /data/ahop/repos/1/37/test-worker-001_1753371314_ulmh1w","time":"2025-07-24 23:35:15"}
{"level":"info","msg":"Git仓库同步成功，耗时: 605.888637ms","time":"2025-07-24 23:35:15"}
{"level":"info","msg":"开始处理Git同步任务","time":"2025-07-24 23:35:24"}
{"level":"info","msg":"已删除仓库目录: /data/ahop/repos/1/37/test-worker-001_1753371299_47wubg","time":"2025-07-24 23:35:24"}
{"level":"info","msg":"已删除仓库目录: /data/ahop/repos/1/37/test-worker-001_1753371299_5c0cjh","time":"2025-07-24 23:35:24"}
{"level":"info","msg":"已删除仓库目录: /data/ahop/repos/1/37/test-worker-001_1753371314_ulmh1w","time":"2025-07-24 23:35:24"}
{"level":"info","msg":"Git仓库同步成功，耗时: 16.847438ms","time":"2025-07-24 23:35:24"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-24 23:35:47"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-24 23:37:47"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-24 23:39:47"}
{"level":"info","msg":"收到退出信号，正在停止Worker...","time":"2025-07-24 23:40:53"}
{"level":"info","msg":"开始停止Worker","time":"2025-07-24 23:40:53"}
{"level":"info","msg":"Git同步订阅服务收到退出信号","time":"2025-07-24 23:40:53"}
{"level":"info","msg":"Git仓库清理服务收到退出信号","time":"2025-07-24 23:40:53"}
{"consumer_id":1,"level":"info","msg":"任务消费者收到退出信号","time":"2025-07-24 23:40:54","worker_id":"test-worker-001"}
{"consumer_id":0,"level":"info","msg":"任务消费者收到退出信号","time":"2025-07-24 23:40:54","worker_id":"test-worker-001"}
{"level":"info","msg":"所有任务已完成","time":"2025-07-24 23:40:54"}
{"level":"info","msg":"Worker已停止","time":"2025-07-24 23:40:54"}
{"level":"info","msg":"Worker已优雅停止","time":"2025-07-24 23:40:54"}
{"level":"info","master_url":"http://localhost:8080","msg":"启动AHOP Worker","time":"2025-07-24 23:41:14","version":"1.0.0","worker_name":"AHOP Worker on development"}
{"level":"info","msg":"使用配置的worker_id","time":"2025-07-24 23:41:14","worker_id":"test-worker-001"}
{"level":"info","master_url":"http://localhost:8080","msg":"Worker认证成功，获得数据库和Redis凭据","time":"2025-07-24 23:41:14","worker_id":"test-worker-001"}
{"executors":2,"level":"info","msg":"已注册任务执行器","time":"2025-07-24 23:41:14"}
{"concurrency":2,"level":"info","msg":"Worker启动成功","time":"2025-07-24 23:41:14","worker_id":"test-worker-001"}
{"level":"info","msg":"Worker启动成功，正在等待任务...","time":"2025-07-24 23:41:14"}
{"consumer_id":1,"level":"info","msg":"任务消费者启动","time":"2025-07-24 23:41:14","worker_id":"test-worker-001"}
{"level":"info","msg":"开始清理旧的Git仓库副本...","time":"2025-07-24 23:41:14"}
{"consumer_id":0,"level":"info","msg":"任务消费者启动","time":"2025-07-24 23:41:14","worker_id":"test-worker-001"}
{"level":"info","msg":"清理完成，共删除 0 个旧仓库目录","time":"2025-07-24 23:41:14"}
{"level":"info","msg":"Git同步订阅服务已启动","time":"2025-07-24 23:41:14"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-24 23:43:14"}
{"level":"info","msg":"开始处理Git同步任务","time":"2025-07-24 23:43:30"}
{"level":"info","msg":"开始处理Git同步任务","time":"2025-07-24 23:43:30"}
{"level":"info","msg":"成功克隆仓库到: /data/ahop/repos/1/38/test-worker-001_1753371810_kfxwqa","time":"2025-07-24 23:43:30"}
{"level":"info","msg":"Git仓库同步成功，耗时: 521.074037ms","time":"2025-07-24 23:43:30"}
{"level":"info","msg":"成功克隆仓库到: /data/ahop/repos/1/38/test-worker-001_1753371810_tos1qr","time":"2025-07-24 23:43:30"}
{"level":"info","msg":"Git仓库同步成功，耗时: 553.126096ms","time":"2025-07-24 23:43:30"}
{"level":"info","msg":"开始处理Git同步任务","time":"2025-07-24 23:43:45"}
{"level":"info","msg":"成功克隆仓库到: /data/ahop/repos/1/38/test-worker-001_1753371825_ofrcna","time":"2025-07-24 23:43:46"}
{"level":"info","msg":"开始扫描仓库脚本并创建任务模板...","time":"2025-07-24 23:43:46"}
{"level":"info","msg":"Git仓库同步成功，耗时: 566.921794ms","time":"2025-07-24 23:43:46"}
{"level":"info","msg":"开始处理Git同步任务","time":"2025-07-24 23:43:55"}
{"level":"info","msg":"已删除仓库目录: /data/ahop/repos/1/38/test-worker-001_1753371810_kfxwqa","time":"2025-07-24 23:43:55"}
{"level":"info","msg":"已删除仓库目录: /data/ahop/repos/1/38/test-worker-001_1753371810_tos1qr","time":"2025-07-24 23:43:55"}
{"level":"info","msg":"已删除仓库目录: /data/ahop/repos/1/38/test-worker-001_1753371825_ofrcna","time":"2025-07-24 23:43:55"}
{"level":"info","msg":"Git仓库同步成功，耗时: 22.585581ms","time":"2025-07-24 23:43:55"}
{"level":"info","master_url":"http://localhost:8080","msg":"启动AHOP Worker","time":"2025-07-24 23:44:53","version":"1.0.0","worker_name":"AHOP Worker on development"}
{"level":"info","msg":"使用配置的worker_id","time":"2025-07-24 23:44:53","worker_id":"test-worker-001"}
{"level":"info","master_url":"http://localhost:8080","msg":"Worker认证成功，获得数据库和Redis凭据","time":"2025-07-24 23:44:53","worker_id":"test-worker-001"}
{"executors":2,"level":"info","msg":"已注册任务执行器","time":"2025-07-24 23:44:53"}
{"concurrency":2,"level":"info","msg":"Worker启动成功","time":"2025-07-24 23:44:53","worker_id":"test-worker-001"}
{"level":"info","msg":"Worker启动成功，正在等待任务...","time":"2025-07-24 23:44:53"}
{"level":"info","msg":"开始清理旧的Git仓库副本...","time":"2025-07-24 23:44:53"}
{"level":"info","msg":"清理完成，共删除 0 个旧仓库目录","time":"2025-07-24 23:44:53"}
{"consumer_id":1,"level":"info","msg":"任务消费者启动","time":"2025-07-24 23:44:53","worker_id":"test-worker-001"}
{"consumer_id":0,"level":"info","msg":"任务消费者启动","time":"2025-07-24 23:44:53","worker_id":"test-worker-001"}
{"level":"info","msg":"Git同步订阅服务已启动","time":"2025-07-24 23:44:53"}
{"level":"info","msg":"开始处理Git同步任务","time":"2025-07-24 23:45:07"}
{"level":"info","msg":"开始处理Git同步任务","time":"2025-07-24 23:45:07"}
{"action":"sync","error":"构建认证失败: 获取凭证失败: 凭证不存在 (ID: 52)","level":"error","msg":"Git仓库同步失败，耗时: 2.156828ms","repository_id":40,"tenant_id":1,"time":"2025-07-24 23:45:07","worker_id":"test-worker-001"}
{"action":"sync","error":"构建认证失败: 获取凭证失败: 凭证不存在 (ID: 52)","level":"error","msg":"处理Git同步任务失败","repository_id":40,"tenant_id":1,"time":"2025-07-24 23:45:07"}
{"level":"info","msg":"开始处理Git同步任务","time":"2025-07-24 23:45:07"}
{"level":"info","msg":"开始处理Git同步任务","time":"2025-07-24 23:45:07"}
{"level":"info","msg":"成功克隆仓库到: /data/ahop/repos/1/39/test-worker-001_1753371907_ngwzvj","time":"2025-07-24 23:45:07"}
{"level":"info","msg":"Git仓库同步成功，耗时: 506.930747ms","time":"2025-07-24 23:45:07"}
{"level":"info","msg":"成功克隆仓库到: /data/ahop/repos/1/39/test-worker-001_1753371907_4e8wv5","time":"2025-07-24 23:45:07"}
{"level":"info","msg":"Git仓库同步成功，耗时: 485.475402ms","time":"2025-07-24 23:45:07"}
{"level":"info","msg":"成功克隆仓库到: /data/ahop/repos/1/39/test-worker-001_1753371907_k9pe97","time":"2025-07-24 23:45:07"}
{"level":"info","msg":"Git仓库同步成功，耗时: 545.119279ms","time":"2025-07-24 23:45:07"}
{"level":"info","msg":"开始处理Git同步任务","time":"2025-07-24 23:45:17"}
{"level":"info","msg":"成功克隆仓库到: /data/ahop/repos/1/39/test-worker-001_1753371917_sz4apf","time":"2025-07-24 23:45:18"}
{"level":"info","msg":"开始扫描仓库脚本并创建任务模板...","time":"2025-07-24 23:45:18"}
{"level":"info","msg":"Git仓库同步成功，耗时: 1.140358593s","time":"2025-07-24 23:45:18"}
{"level":"info","msg":"开始处理Git同步任务","time":"2025-07-24 23:45:32"}
{"action":"sync","error":"构建认证失败: 获取凭证失败: 凭证不存在 (ID: 52)","level":"error","msg":"Git仓库同步失败，耗时: 1.973726ms","repository_id":40,"tenant_id":1,"time":"2025-07-24 23:45:32","worker_id":"test-worker-001"}
{"action":"sync","error":"构建认证失败: 获取凭证失败: 凭证不存在 (ID: 52)","level":"error","msg":"处理Git同步任务失败","repository_id":40,"tenant_id":1,"time":"2025-07-24 23:45:32"}
{"level":"info","msg":"开始处理Git同步任务","time":"2025-07-24 23:45:48"}
{"level":"info","msg":"已删除仓库目录: /data/ahop/repos/1/40/test-worker-001_1753371907_ibmehq","time":"2025-07-24 23:45:48"}
{"level":"info","msg":"已删除仓库目录: /data/ahop/repos/1/40/test-worker-001_1753371932_w2bo2n","time":"2025-07-24 23:45:48"}
{"level":"info","msg":"Git仓库同步成功，耗时: 867.873µs","time":"2025-07-24 23:45:48"}
{"level":"info","msg":"开始处理Git同步任务","time":"2025-07-24 23:45:48"}
{"level":"info","msg":"已删除仓库目录: /data/ahop/repos/1/39/test-worker-001_1753371907_4e8wv5","time":"2025-07-24 23:45:48"}
{"level":"info","msg":"已删除仓库目录: /data/ahop/repos/1/39/test-worker-001_1753371907_k9pe97","time":"2025-07-24 23:45:48"}
{"level":"info","msg":"已删除仓库目录: /data/ahop/repos/1/39/test-worker-001_1753371907_ngwzvj","time":"2025-07-24 23:45:48"}
{"level":"info","msg":"已删除仓库目录: /data/ahop/repos/1/39/test-worker-001_1753371917_sz4apf","time":"2025-07-24 23:45:48"}
{"level":"info","msg":"Git仓库同步成功，耗时: 34.003603ms","time":"2025-07-24 23:45:48"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-24 23:46:53"}
{"level":"info","msg":"开始处理Git同步任务","time":"2025-07-24 23:48:00"}
{"level":"info","msg":"已删除仓库目录: /data/ahop/repos/1/1/test-worker-001_1753368656_z1reny","time":"2025-07-24 23:48:00"}
{"level":"info","msg":"Git仓库同步成功，耗时: 14.547822ms","time":"2025-07-24 23:48:00"}
{"level":"info","msg":"开始处理Git同步任务","time":"2025-07-24 23:48:00"}
{"level":"info","msg":"Git仓库同步成功，耗时: 200.395µs","time":"2025-07-24 23:48:00"}
{"level":"info","msg":"开始处理Git同步任务","time":"2025-07-24 23:48:00"}
{"level":"info","msg":"已删除仓库目录: /data/ahop/repos/1/3/test-worker-001_1753369200_o4t5hi","time":"2025-07-24 23:48:00"}
{"level":"info","msg":"已删除仓库目录: /data/ahop/repos/1/3/test-worker-001_1753371000_lxp6vr","time":"2025-07-24 23:48:00"}
{"level":"info","msg":"Git仓库同步成功，耗时: 17.466923ms","time":"2025-07-24 23:48:00"}
{"level":"info","msg":"开始处理Git同步任务","time":"2025-07-24 23:48:00"}
{"level":"info","msg":"Git仓库同步成功，耗时: 73.166µs","time":"2025-07-24 23:48:00"}
{"level":"info","msg":"开始处理Git同步任务","time":"2025-07-24 23:48:00"}
{"level":"info","msg":"Git仓库同步成功，耗时: 99.371µs","time":"2025-07-24 23:48:00"}
{"level":"info","msg":"开始处理Git同步任务","time":"2025-07-24 23:48:00"}
{"level":"info","msg":"Git仓库同步成功，耗时: 99.48µs","time":"2025-07-24 23:48:00"}
{"level":"info","msg":"开始处理Git同步任务","time":"2025-07-24 23:48:01"}
{"level":"info","msg":"Git仓库同步成功，耗时: 198.959µs","time":"2025-07-24 23:48:01"}
{"level":"info","msg":"开始处理Git同步任务","time":"2025-07-24 23:48:01"}
{"level":"info","msg":"Git仓库同步成功，耗时: 97.18µs","time":"2025-07-24 23:48:01"}
{"level":"info","msg":"开始处理Git同步任务","time":"2025-07-24 23:48:01"}
{"level":"info","msg":"Git仓库同步成功，耗时: 192.579µs","time":"2025-07-24 23:48:01"}
{"level":"info","msg":"开始处理Git同步任务","time":"2025-07-24 23:48:01"}
{"level":"info","msg":"Git仓库同步成功，耗时: 193.09µs","time":"2025-07-24 23:48:01"}
{"level":"info","msg":"开始处理Git同步任务","time":"2025-07-24 23:48:48"}
{"level":"info","msg":"开始处理Git同步任务","time":"2025-07-24 23:48:48"}
{"action":"sync","error":"构建认证失败: 获取凭证失败: 凭证不存在 (ID: 53)","level":"error","msg":"Git仓库同步失败，耗时: 2.900561ms","repository_id":42,"tenant_id":1,"time":"2025-07-24 23:48:48","worker_id":"test-worker-001"}
{"action":"sync","error":"构建认证失败: 获取凭证失败: 凭证不存在 (ID: 53)","level":"error","msg":"处理Git同步任务失败","repository_id":42,"tenant_id":1,"time":"2025-07-24 23:48:48"}
{"level":"info","msg":"开始处理Git同步任务","time":"2025-07-24 23:48:48"}
{"level":"info","msg":"开始处理Git同步任务","time":"2025-07-24 23:48:48"}
{"level":"info","msg":"成功克隆仓库到: /data/ahop/repos/1/41/test-worker-001_1753372128_1551oa","time":"2025-07-24 23:48:49"}
{"level":"info","msg":"Git仓库同步成功，耗时: 632.374871ms","time":"2025-07-24 23:48:49"}
{"level":"info","msg":"成功克隆仓库到: /data/ahop/repos/1/41/test-worker-001_1753372128_9d0yqe","time":"2025-07-24 23:48:49"}
{"level":"info","msg":"Git仓库同步成功，耗时: 1.2075695s","time":"2025-07-24 23:48:49"}
{"level":"info","msg":"成功克隆仓库到: /data/ahop/repos/1/41/test-worker-001_1753372128_nran8m","time":"2025-07-24 23:48:49"}
{"level":"info","msg":"Git仓库同步成功，耗时: 766.42636ms","time":"2025-07-24 23:48:49"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-24 23:48:53"}
{"level":"info","msg":"开始处理Git同步任务","time":"2025-07-24 23:48:58"}
{"level":"info","msg":"成功克隆仓库到: /data/ahop/repos/1/41/test-worker-001_1753372138_e3fsv1","time":"2025-07-24 23:48:59"}
{"level":"info","msg":"开始扫描仓库脚本并创建任务模板...","time":"2025-07-24 23:48:59"}
{"level":"info","msg":"Git仓库同步成功，耗时: 497.367256ms","time":"2025-07-24 23:48:59"}
{"level":"info","msg":"开始处理Git同步任务","time":"2025-07-24 23:49:13"}
{"action":"sync","error":"构建认证失败: 获取凭证失败: 凭证不存在 (ID: 53)","level":"error","msg":"Git仓库同步失败，耗时: 1.636671ms","repository_id":42,"tenant_id":1,"time":"2025-07-24 23:49:13","worker_id":"test-worker-001"}
{"action":"sync","error":"构建认证失败: 获取凭证失败: 凭证不存在 (ID: 53)","level":"error","msg":"处理Git同步任务失败","repository_id":42,"tenant_id":1,"time":"2025-07-24 23:49:13"}
{"level":"info","msg":"开始处理Git同步任务","time":"2025-07-24 23:49:30"}
{"level":"info","msg":"已删除仓库目录: /data/ahop/repos/1/42/test-worker-001_1753372128_qlemvv","time":"2025-07-24 23:49:30"}
{"level":"info","msg":"已删除仓库目录: /data/ahop/repos/1/42/test-worker-001_1753372153_c0d1gu","time":"2025-07-24 23:49:30"}
{"level":"info","msg":"Git仓库同步成功，耗时: 888.751µs","time":"2025-07-24 23:49:30"}
{"level":"info","msg":"开始处理Git同步任务","time":"2025-07-24 23:49:30"}
{"level":"info","msg":"已删除仓库目录: /data/ahop/repos/1/41/test-worker-001_1753372128_1551oa","time":"2025-07-24 23:49:30"}
{"level":"info","msg":"已删除仓库目录: /data/ahop/repos/1/41/test-worker-001_1753372128_9d0yqe","time":"2025-07-24 23:49:30"}
{"level":"info","msg":"已删除仓库目录: /data/ahop/repos/1/41/test-worker-001_1753372128_nran8m","time":"2025-07-24 23:49:30"}
{"level":"info","msg":"已删除仓库目录: /data/ahop/repos/1/41/test-worker-001_1753372138_e3fsv1","time":"2025-07-24 23:49:30"}
{"level":"info","msg":"Git仓库同步成功，耗时: 39.538205ms","time":"2025-07-24 23:49:30"}
{"level":"info","msg":"开始处理Git同步任务","time":"2025-07-24 23:49:42"}
{"level":"info","msg":"开始处理Git同步任务","time":"2025-07-24 23:49:42"}
{"level":"info","msg":"成功克隆仓库到: /data/ahop/repos/1/43/test-worker-001_1753372182_hsa1jc","time":"2025-07-24 23:49:43"}
{"level":"info","msg":"Git仓库同步成功，耗时: 504.258459ms","time":"2025-07-24 23:49:43"}
{"level":"info","msg":"成功克隆仓库到: /data/ahop/repos/1/43/test-worker-001_1753372182_xbpbg1","time":"2025-07-24 23:49:43"}
{"level":"info","msg":"Git仓库同步成功，耗时: 567.625081ms","time":"2025-07-24 23:49:43"}
{"level":"info","msg":"开始处理Git同步任务","time":"2025-07-24 23:49:58"}
{"level":"info","msg":"成功克隆仓库到: /data/ahop/repos/1/43/test-worker-001_1753372198_mkvr20","time":"2025-07-24 23:49:58"}
{"level":"info","msg":"开始扫描仓库脚本并创建任务模板...","time":"2025-07-24 23:49:58"}
{"level":"info","msg":"Git仓库同步成功，耗时: 580.054103ms","time":"2025-07-24 23:49:58"}
{"level":"info","msg":"开始处理Git同步任务","time":"2025-07-24 23:50:08"}
{"level":"info","msg":"已删除仓库目录: /data/ahop/repos/1/43/test-worker-001_1753372182_hsa1jc","time":"2025-07-24 23:50:08"}
{"level":"info","msg":"已删除仓库目录: /data/ahop/repos/1/43/test-worker-001_1753372182_xbpbg1","time":"2025-07-24 23:50:08"}
{"level":"info","msg":"已删除仓库目录: /data/ahop/repos/1/43/test-worker-001_1753372198_mkvr20","time":"2025-07-24 23:50:08"}
{"level":"info","msg":"Git仓库同步成功，耗时: 19.207823ms","time":"2025-07-24 23:50:08"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-24 23:50:53"}
{"level":"info","msg":"开始处理Git同步任务","time":"2025-07-24 23:51:31"}
{"level":"info","msg":"开始处理Git同步任务","time":"2025-07-24 23:51:31"}
{"level":"info","msg":"成功克隆仓库到: /data/ahop/repos/1/44/test-worker-001_1753372291_evwqau","time":"2025-07-24 23:51:31"}
{"level":"info","msg":"Git仓库同步成功，耗时: 504.697407ms","time":"2025-07-24 23:51:31"}
{"level":"info","msg":"成功克隆仓库到: /data/ahop/repos/1/44/test-worker-001_1753372291_ca2cpl","time":"2025-07-24 23:51:31"}
{"level":"info","msg":"Git仓库同步成功，耗时: 549.804944ms","time":"2025-07-24 23:51:31"}
{"level":"info","msg":"开始处理Git同步任务","time":"2025-07-24 23:51:46"}
{"level":"info","msg":"成功克隆仓库到: /data/ahop/repos/1/44/test-worker-001_1753372306_jo68bq","time":"2025-07-24 23:51:46"}
{"level":"info","msg":"开始扫描仓库脚本并创建任务模板...","time":"2025-07-24 23:51:46"}
{"level":"info","msg":"Git仓库同步成功，耗时: 595.241043ms","time":"2025-07-24 23:51:47"}
{"level":"info","msg":"开始处理Git同步任务","time":"2025-07-24 23:51:56"}
{"level":"info","msg":"已删除仓库目录: /data/ahop/repos/1/44/test-worker-001_1753372291_ca2cpl","time":"2025-07-24 23:51:56"}
{"level":"info","msg":"已删除仓库目录: /data/ahop/repos/1/44/test-worker-001_1753372291_evwqau","time":"2025-07-24 23:51:56"}
{"level":"info","msg":"已删除仓库目录: /data/ahop/repos/1/44/test-worker-001_1753372306_jo68bq","time":"2025-07-24 23:51:56"}
{"level":"info","msg":"Git仓库同步成功，耗时: 16.857209ms","time":"2025-07-24 23:51:56"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-24 23:52:53"}
{"level":"info","msg":"开始处理Git同步任务","time":"2025-07-24 23:53:07"}
{"level":"info","msg":"开始处理Git同步任务","time":"2025-07-24 23:53:07"}
{"level":"info","msg":"成功克隆仓库到: /data/ahop/repos/1/45/test-worker-001_1753372387_h3olsz","time":"2025-07-24 23:53:08"}
{"level":"info","msg":"Git仓库同步成功，耗时: 502.533036ms","time":"2025-07-24 23:53:08"}
{"level":"info","msg":"成功克隆仓库到: /data/ahop/repos/1/45/test-worker-001_1753372387_cqm98y","time":"2025-07-24 23:53:08"}
{"level":"info","msg":"Git仓库同步成功，耗时: 587.368077ms","time":"2025-07-24 23:53:08"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-24 23:54:53"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-24 23:56:53"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-24 23:58:53"}
{"level":"info","msg":"开始处理Git同步任务","time":"2025-07-25 00:00:00"}
{"level":"info","msg":"成功克隆仓库到: /data/ahop/repos/1/45/test-worker-001_1753372800_aty07t","time":"2025-07-25 00:00:00"}
{"level":"info","msg":"Git仓库同步成功，耗时: 571.266079ms","time":"2025-07-25 00:00:00"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-25 00:00:53"}
{"level":"info","msg":"开始处理Git同步任务","time":"2025-07-25 00:02:35"}
{"level":"info","msg":"开始处理Git同步任务","time":"2025-07-25 00:02:35"}
{"level":"info","msg":"成功克隆仓库到: /data/ahop/repos/1/46/test-worker-001_1753372955_cj4m2p","time":"2025-07-25 00:02:35"}
{"level":"info","msg":"Git仓库同步成功，耗时: 558.288196ms","time":"2025-07-25 00:02:35"}
{"level":"info","msg":"成功克隆仓库到: /data/ahop/repos/1/46/test-worker-001_1753372955_gcri0v","time":"2025-07-25 00:02:35"}
{"level":"info","msg":"Git仓库同步成功，耗时: 628.750125ms","time":"2025-07-25 00:02:35"}
{"level":"info","msg":"开始处理Git同步任务","time":"2025-07-25 00:02:50"}
{"level":"info","msg":"成功克隆仓库到: /data/ahop/repos/1/46/test-worker-001_1753372970_vkqykf","time":"2025-07-25 00:02:50"}
{"level":"info","msg":"开始扫描仓库脚本并创建任务模板...","time":"2025-07-25 00:02:50"}
{"level":"info","msg":"Git仓库同步成功，耗时: 627.92235ms","time":"2025-07-25 00:02:50"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-25 00:02:53"}
{"level":"info","msg":"开始处理Git同步任务","time":"2025-07-25 00:03:00"}
{"level":"info","msg":"已删除仓库目录: /data/ahop/repos/1/46/test-worker-001_1753372955_cj4m2p","time":"2025-07-25 00:03:00"}
{"level":"info","msg":"已删除仓库目录: /data/ahop/repos/1/46/test-worker-001_1753372955_gcri0v","time":"2025-07-25 00:03:00"}
{"level":"info","msg":"已删除仓库目录: /data/ahop/repos/1/46/test-worker-001_1753372970_vkqykf","time":"2025-07-25 00:03:00"}
{"level":"info","msg":"Git仓库同步成功，耗时: 23.676135ms","time":"2025-07-25 00:03:00"}
{"level":"info","msg":"开始处理Git同步任务","time":"2025-07-25 00:03:57"}
{"level":"info","msg":"开始处理Git同步任务","time":"2025-07-25 00:03:57"}
{"level":"info","msg":"成功克隆仓库到: /data/ahop/repos/1/47/test-worker-001_1753373037_bwhfye","time":"2025-07-25 00:03:58"}
{"level":"info","msg":"Git仓库同步成功，耗时: 992.024363ms","time":"2025-07-25 00:03:58"}
{"level":"info","msg":"成功克隆仓库到: /data/ahop/repos/1/47/test-worker-001_1753373037_okt985","time":"2025-07-25 00:03:58"}
{"level":"info","msg":"Git仓库同步成功，耗时: 984.238762ms","time":"2025-07-25 00:03:58"}
{"level":"info","msg":"开始处理Git同步任务","time":"2025-07-25 00:04:12"}
{"level":"info","msg":"成功克隆仓库到: /data/ahop/repos/1/47/test-worker-001_1753373052_0a5h1u","time":"2025-07-25 00:04:12"}
{"level":"info","msg":"开始扫描仓库脚本并创建任务模板...","time":"2025-07-25 00:04:12"}
{"level":"info","msg":"Git仓库同步成功，耗时: 557.849007ms","time":"2025-07-25 00:04:12"}
{"level":"info","msg":"开始处理Git同步任务","time":"2025-07-25 00:04:22"}
{"level":"info","msg":"已删除仓库目录: /data/ahop/repos/1/47/test-worker-001_1753373037_bwhfye","time":"2025-07-25 00:04:22"}
{"level":"info","msg":"已删除仓库目录: /data/ahop/repos/1/47/test-worker-001_1753373037_okt985","time":"2025-07-25 00:04:22"}
{"level":"info","msg":"已删除仓库目录: /data/ahop/repos/1/47/test-worker-001_1753373052_0a5h1u","time":"2025-07-25 00:04:22"}
{"level":"info","msg":"Git仓库同步成功，耗时: 28.693538ms","time":"2025-07-25 00:04:22"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-25 00:04:53"}
{"level":"info","master_url":"http://localhost:8080","msg":"启动AHOP Worker","time":"2025-07-25 00:06:26","version":"1.0.0","worker_name":"AHOP Worker on development"}
{"level":"info","msg":"使用配置的worker_id","time":"2025-07-25 00:06:26","worker_id":"test-worker-001"}
{"level":"info","master_url":"http://localhost:8080","msg":"Worker认证成功，获得数据库和Redis凭据","time":"2025-07-25 00:06:26","worker_id":"test-worker-001"}
{"executors":2,"level":"info","msg":"已注册任务执行器","time":"2025-07-25 00:06:26"}
{"concurrency":2,"level":"info","msg":"Worker启动成功","time":"2025-07-25 00:06:26","worker_id":"test-worker-001"}
{"level":"info","msg":"Worker启动成功，正在等待任务...","time":"2025-07-25 00:06:26"}
{"level":"info","msg":"开始清理旧的Git仓库副本...","time":"2025-07-25 00:06:26"}
{"level":"info","msg":"清理完成，共删除 0 个旧仓库目录","time":"2025-07-25 00:06:26"}
{"consumer_id":0,"level":"info","msg":"任务消费者启动","time":"2025-07-25 00:06:26","worker_id":"test-worker-001"}
{"consumer_id":1,"level":"info","msg":"任务消费者启动","time":"2025-07-25 00:06:26","worker_id":"test-worker-001"}
{"level":"info","msg":"Git同步订阅服务已启动","time":"2025-07-25 00:06:26"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-25 00:06:53"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-25 00:08:26"}
{"level":"info","master_url":"http://localhost:8080","msg":"启动AHOP Worker","time":"2025-07-25 00:08:36","version":"1.0.0","worker_name":"AHOP Worker on development"}
{"level":"info","msg":"使用配置的worker_id","time":"2025-07-25 00:08:36","worker_id":"test-worker-001"}
{"level":"info","master_url":"http://localhost:8080","msg":"Worker认证成功，获得数据库和Redis凭据","time":"2025-07-25 00:08:36","worker_id":"test-worker-001"}
{"executors":2,"level":"info","msg":"已注册任务执行器","time":"2025-07-25 00:08:36"}
{"concurrency":2,"level":"info","msg":"Worker启动成功","time":"2025-07-25 00:08:36","worker_id":"test-worker-001"}
{"level":"info","msg":"Worker启动成功，正在等待任务...","time":"2025-07-25 00:08:36"}
{"consumer_id":0,"level":"info","msg":"任务消费者启动","time":"2025-07-25 00:08:36","worker_id":"test-worker-001"}
{"consumer_id":1,"level":"info","msg":"任务消费者启动","time":"2025-07-25 00:08:36","worker_id":"test-worker-001"}
{"level":"info","msg":"Git同步订阅服务已启动","time":"2025-07-25 00:08:36"}
{"level":"info","msg":"开始清理旧的Git仓库副本...","time":"2025-07-25 00:08:36"}
{"level":"info","msg":"清理完成，共删除 0 个旧仓库目录","time":"2025-07-25 00:08:36"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-25 00:08:53"}
{"level":"info","msg":"开始处理Git同步任务","time":"2025-07-25 00:08:54"}
{"level":"info","msg":"开始处理Git同步任务","time":"2025-07-25 00:08:54"}
{"level":"info","msg":"开始处理Git同步任务","time":"2025-07-25 00:08:54"}
{"level":"info","msg":"开始处理Git同步任务","time":"2025-07-25 00:08:54"}
{"level":"info","msg":"成功克隆仓库到: /data/ahop/repos/1/48/test-worker-001_1753373334_h2tkiw","time":"2025-07-25 00:08:55"}
{"level":"info","msg":"Git仓库同步成功，耗时: 1.135000231s","time":"2025-07-25 00:08:55"}
{"level":"info","msg":"成功克隆仓库到: /data/ahop/repos/1/48/test-worker-001_1753373334_s27ehe","time":"2025-07-25 00:08:55"}
{"level":"info","msg":"Git仓库同步成功，耗时: 1.121652037s","time":"2025-07-25 00:08:55"}
{"level":"info","msg":"成功克隆仓库到: /data/ahop/repos/1/48/test-worker-001_1753373334_z109hu","time":"2025-07-25 00:08:55"}
{"level":"info","msg":"Git仓库同步成功，耗时: 1.128990659s","time":"2025-07-25 00:08:55"}
{"level":"info","msg":"成功克隆仓库到: /data/ahop/repos/1/48/test-worker-001_1753373334_uoo1ui","time":"2025-07-25 00:08:55"}
{"level":"info","msg":"Git仓库同步成功，耗时: 1.180471707s","time":"2025-07-25 00:08:55"}
{"level":"info","msg":"开始处理Git同步任务","time":"2025-07-25 00:09:09"}
{"level":"info","msg":"开始处理Git同步任务","time":"2025-07-25 00:09:09"}
{"level":"info","msg":"成功克隆仓库到: /data/ahop/repos/1/48/test-worker-001_1753373349_bd0r9x","time":"2025-07-25 00:09:10"}
{"level":"info","msg":"开始扫描仓库脚本并创建任务模板...","time":"2025-07-25 00:09:10"}
{"level":"info","msg":"Git仓库同步成功，耗时: 555.188335ms","time":"2025-07-25 00:09:10"}
{"level":"info","msg":"成功克隆仓库到: /data/ahop/repos/1/48/test-worker-001_1753373349_h1jc15","time":"2025-07-25 00:09:10"}
{"level":"info","msg":"开始扫描仓库脚本并创建任务模板...","time":"2025-07-25 00:09:10"}
{"level":"info","msg":"Git仓库同步成功，耗时: 625.982256ms","time":"2025-07-25 00:09:10"}
{"level":"info","msg":"开始处理Git同步任务","time":"2025-07-25 00:09:19"}
{"level":"info","msg":"开始处理Git同步任务","time":"2025-07-25 00:09:19"}
{"level":"info","msg":"已删除仓库目录: /data/ahop/repos/1/48/test-worker-001_1753373334_h2tkiw","time":"2025-07-25 00:09:19"}
{"level":"info","msg":"已删除仓库目录: /data/ahop/repos/1/48/test-worker-001_1753373334_h2tkiw","time":"2025-07-25 00:09:19"}
{"level":"info","msg":"已删除仓库目录: /data/ahop/repos/1/48/test-worker-001_1753373334_s27ehe","time":"2025-07-25 00:09:19"}
{"level":"info","msg":"已删除仓库目录: /data/ahop/repos/1/48/test-worker-001_1753373334_uoo1ui","time":"2025-07-25 00:09:19"}
{"level":"info","msg":"已删除仓库目录: /data/ahop/repos/1/48/test-worker-001_1753373334_s27ehe","time":"2025-07-25 00:09:19"}
{"level":"info","msg":"已删除仓库目录: /data/ahop/repos/1/48/test-worker-001_1753373334_uoo1ui","time":"2025-07-25 00:09:19"}
{"level":"info","msg":"已删除仓库目录: /data/ahop/repos/1/48/test-worker-001_1753373334_z109hu","time":"2025-07-25 00:09:19"}
{"level":"info","msg":"已删除仓库目录: /data/ahop/repos/1/48/test-worker-001_1753373334_z109hu","time":"2025-07-25 00:09:19"}
{"level":"info","msg":"已删除仓库目录: /data/ahop/repos/1/48/test-worker-001_1753373349_bd0r9x","time":"2025-07-25 00:09:19"}
{"level":"info","msg":"已删除仓库目录: /data/ahop/repos/1/48/test-worker-001_1753373349_bd0r9x","time":"2025-07-25 00:09:19"}
{"level":"info","msg":"已删除仓库目录: /data/ahop/repos/1/48/test-worker-001_1753373349_h1jc15","time":"2025-07-25 00:09:19"}
{"level":"info","msg":"Git仓库同步成功，耗时: 31.951938ms","time":"2025-07-25 00:09:19"}
{"level":"info","msg":"已删除仓库目录: /data/ahop/repos/1/48/test-worker-001_1753373349_h1jc15","time":"2025-07-25 00:09:19"}
{"level":"info","msg":"Git仓库同步成功，耗时: 32.019236ms","time":"2025-07-25 00:09:19"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-25 00:10:36"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-25 00:10:53"}
{"level":"info","msg":"开始处理Git同步任务","time":"2025-07-25 00:11:05"}
{"level":"info","msg":"开始处理Git同步任务","time":"2025-07-25 00:11:05"}
{"level":"info","msg":"成功克隆仓库到: /data/ahop/repos/1/49/test-worker-001_1753373465_zt371b","time":"2025-07-25 00:11:06"}
{"level":"info","msg":"Git仓库同步成功，耗时: 691.677313ms","time":"2025-07-25 00:11:06"}
{"level":"info","msg":"成功克隆仓库到: /data/ahop/repos/1/49/test-worker-001_1753373465_1l11zs","time":"2025-07-25 00:11:06"}
{"level":"info","msg":"Git仓库同步成功，耗时: 785.153247ms","time":"2025-07-25 00:11:06"}
{"level":"info","msg":"开始处理Git同步任务","time":"2025-07-25 00:11:07"}
{"level":"info","msg":"开始处理Git同步任务","time":"2025-07-25 00:11:07"}
{"level":"info","msg":"成功克隆仓库到: /data/ahop/repos/1/49/test-worker-001_1753373467_x0tx73","time":"2025-07-25 00:11:07"}
{"level":"info","msg":"Git仓库同步成功，耗时: 540.224596ms","time":"2025-07-25 00:11:07"}
{"level":"info","msg":"成功克隆仓库到: /data/ahop/repos/1/49/test-worker-001_1753373467_fzt7f2","time":"2025-07-25 00:11:08"}
{"level":"info","msg":"Git仓库同步成功，耗时: 582.147874ms","time":"2025-07-25 00:11:08"}
{"level":"info","msg":"开始处理Git同步任务","time":"2025-07-25 00:11:17"}
{"level":"info","msg":"开始处理Git同步任务","time":"2025-07-25 00:11:17"}
{"level":"info","msg":"已删除仓库目录: /data/ahop/repos/1/49/test-worker-001_1753373465_1l11zs","time":"2025-07-25 00:11:17"}
{"level":"info","msg":"已删除仓库目录: /data/ahop/repos/1/49/test-worker-001_1753373465_1l11zs","time":"2025-07-25 00:11:17"}
{"level":"info","msg":"已删除仓库目录: /data/ahop/repos/1/49/test-worker-001_1753373465_zt371b","time":"2025-07-25 00:11:17"}
{"level":"info","msg":"已删除仓库目录: /data/ahop/repos/1/49/test-worker-001_1753373465_zt371b","time":"2025-07-25 00:11:17"}
{"level":"info","msg":"已删除仓库目录: /data/ahop/repos/1/49/test-worker-001_1753373467_fzt7f2","time":"2025-07-25 00:11:17"}
{"level":"info","msg":"已删除仓库目录: /data/ahop/repos/1/49/test-worker-001_1753373467_fzt7f2","time":"2025-07-25 00:11:17"}
{"level":"info","msg":"已删除仓库目录: /data/ahop/repos/1/49/test-worker-001_1753373467_x0tx73","time":"2025-07-25 00:11:17"}
{"level":"info","msg":"已删除仓库目录: /data/ahop/repos/1/49/test-worker-001_1753373467_x0tx73","time":"2025-07-25 00:11:17"}
{"level":"info","msg":"Git仓库同步成功，耗时: 27.159139ms","time":"2025-07-25 00:11:17"}
{"level":"info","msg":"Git仓库同步成功，耗时: 27.193268ms","time":"2025-07-25 00:11:17"}
{"level":"info","msg":"收到退出信号，正在停止Worker...","time":"2025-07-25 00:12:34"}
{"level":"info","msg":"收到退出信号，正在停止Worker...","time":"2025-07-25 00:12:34"}
{"level":"info","msg":"开始停止Worker","time":"2025-07-25 00:12:34"}
{"level":"info","msg":"开始停止Worker","time":"2025-07-25 00:12:34"}
{"level":"info","msg":"Git同步订阅服务收到退出信号","time":"2025-07-25 00:12:34"}
{"level":"info","msg":"Git仓库清理服务收到退出信号","time":"2025-07-25 00:12:34"}
{"level":"info","msg":"Git同步订阅服务收到退出信号","time":"2025-07-25 00:12:34"}
{"level":"info","msg":"Git仓库清理服务收到退出信号","time":"2025-07-25 00:12:34"}
{"consumer_id":1,"level":"info","msg":"任务消费者收到退出信号","time":"2025-07-25 00:12:39","worker_id":"test-worker-001"}
{"consumer_id":0,"level":"info","msg":"任务消费者收到退出信号","time":"2025-07-25 00:12:39","worker_id":"test-worker-001"}
{"level":"info","msg":"所有任务已完成","time":"2025-07-25 00:12:39"}
{"level":"info","msg":"Worker已停止","time":"2025-07-25 00:12:39"}
{"level":"info","msg":"Worker已优雅停止","time":"2025-07-25 00:12:39"}
{"consumer_id":0,"level":"info","msg":"任务消费者收到退出信号","time":"2025-07-25 00:12:40","worker_id":"test-worker-001"}
{"consumer_id":1,"level":"info","msg":"任务消费者收到退出信号","time":"2025-07-25 00:12:40","worker_id":"test-worker-001"}
{"level":"info","msg":"所有任务已完成","time":"2025-07-25 00:12:40"}
{"level":"info","msg":"Worker已停止","time":"2025-07-25 00:12:40"}
{"level":"info","msg":"Worker已优雅停止","time":"2025-07-25 00:12:40"}
{"level":"info","master_url":"http://localhost:8080","msg":"启动AHOP Worker","time":"2025-07-25 00:13:12","version":"1.0.0","worker_name":"AHOP Worker on development"}
{"level":"info","msg":"使用配置的worker_id","time":"2025-07-25 00:13:12","worker_id":"test-worker-001"}
{"level":"info","master_url":"http://localhost:8080","msg":"Worker认证成功，获得数据库和Redis凭据","time":"2025-07-25 00:13:12","worker_id":"test-worker-001"}
{"executors":2,"level":"info","msg":"已注册任务执行器","time":"2025-07-25 00:13:12"}
{"concurrency":2,"level":"info","msg":"Worker启动成功","time":"2025-07-25 00:13:12","worker_id":"test-worker-001"}
{"level":"info","msg":"Worker启动成功，正在等待任务...","time":"2025-07-25 00:13:12"}
{"consumer_id":0,"level":"info","msg":"任务消费者启动","time":"2025-07-25 00:13:12","worker_id":"test-worker-001"}
{"consumer_id":1,"level":"info","msg":"任务消费者启动","time":"2025-07-25 00:13:12","worker_id":"test-worker-001"}
{"level":"info","msg":"开始清理旧的Git仓库副本...","time":"2025-07-25 00:13:12"}
{"level":"info","msg":"清理完成，共删除 0 个旧仓库目录","time":"2025-07-25 00:13:12"}
{"level":"info","msg":"Git同步订阅服务已启动","time":"2025-07-25 00:13:12"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-25 00:15:12"}
{"level":"debug","msg":"开始查找pending状态的同步日志","repository_id":51,"tenant_id":1,"time":"2025-07-25 00:15:47"}
{"error":"record not found","level":"warning","msg":"未找到pending状态的同步日志","time":"2025-07-25 00:15:47"}
{"level":"info","msg":"开始处理Git同步任务","time":"2025-07-25 00:15:47"}
{"level":"debug","msg":"开始查找pending状态的同步日志","repository_id":51,"tenant_id":1,"time":"2025-07-25 00:15:47"}
{"error":"record not found","level":"warning","msg":"未找到pending状态的同步日志","time":"2025-07-25 00:15:47"}
{"level":"info","msg":"开始处理Git同步任务","time":"2025-07-25 00:15:47"}
{"level":"info","msg":"成功克隆仓库到: /data/ahop/repos/1/51/test-worker-001_1753373747_9kl98x","time":"2025-07-25 00:15:48"}
{"error":"record not found","level":"warning","msg":"无法更新同步日志，因为未找到对应的pending日志","time":"2025-07-25 00:15:48"}
{"level":"info","msg":"Git仓库同步成功，耗时: 557.250731ms","time":"2025-07-25 00:15:48"}
{"level":"info","msg":"成功克隆仓库到: /data/ahop/repos/1/51/test-worker-001_1753373747_k2pzw9","time":"2025-07-25 00:15:48"}
{"error":"record not found","level":"warning","msg":"无法更新同步日志，因为未找到对应的pending日志","time":"2025-07-25 00:15:48"}
{"level":"info","msg":"Git仓库同步成功，耗时: 532.97605ms","time":"2025-07-25 00:15:48"}
{"level":"debug","msg":"开始查找pending状态的同步日志","repository_id":51,"tenant_id":1,"time":"2025-07-25 00:15:52"}
{"error":"record not found","level":"warning","msg":"未找到pending状态的同步日志","time":"2025-07-25 00:15:52"}
{"level":"info","msg":"开始处理Git同步任务","time":"2025-07-25 00:15:52"}
{"level":"info","msg":"已删除仓库目录: /data/ahop/repos/1/51/test-worker-001_1753373747_9kl98x","time":"2025-07-25 00:15:52"}
{"level":"info","msg":"已删除仓库目录: /data/ahop/repos/1/51/test-worker-001_1753373747_k2pzw9","time":"2025-07-25 00:15:52"}
{"error":"record not found","level":"warning","msg":"无法更新同步日志，因为未找到对应的pending日志","time":"2025-07-25 00:15:52"}
{"level":"info","msg":"Git仓库同步成功，耗时: 21.937245ms","time":"2025-07-25 00:15:52"}
{"level":"info","msg":"收到退出信号，正在停止Worker...","time":"2025-07-25 00:17:01"}
{"level":"info","msg":"开始停止Worker","time":"2025-07-25 00:17:01"}
{"level":"info","msg":"Git同步订阅服务收到退出信号","time":"2025-07-25 00:17:01"}
{"level":"info","msg":"Git仓库清理服务收到退出信号","time":"2025-07-25 00:17:01"}
{"consumer_id":0,"level":"info","msg":"任务消费者收到退出信号","time":"2025-07-25 00:17:05","worker_id":"test-worker-001"}
{"consumer_id":1,"level":"info","msg":"任务消费者收到退出信号","time":"2025-07-25 00:17:05","worker_id":"test-worker-001"}
{"level":"info","msg":"所有任务已完成","time":"2025-07-25 00:17:05"}
{"level":"info","msg":"Worker已停止","time":"2025-07-25 00:17:05"}
{"level":"info","msg":"Worker已优雅停止","time":"2025-07-25 00:17:05"}
{"level":"info","master_url":"http://localhost:8080","msg":"启动AHOP Worker","time":"2025-07-25 00:17:09","version":"1.0.0","worker_name":"AHOP Worker on development"}
{"level":"info","msg":"使用配置的worker_id","time":"2025-07-25 00:17:09","worker_id":"test-worker-001"}
{"level":"info","master_url":"http://localhost:8080","msg":"Worker认证成功，获得数据库和Redis凭据","time":"2025-07-25 00:17:09","worker_id":"test-worker-001"}
{"executors":2,"level":"info","msg":"已注册任务执行器","time":"2025-07-25 00:17:09"}
{"concurrency":2,"level":"info","msg":"Worker启动成功","time":"2025-07-25 00:17:09","worker_id":"test-worker-001"}
{"level":"info","msg":"Worker启动成功，正在等待任务...","time":"2025-07-25 00:17:09"}
{"level":"info","msg":"开始清理旧的Git仓库副本...","time":"2025-07-25 00:17:09"}
{"level":"info","msg":"清理完成，共删除 0 个旧仓库目录","time":"2025-07-25 00:17:09"}
{"consumer_id":1,"level":"info","msg":"任务消费者启动","time":"2025-07-25 00:17:09","worker_id":"test-worker-001"}
{"consumer_id":0,"level":"info","msg":"任务消费者启动","time":"2025-07-25 00:17:09","worker_id":"test-worker-001"}
{"level":"info","msg":"Git同步订阅服务已启动","time":"2025-07-25 00:17:09"}
{"level":"debug","msg":"开始查找pending状态的同步日志","repository_id":52,"tenant_id":1,"time":"2025-07-25 00:17:23"}
{"error":"record not found","level":"warning","msg":"未找到pending状态的同步日志","time":"2025-07-25 00:17:23"}
{"level":"info","msg":"开始处理Git同步任务","time":"2025-07-25 00:17:23"}
{"level":"debug","msg":"开始查找pending状态的同步日志","repository_id":52,"tenant_id":1,"time":"2025-07-25 00:17:23"}
{"error":"record not found","level":"warning","msg":"未找到pending状态的同步日志","time":"2025-07-25 00:17:23"}
{"level":"info","msg":"开始处理Git同步任务","time":"2025-07-25 00:17:23"}
{"level":"info","msg":"成功克隆仓库到: /data/ahop/repos/1/52/test-worker-001_1753373843_b6qcpq","time":"2025-07-25 00:17:24"}
{"error":"record not found","level":"warning","msg":"无法更新同步日志，因为未找到对应的pending日志","time":"2025-07-25 00:17:24"}
{"level":"info","msg":"Git仓库同步成功，耗时: 1.15403855s","time":"2025-07-25 00:17:24"}
{"level":"info","msg":"成功克隆仓库到: /data/ahop/repos/1/52/test-worker-001_1753373843_0ji9rn","time":"2025-07-25 00:17:24"}
{"error":"record not found","level":"warning","msg":"无法更新同步日志，因为未找到对应的pending日志","time":"2025-07-25 00:17:24"}
{"level":"info","msg":"Git仓库同步成功，耗时: 1.222603315s","time":"2025-07-25 00:17:24"}
{"level":"debug","msg":"开始查找pending状态的同步日志","repository_id":52,"tenant_id":1,"time":"2025-07-25 00:17:28"}
{"error":"record not found","level":"warning","msg":"未找到pending状态的同步日志","time":"2025-07-25 00:17:28"}
{"level":"info","msg":"开始处理Git同步任务","time":"2025-07-25 00:17:28"}
{"level":"info","msg":"已删除仓库目录: /data/ahop/repos/1/52/test-worker-001_1753373843_0ji9rn","time":"2025-07-25 00:17:28"}
{"level":"info","msg":"已删除仓库目录: /data/ahop/repos/1/52/test-worker-001_1753373843_b6qcpq","time":"2025-07-25 00:17:28"}
{"error":"record not found","level":"warning","msg":"无法更新同步日志，因为未找到对应的pending日志","time":"2025-07-25 00:17:28"}
{"level":"info","msg":"Git仓库同步成功，耗时: 16.875111ms","time":"2025-07-25 00:17:28"}
{"level":"info","msg":"收到退出信号，正在停止Worker...","time":"2025-07-25 00:18:07"}
{"level":"info","msg":"开始停止Worker","time":"2025-07-25 00:18:07"}
{"level":"info","msg":"Git仓库清理服务收到退出信号","time":"2025-07-25 00:18:07"}
{"level":"info","msg":"Git同步订阅服务收到退出信号","time":"2025-07-25 00:18:07"}
{"consumer_id":1,"level":"info","msg":"任务消费者收到退出信号","time":"2025-07-25 00:18:09","worker_id":"test-worker-001"}
{"consumer_id":0,"level":"info","msg":"任务消费者收到退出信号","time":"2025-07-25 00:18:09","worker_id":"test-worker-001"}
{"level":"info","msg":"所有任务已完成","time":"2025-07-25 00:18:09"}
{"level":"info","msg":"Worker已停止","time":"2025-07-25 00:18:09"}
{"level":"info","msg":"Worker已优雅停止","time":"2025-07-25 00:18:09"}
{"level":"info","master_url":"http://localhost:8080","msg":"启动AHOP Worker","time":"2025-07-25 00:18:31","version":"1.0.0","worker_name":"AHOP Worker on development"}
{"level":"info","msg":"使用配置的worker_id","time":"2025-07-25 00:18:31","worker_id":"test-worker-001"}
{"level":"info","master_url":"http://localhost:8080","msg":"Worker认证成功，获得数据库和Redis凭据","time":"2025-07-25 00:18:31","worker_id":"test-worker-001"}
{"executors":2,"level":"info","msg":"已注册任务执行器","time":"2025-07-25 00:18:31"}
{"concurrency":2,"level":"info","msg":"Worker启动成功","time":"2025-07-25 00:18:31","worker_id":"test-worker-001"}
{"level":"info","msg":"开始清理旧的Git仓库副本...","time":"2025-07-25 00:18:31"}
{"consumer_id":1,"level":"info","msg":"任务消费者启动","time":"2025-07-25 00:18:31","worker_id":"test-worker-001"}
{"level":"info","msg":"Worker启动成功，正在等待任务...","time":"2025-07-25 00:18:31"}
{"level":"info","msg":"清理完成，共删除 0 个旧仓库目录","time":"2025-07-25 00:18:31"}
{"consumer_id":0,"level":"info","msg":"任务消费者启动","time":"2025-07-25 00:18:31","worker_id":"test-worker-001"}
{"level":"info","msg":"Git同步订阅服务已启动","time":"2025-07-25 00:18:31"}
{"level":"debug","msg":"开始查找pending状态的同步日志","repository_id":54,"tenant_id":1,"time":"2025-07-25 00:19:18"}
{"count":0,"level":"debug","logs":[],"msg":"查询到的所有同步日志","time":"2025-07-25 00:19:18"}
{"error":"record not found","level":"warning","msg":"未找到pending状态的同步日志","time":"2025-07-25 00:19:18"}
{"level":"info","msg":"开始处理Git同步任务","time":"2025-07-25 00:19:18"}
{"level":"debug","msg":"开始查找pending状态的同步日志","repository_id":54,"tenant_id":1,"time":"2025-07-25 00:19:18"}
{"count":0,"level":"debug","logs":[],"msg":"查询到的所有同步日志","time":"2025-07-25 00:19:18"}
{"level":"debug","msg":"找到pending状态的同步日志","sync_log_id":83,"time":"2025-07-25 00:19:18","worker_id":"master"}
{"level":"info","msg":"开始处理Git同步任务","time":"2025-07-25 00:19:18"}
{"level":"info","msg":"成功克隆仓库到: /data/ahop/repos/1/54/test-worker-001_1753373958_cyyqby","time":"2025-07-25 00:19:19"}
{"level":"debug","msg":"准备更新同步日志","sync_log_id":83,"time":"2025-07-25 00:19:19","update_data":{"duration":0,"finished_at":"2025-07-25T00:19:19.337548125+08:00","local_path":"/data/ahop/repos/1/54/test-worker-001_1753373959_z9fuye","status":"success","worker_id":"test-worker-001"}}
{"level":"info","msg":"成功更新同步日志","status":"success","sync_log_id":83,"time":"2025-07-25 00:19:19"}
{"level":"info","msg":"Git仓库同步成功，耗时: 495.098326ms","time":"2025-07-25 00:19:19"}
{"level":"info","msg":"成功克隆仓库到: /data/ahop/repos/1/54/test-worker-001_1753373958_a00hni","time":"2025-07-25 00:19:19"}
{"error":"record not found","level":"warning","msg":"无法更新同步日志，因为未找到对应的pending日志","time":"2025-07-25 00:19:19"}
{"level":"info","msg":"Git仓库同步成功，耗时: 541.13ms","time":"2025-07-25 00:19:19"}
{"level":"debug","msg":"开始查找pending状态的同步日志","repository_id":54,"tenant_id":1,"time":"2025-07-25 00:19:28"}
{"count":0,"level":"debug","logs":[],"msg":"查询到的所有同步日志","time":"2025-07-25 00:19:28"}
{"error":"record not found","level":"warning","msg":"未找到pending状态的同步日志","time":"2025-07-25 00:19:28"}
{"level":"info","msg":"开始处理Git同步任务","time":"2025-07-25 00:19:28"}
{"level":"info","msg":"已删除仓库目录: /data/ahop/repos/1/54/test-worker-001_1753373958_a00hni","time":"2025-07-25 00:19:28"}
{"level":"info","msg":"已删除仓库目录: /data/ahop/repos/1/54/test-worker-001_1753373958_cyyqby","time":"2025-07-25 00:19:28"}
{"error":"record not found","level":"warning","msg":"无法更新同步日志，因为未找到对应的pending日志","time":"2025-07-25 00:19:28"}
{"level":"info","msg":"Git仓库同步成功，耗时: 17.889757ms","time":"2025-07-25 00:19:28"}
{"level":"debug","msg":"开始查找pending状态的同步日志","repository_id":55,"tenant_id":1,"time":"2025-07-25 00:19:58"}
{"count":0,"level":"debug","logs":[],"msg":"查询到的所有同步日志","time":"2025-07-25 00:19:58"}
{"error":"record not found","level":"warning","msg":"未找到pending状态的同步日志","time":"2025-07-25 00:19:58"}
{"level":"info","msg":"开始处理Git同步任务","time":"2025-07-25 00:19:58"}
{"level":"debug","msg":"开始查找pending状态的同步日志","repository_id":55,"tenant_id":1,"time":"2025-07-25 00:19:58"}
{"count":0,"level":"debug","logs":[],"msg":"查询到的所有同步日志","time":"2025-07-25 00:19:58"}
{"error":"record not found","level":"warning","msg":"未找到pending状态的同步日志","time":"2025-07-25 00:19:58"}
{"level":"info","msg":"开始处理Git同步任务","time":"2025-07-25 00:19:58"}
{"level":"info","msg":"成功克隆仓库到: /data/ahop/repos/1/55/test-worker-001_1753373998_tcdcng","time":"2025-07-25 00:19:59"}
{"error":"record not found","level":"warning","msg":"无法更新同步日志，因为未找到对应的pending日志","time":"2025-07-25 00:19:59"}
{"level":"info","msg":"Git仓库同步成功，耗时: 1.058026162s","time":"2025-07-25 00:19:59"}
{"level":"info","msg":"成功克隆仓库到: /data/ahop/repos/1/55/test-worker-001_1753373998_tynp5a","time":"2025-07-25 00:19:59"}
{"error":"record not found","level":"warning","msg":"无法更新同步日志，因为未找到对应的pending日志","time":"2025-07-25 00:19:59"}
{"level":"info","msg":"Git仓库同步成功，耗时: 1.164146748s","time":"2025-07-25 00:19:59"}
{"level":"debug","msg":"开始查找pending状态的同步日志","repository_id":55,"tenant_id":1,"time":"2025-07-25 00:20:13"}
{"count":2,"level":"debug","logs":[{"ID":84,"RepositoryID":55,"TenantID":1,"TaskID":"","TaskType":"manual","WorkerID":"master","OperatorID":1,"StartedAt":"2025-07-25T00:19:58.311205+08:00","FinishedAt":null,"Duration":0,"Status":"pending","FromCommit":"","ToCommit":"","ErrorMessage":"","LocalPath":"","CommandOutput":"","CreatedAt":"2025-07-25T00:19:58.311781+08:00"},{"ID":85,"RepositoryID":55,"TenantID":1,"TaskID":"","TaskType":"manual_scan","WorkerID":"master","OperatorID":1,"StartedAt":"2025-07-25T00:20:13.475576+08:00","FinishedAt":null,"Duration":0,"Status":"pending","FromCommit":"","ToCommit":"","ErrorMessage":"","LocalPath":"","CommandOutput":"","CreatedAt":"2025-07-25T00:20:13.476081+08:00"}],"msg":"查询到的所有同步日志","time":"2025-07-25 00:20:13"}
{"level":"debug","msg":"找到pending状态的同步日志","sync_log_id":85,"time":"2025-07-25 00:20:13","worker_id":"master"}
{"level":"info","msg":"开始处理Git同步任务","time":"2025-07-25 00:20:13"}
{"level":"info","msg":"成功克隆仓库到: /data/ahop/repos/1/55/test-worker-001_1753374013_3bduzn","time":"2025-07-25 00:20:13"}
{"level":"info","msg":"开始扫描仓库脚本并创建任务模板...","time":"2025-07-25 00:20:13"}
{"level":"debug","msg":"准备更新同步日志","sync_log_id":85,"time":"2025-07-25 00:20:13","update_data":{"duration":0,"finished_at":"2025-07-25T00:20:13.985705424+08:00","local_path":"/data/ahop/repos/1/55/test-worker-001_1753374013_ovfheq","status":"success","worker_id":"test-worker-001"}}
{"level":"info","msg":"成功更新同步日志","status":"success","sync_log_id":85,"time":"2025-07-25 00:20:13"}
{"level":"info","msg":"Git仓库同步成功，耗时: 509.693772ms","time":"2025-07-25 00:20:13"}
{"level":"debug","msg":"开始查找pending状态的同步日志","repository_id":55,"tenant_id":1,"time":"2025-07-25 00:20:23"}
{"count":0,"level":"debug","logs":[],"msg":"查询到的所有同步日志","time":"2025-07-25 00:20:23"}
{"error":"record not found","level":"warning","msg":"未找到pending状态的同步日志","time":"2025-07-25 00:20:23"}
{"level":"info","msg":"开始处理Git同步任务","time":"2025-07-25 00:20:23"}
{"level":"info","msg":"已删除仓库目录: /data/ahop/repos/1/55/test-worker-001_1753373998_tcdcng","time":"2025-07-25 00:20:23"}
{"level":"info","msg":"已删除仓库目录: /data/ahop/repos/1/55/test-worker-001_1753373998_tynp5a","time":"2025-07-25 00:20:23"}
{"level":"info","msg":"已删除仓库目录: /data/ahop/repos/1/55/test-worker-001_1753374013_3bduzn","time":"2025-07-25 00:20:23"}
{"error":"record not found","level":"warning","msg":"无法更新同步日志，因为未找到对应的pending日志","time":"2025-07-25 00:20:23"}
{"level":"info","msg":"Git仓库同步成功，耗时: 25.886203ms","time":"2025-07-25 00:20:23"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-25 00:20:31"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-25 00:22:31"}
{"level":"info","msg":"收到退出信号，正在停止Worker...","time":"2025-07-25 00:23:46"}
{"level":"info","msg":"开始停止Worker","time":"2025-07-25 00:23:46"}
{"level":"info","msg":"Git同步订阅服务收到退出信号","time":"2025-07-25 00:23:46"}
{"level":"info","msg":"Git仓库清理服务收到退出信号","time":"2025-07-25 00:23:46"}
{"consumer_id":1,"level":"info","msg":"任务消费者收到退出信号","time":"2025-07-25 00:23:54","worker_id":"test-worker-001"}
{"consumer_id":0,"level":"info","msg":"任务消费者收到退出信号","time":"2025-07-25 00:23:54","worker_id":"test-worker-001"}
{"level":"info","msg":"所有任务已完成","time":"2025-07-25 00:23:54"}
{"level":"info","msg":"Worker已停止","time":"2025-07-25 00:23:54"}
{"level":"info","msg":"Worker已优雅停止","time":"2025-07-25 00:23:54"}
{"level":"info","master_url":"http://localhost:8080","msg":"启动AHOP Worker","time":"2025-07-25 00:25:13","version":"1.0.0","worker_name":"AHOP Worker on development"}
{"level":"info","msg":"使用配置的worker_id","time":"2025-07-25 00:25:13","worker_id":"test-worker-001"}
{"level":"info","master_url":"http://localhost:8080","msg":"Worker认证成功，获得数据库和Redis凭据","time":"2025-07-25 00:25:13","worker_id":"test-worker-001"}
{"executors":2,"level":"info","msg":"已注册任务执行器","time":"2025-07-25 00:25:13"}
{"concurrency":2,"level":"info","msg":"Worker启动成功","time":"2025-07-25 00:25:13","worker_id":"test-worker-001"}
{"level":"info","msg":"Worker启动成功，正在等待任务...","time":"2025-07-25 00:25:13"}
{"level":"info","msg":"开始清理旧的Git仓库副本...","time":"2025-07-25 00:25:13"}
{"consumer_id":0,"level":"info","msg":"任务消费者启动","time":"2025-07-25 00:25:13","worker_id":"test-worker-001"}
{"consumer_id":1,"level":"info","msg":"任务消费者启动","time":"2025-07-25 00:25:13","worker_id":"test-worker-001"}
{"level":"info","msg":"清理完成，共删除 0 个旧仓库目录","time":"2025-07-25 00:25:13"}
{"level":"info","msg":"Git同步订阅服务已启动","time":"2025-07-25 00:25:13"}
{"level":"info","master_url":"http://localhost:8080","msg":"启动AHOP Worker","time":"2025-07-25 00:25:16","version":"1.0.0","worker_name":"AHOP Worker on development"}
{"level":"info","msg":"使用配置的worker_id","time":"2025-07-25 00:25:16","worker_id":"test-worker-001"}
{"level":"info","master_url":"http://localhost:8080","msg":"Worker认证成功，获得数据库和Redis凭据","time":"2025-07-25 00:25:16","worker_id":"test-worker-001"}
{"executors":2,"level":"info","msg":"已注册任务执行器","time":"2025-07-25 00:25:16"}
{"concurrency":2,"level":"info","msg":"Worker启动成功","time":"2025-07-25 00:25:16","worker_id":"test-worker-001"}
{"level":"info","msg":"Worker启动成功，正在等待任务...","time":"2025-07-25 00:25:16"}
{"consumer_id":0,"level":"info","msg":"任务消费者启动","time":"2025-07-25 00:25:16","worker_id":"test-worker-001"}
{"level":"info","msg":"开始清理旧的Git仓库副本...","time":"2025-07-25 00:25:16"}
{"consumer_id":1,"level":"info","msg":"任务消费者启动","time":"2025-07-25 00:25:16","worker_id":"test-worker-001"}
{"level":"info","msg":"Git同步订阅服务已启动","time":"2025-07-25 00:25:16"}
{"level":"info","msg":"清理完成，共删除 0 个旧仓库目录","time":"2025-07-25 00:25:16"}
{"level":"info","msg":"收到退出信号，正在停止Worker...","time":"2025-07-25 00:25:23"}
{"level":"info","msg":"开始停止Worker","time":"2025-07-25 00:25:23"}
{"level":"info","msg":"Git仓库清理服务收到退出信号","time":"2025-07-25 00:25:23"}
{"level":"info","msg":"Git同步订阅服务收到退出信号","time":"2025-07-25 00:25:23"}
{"consumer_id":1,"level":"info","msg":"任务消费者收到退出信号","time":"2025-07-25 00:25:27","worker_id":"test-worker-001"}
{"consumer_id":0,"level":"info","msg":"任务消费者收到退出信号","time":"2025-07-25 00:25:27","worker_id":"test-worker-001"}
{"level":"info","msg":"所有任务已完成","time":"2025-07-25 00:25:27"}
{"level":"info","msg":"Worker已停止","time":"2025-07-25 00:25:27"}
{"level":"info","msg":"Worker已优雅停止","time":"2025-07-25 00:25:27"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-25 00:27:13"}
{"level":"debug","msg":"开始查找pending状态的同步日志","repository_id":57,"tenant_id":1,"time":"2025-07-25 00:27:25"}
{"count":0,"level":"debug","logs":[],"msg":"查询到的所有同步日志","time":"2025-07-25 00:27:25"}
{"error":"record not found","level":"warning","msg":"未找到pending状态的同步日志","time":"2025-07-25 00:27:25"}
{"level":"info","msg":"开始处理Git同步任务","time":"2025-07-25 00:27:25"}
{"level":"debug","msg":"开始查找pending状态的同步日志","repository_id":57,"tenant_id":1,"time":"2025-07-25 00:27:26"}
{"count":0,"level":"debug","logs":[],"msg":"查询到的所有同步日志","time":"2025-07-25 00:27:26"}
{"error":"record not found","level":"warning","msg":"未找到pending状态的同步日志","time":"2025-07-25 00:27:26"}
{"level":"info","msg":"开始处理Git同步任务","time":"2025-07-25 00:27:26"}
{"level":"info","msg":"成功克隆仓库到: /data/ahop/repos/1/57/test-worker-001_1753374445_1qyhs6","time":"2025-07-25 00:27:26"}
{"error":"record not found","level":"warning","msg":"无法更新同步日志，因为未找到对应的pending日志","time":"2025-07-25 00:27:26"}
{"level":"info","msg":"Git仓库同步成功，耗时: 571.154582ms","time":"2025-07-25 00:27:26"}
{"level":"info","msg":"成功克隆仓库到: /data/ahop/repos/1/57/test-worker-001_1753374446_0vz6us","time":"2025-07-25 00:27:26"}
{"error":"record not found","level":"warning","msg":"无法更新同步日志，因为未找到对应的pending日志","time":"2025-07-25 00:27:26"}
{"level":"info","msg":"Git仓库同步成功，耗时: 529.789001ms","time":"2025-07-25 00:27:26"}
{"level":"debug","msg":"开始查找pending状态的同步日志","repository_id":57,"tenant_id":1,"time":"2025-07-25 00:27:36"}
{"count":0,"level":"debug","logs":[],"msg":"查询到的所有同步日志","time":"2025-07-25 00:27:36"}
{"error":"record not found","level":"warning","msg":"未找到pending状态的同步日志","time":"2025-07-25 00:27:36"}
{"level":"info","msg":"开始处理Git同步任务","time":"2025-07-25 00:27:36"}
{"level":"info","msg":"已删除仓库目录: /data/ahop/repos/1/57/test-worker-001_1753374445_1qyhs6","time":"2025-07-25 00:27:36"}
{"level":"info","msg":"已删除仓库目录: /data/ahop/repos/1/57/test-worker-001_1753374446_0vz6us","time":"2025-07-25 00:27:36"}
{"error":"record not found","level":"warning","msg":"无法更新同步日志，因为未找到对应的pending日志","time":"2025-07-25 00:27:36"}
{"level":"info","msg":"Git仓库同步成功，耗时: 18.156906ms","time":"2025-07-25 00:27:36"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-25 00:29:13"}
{"level":"debug","msg":"开始查找pending状态的同步日志","repository_id":45,"tenant_id":1,"time":"2025-07-25 00:30:00"}
{"count":2,"level":"debug","logs":[{"ID":71,"RepositoryID":45,"TenantID":1,"TaskID":"","TaskType":"scheduled","WorkerID":"scheduler","OperatorID":null,"StartedAt":"2025-07-25T00:00:00.00745+08:00","FinishedAt":null,"Duration":0,"Status":"pending","FromCommit":"","ToCommit":"","ErrorMessage":"","LocalPath":"","CommandOutput":"","CreatedAt":"2025-07-25T00:00:00.008198+08:00"},{"ID":70,"RepositoryID":45,"TenantID":1,"TaskID":"","TaskType":"manual","WorkerID":"master","OperatorID":1,"StartedAt":"2025-07-24T23:53:07.755821+08:00","FinishedAt":"2025-07-25T00:28:41.208665+08:00","Duration":123,"Status":"test_update","FromCommit":"","ToCommit":"","ErrorMessage":"","LocalPath":"","CommandOutput":"","CreatedAt":"2025-07-24T23:53:07.756152+08:00"}],"msg":"查询到的所有同步日志","time":"2025-07-25 00:30:00"}
{"level":"debug","msg":"找到pending状态的同步日志","sync_log_id":88,"time":"2025-07-25 00:30:00","worker_id":"scheduler"}
{"level":"info","msg":"开始处理Git同步任务","time":"2025-07-25 00:30:00"}
{"level":"info","msg":"成功克隆仓库到: /data/ahop/repos/1/45/test-worker-001_1753374600_fl7rbw","time":"2025-07-25 00:30:00"}
{"level":"debug","msg":"准备更新同步日志","sync_log_id":88,"time":"2025-07-25 00:30:00","update_data":{"duration":0,"finished_at":"2025-07-25T00:30:00.675217789+08:00","local_path":"/data/ahop/repos/1/45/test-worker-001_1753374600_gyqgon","status":"success","worker_id":"test-worker-001"}}
{"level":"info","msg":"成功更新同步日志","status":"success","sync_log_id":88,"time":"2025-07-25 00:30:00"}
{"level":"info","msg":"Git仓库同步成功，耗时: 669.982435ms","time":"2025-07-25 00:30:00"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-25 00:31:13"}
{"level":"debug","msg":"开始查找pending状态的同步日志","repository_id":58,"tenant_id":1,"time":"2025-07-25 00:31:25"}
{"count":0,"level":"debug","logs":[],"msg":"查询到的所有同步日志","time":"2025-07-25 00:31:25"}
{"error":"record not found","level":"warning","msg":"未找到pending状态的同步日志","time":"2025-07-25 00:31:25"}
{"level":"info","msg":"开始处理Git同步任务","time":"2025-07-25 00:31:25"}
{"level":"debug","msg":"开始查找pending状态的同步日志","repository_id":59,"tenant_id":1,"time":"2025-07-25 00:31:25"}
{"count":0,"level":"debug","logs":[],"msg":"查询到的所有同步日志","time":"2025-07-25 00:31:25"}
{"error":"record not found","level":"warning","msg":"未找到pending状态的同步日志","time":"2025-07-25 00:31:25"}
{"level":"info","msg":"开始处理Git同步任务","time":"2025-07-25 00:31:25"}
{"error":"record not found","level":"warning","msg":"无法更新同步日志，因为未找到对应的pending日志","time":"2025-07-25 00:31:25"}
{"action":"sync","error":"构建认证失败: 获取凭证失败: 凭证不存在 (ID: 55)","level":"error","msg":"Git仓库同步失败，耗时: 8.066594ms","repository_id":59,"tenant_id":1,"time":"2025-07-25 00:31:25","worker_id":"test-worker-001"}
{"action":"sync","error":"构建认证失败: 获取凭证失败: 凭证不存在 (ID: 55)","level":"error","msg":"处理Git同步任务失败","repository_id":59,"tenant_id":1,"time":"2025-07-25 00:31:25"}
{"level":"debug","msg":"开始查找pending状态的同步日志","repository_id":58,"tenant_id":1,"time":"2025-07-25 00:31:25"}
{"count":0,"level":"debug","logs":[],"msg":"查询到的所有同步日志","time":"2025-07-25 00:31:25"}
{"error":"record not found","level":"warning","msg":"未找到pending状态的同步日志","time":"2025-07-25 00:31:25"}
{"level":"info","msg":"开始处理Git同步任务","time":"2025-07-25 00:31:25"}
{"level":"info","msg":"成功克隆仓库到: /data/ahop/repos/1/58/test-worker-001_1753374685_pwc0fs","time":"2025-07-25 00:31:26"}
{"error":"record not found","level":"warning","msg":"无法更新同步日志，因为未找到对应的pending日志","time":"2025-07-25 00:31:26"}
{"level":"info","msg":"Git仓库同步成功，耗时: 1.063338534s","time":"2025-07-25 00:31:26"}
{"level":"info","msg":"成功克隆仓库到: /data/ahop/repos/1/58/test-worker-001_1753374685_fcfhi1","time":"2025-07-25 00:31:26"}
{"error":"record not found","level":"warning","msg":"无法更新同步日志，因为未找到对应的pending日志","time":"2025-07-25 00:31:26"}
{"level":"info","msg":"Git仓库同步成功，耗时: 1.02274401s","time":"2025-07-25 00:31:26"}
{"level":"debug","msg":"开始查找pending状态的同步日志","repository_id":59,"tenant_id":1,"time":"2025-07-25 00:31:35"}
{"count":0,"level":"debug","logs":[],"msg":"查询到的所有同步日志","time":"2025-07-25 00:31:35"}
{"level":"debug","msg":"找到pending状态的同步日志","sync_log_id":90,"time":"2025-07-25 00:31:35","worker_id":"master"}
{"level":"info","msg":"开始处理Git同步任务","time":"2025-07-25 00:31:35"}
{"level":"debug","msg":"准备更新同步日志","sync_log_id":90,"time":"2025-07-25 00:31:35","update_data":{"duration":0,"error_message":"构建认证失败: 获取凭证失败: 凭证不存在 (ID: 55)","finished_at":"2025-07-25T00:31:35.233129381+08:00","status":"failed","worker_id":"test-worker-001"}}
{"level":"info","msg":"成功更新同步日志","status":"failed","sync_log_id":90,"time":"2025-07-25 00:31:35"}
{"action":"sync","error":"构建认证失败: 获取凭证失败: 凭证不存在 (ID: 55)","level":"error","msg":"Git仓库同步失败，耗时: 8.57051ms","repository_id":59,"tenant_id":1,"time":"2025-07-25 00:31:35","worker_id":"test-worker-001"}
{"action":"sync","error":"构建认证失败: 获取凭证失败: 凭证不存在 (ID: 55)","level":"error","msg":"处理Git同步任务失败","repository_id":59,"tenant_id":1,"time":"2025-07-25 00:31:35"}
{"level":"debug","msg":"开始查找pending状态的同步日志","repository_id":58,"tenant_id":1,"time":"2025-07-25 00:31:45"}
{"count":1,"level":"debug","logs":[{"ID":89,"RepositoryID":58,"TenantID":1,"TaskID":"","TaskType":"manual","WorkerID":"master","OperatorID":1,"StartedAt":"2025-07-25T00:31:25.091841+08:00","FinishedAt":null,"Duration":0,"Status":"pending","FromCommit":"","ToCommit":"","ErrorMessage":"","LocalPath":"","CommandOutput":"","CreatedAt":"2025-07-25T00:31:25.092401+08:00"}],"msg":"查询到的所有同步日志","time":"2025-07-25 00:31:45"}
{"level":"debug","msg":"找到pending状态的同步日志","sync_log_id":89,"time":"2025-07-25 00:31:45","worker_id":"master"}
{"level":"info","msg":"开始处理Git同步任务","time":"2025-07-25 00:31:45"}
{"level":"info","msg":"成功克隆仓库到: /data/ahop/repos/1/58/test-worker-001_1753374705_n9n09b","time":"2025-07-25 00:31:46"}
{"level":"info","msg":"开始扫描仓库脚本并创建任务模板...","time":"2025-07-25 00:31:46"}
{"level":"debug","msg":"准备更新同步日志","sync_log_id":89,"time":"2025-07-25 00:31:46","update_data":{"duration":0,"finished_at":"2025-07-25T00:31:46.045769032+08:00","local_path":"/data/ahop/repos/1/58/test-worker-001_1753374706_7qoxp4","status":"success","worker_id":"test-worker-001"}}
{"level":"info","msg":"成功更新同步日志","status":"success","sync_log_id":89,"time":"2025-07-25 00:31:46"}
{"level":"info","msg":"Git仓库同步成功，耗时: 659.60418ms","time":"2025-07-25 00:31:46"}
{"level":"debug","msg":"开始查找pending状态的同步日志","repository_id":58,"tenant_id":1,"time":"2025-07-25 00:31:55"}
{"count":0,"level":"debug","logs":[],"msg":"查询到的所有同步日志","time":"2025-07-25 00:31:55"}
{"error":"record not found","level":"warning","msg":"未找到pending状态的同步日志","time":"2025-07-25 00:31:55"}
{"level":"info","msg":"开始处理Git同步任务","time":"2025-07-25 00:31:55"}
{"level":"info","msg":"已删除仓库目录: /data/ahop/repos/1/58/test-worker-001_1753374685_fcfhi1","time":"2025-07-25 00:31:55"}
{"level":"info","msg":"已删除仓库目录: /data/ahop/repos/1/58/test-worker-001_1753374685_pwc0fs","time":"2025-07-25 00:31:55"}
{"level":"info","msg":"已删除仓库目录: /data/ahop/repos/1/58/test-worker-001_1753374705_n9n09b","time":"2025-07-25 00:31:55"}
{"error":"record not found","level":"warning","msg":"无法更新同步日志，因为未找到对应的pending日志","time":"2025-07-25 00:31:55"}
{"level":"info","msg":"Git仓库同步成功，耗时: 18.890189ms","time":"2025-07-25 00:31:55"}
{"level":"debug","msg":"开始查找pending状态的同步日志","repository_id":59,"tenant_id":1,"time":"2025-07-25 00:32:00"}
{"count":0,"level":"debug","logs":[],"msg":"查询到的所有同步日志","time":"2025-07-25 00:32:00"}
{"error":"record not found","level":"warning","msg":"未找到pending状态的同步日志","time":"2025-07-25 00:32:00"}
{"level":"info","msg":"开始处理Git同步任务","time":"2025-07-25 00:32:00"}
{"level":"info","msg":"已删除仓库目录: /data/ahop/repos/1/59/test-worker-001_1753374685_0vk0uc","time":"2025-07-25 00:32:00"}
{"level":"info","msg":"已删除仓库目录: /data/ahop/repos/1/59/test-worker-001_1753374695_ntx2y3","time":"2025-07-25 00:32:00"}
{"error":"record not found","level":"warning","msg":"无法更新同步日志，因为未找到对应的pending日志","time":"2025-07-25 00:32:00"}
{"level":"info","msg":"Git仓库同步成功，耗时: 4.116392ms","time":"2025-07-25 00:32:00"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-25 00:33:13"}
{"level":"info","msg":"收到退出信号，正在停止Worker...","time":"2025-07-25 00:33:38"}
{"level":"info","msg":"开始停止Worker","time":"2025-07-25 00:33:38"}
{"level":"info","msg":"Git仓库清理服务收到退出信号","time":"2025-07-25 00:33:38"}
{"level":"info","msg":"Git同步订阅服务收到退出信号","time":"2025-07-25 00:33:38"}
{"consumer_id":1,"level":"info","msg":"任务消费者收到退出信号","time":"2025-07-25 00:33:38","worker_id":"test-worker-001"}
{"consumer_id":0,"level":"info","msg":"任务消费者收到退出信号","time":"2025-07-25 00:33:38","worker_id":"test-worker-001"}
{"level":"info","msg":"所有任务已完成","time":"2025-07-25 00:33:38"}
{"level":"info","msg":"Worker已停止","time":"2025-07-25 00:33:38"}
{"level":"info","msg":"Worker已优雅停止","time":"2025-07-25 00:33:38"}
{"level":"info","master_url":"http://localhost:8080","msg":"启动AHOP Worker","time":"2025-07-25 00:33:48","version":"1.0.0","worker_name":"AHOP Worker on development"}
{"level":"info","msg":"使用配置的worker_id","time":"2025-07-25 00:33:48","worker_id":"test-worker-001"}
{"level":"info","master_url":"http://localhost:8080","msg":"Worker认证成功，获得数据库和Redis凭据","time":"2025-07-25 00:33:48","worker_id":"test-worker-001"}
{"executors":2,"level":"info","msg":"已注册任务执行器","time":"2025-07-25 00:33:48"}
{"concurrency":2,"level":"info","msg":"Worker启动成功","time":"2025-07-25 00:33:48","worker_id":"test-worker-001"}
{"level":"info","msg":"Worker启动成功，正在等待任务...","time":"2025-07-25 00:33:48"}
{"consumer_id":0,"level":"info","msg":"任务消费者启动","time":"2025-07-25 00:33:48","worker_id":"test-worker-001"}
{"consumer_id":1,"level":"info","msg":"任务消费者启动","time":"2025-07-25 00:33:48","worker_id":"test-worker-001"}
{"level":"info","msg":"开始清理旧的Git仓库副本...","time":"2025-07-25 00:33:48"}
{"level":"info","msg":"清理完成，共删除 0 个旧仓库目录","time":"2025-07-25 00:33:48"}
{"level":"info","msg":"Git同步订阅服务已启动","time":"2025-07-25 00:33:48"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-25 00:35:48"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-25 00:37:48"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-25 00:39:48"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-25 00:41:48"}
{"level":"info","master_url":"http://localhost:8080","msg":"启动AHOP Worker","time":"2025-07-25 00:43:21","version":"1.0.0","worker_name":"AHOP Worker on development"}
{"level":"info","msg":"使用配置的worker_id","time":"2025-07-25 00:43:21","worker_id":"test-worker-001"}
{"error":"向Master认证失败: 发送认证请求失败: Post \"http://localhost:8080/api/v1/worker/auth\": EOF","level":"fatal","msg":"创建Worker失败","time":"2025-07-25 00:43:21"}
{"level":"info","master_url":"http://localhost:8080","msg":"启动AHOP Worker","time":"2025-07-25 00:43:33","version":"1.0.0","worker_name":"AHOP Worker on development"}
{"level":"info","msg":"使用配置的worker_id","time":"2025-07-25 00:43:33","worker_id":"test-worker-001"}
{"error":"向Master认证失败: 发送认证请求失败: Post \"http://localhost:8080/api/v1/worker/auth\": dial tcp [::1]:8080: connect: connection refused","level":"fatal","msg":"创建Worker失败","time":"2025-07-25 00:43:33"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-25 00:43:48"}
{"level":"info","master_url":"http://localhost:8080","msg":"启动AHOP Worker","time":"2025-07-25 00:44:35","version":"1.0.0","worker_name":"AHOP Worker on development"}
{"level":"info","msg":"使用配置的worker_id","time":"2025-07-25 00:44:35","worker_id":"test-worker-001"}
{"level":"info","master_url":"http://localhost:8080","msg":"Worker认证成功，获得数据库和Redis凭据","time":"2025-07-25 00:44:35","worker_id":"test-worker-001"}
{"executors":2,"level":"info","msg":"已注册任务执行器","time":"2025-07-25 00:44:35"}
{"concurrency":2,"level":"info","msg":"Worker启动成功","time":"2025-07-25 00:44:35","worker_id":"test-worker-001"}
{"level":"info","msg":"Worker启动成功，正在等待任务...","time":"2025-07-25 00:44:35"}
{"consumer_id":0,"level":"info","msg":"任务消费者启动","time":"2025-07-25 00:44:35","worker_id":"test-worker-001"}
{"consumer_id":1,"level":"info","msg":"任务消费者启动","time":"2025-07-25 00:44:35","worker_id":"test-worker-001"}
{"level":"info","msg":"开始清理旧的Git仓库副本...","time":"2025-07-25 00:44:35"}
{"level":"info","msg":"Git同步订阅服务已启动","time":"2025-07-25 00:44:35"}
{"level":"info","msg":"清理完成，共删除 0 个旧仓库目录","time":"2025-07-25 00:44:35"}
{"level":"debug","msg":"开始查找pending状态的同步日志","repository_id":60,"tenant_id":1,"time":"2025-07-25 00:44:59"}
{"level":"debug","msg":"开始查找pending状态的同步日志","repository_id":60,"tenant_id":1,"time":"2025-07-25 00:44:59"}
{"count":0,"level":"debug","logs":[],"msg":"查询到的所有同步日志","time":"2025-07-25 00:44:59"}
{"count":0,"level":"debug","logs":[],"msg":"查询到的所有同步日志","time":"2025-07-25 00:44:59"}
{"error":"record not found","level":"warning","msg":"未找到pending状态的同步日志","time":"2025-07-25 00:44:59"}
{"level":"info","msg":"开始处理Git同步任务","time":"2025-07-25 00:44:59"}
{"error":"record not found","level":"warning","msg":"未找到pending状态的同步日志","time":"2025-07-25 00:44:59"}
{"level":"info","msg":"开始处理Git同步任务","time":"2025-07-25 00:44:59"}
{"level":"debug","msg":"开始查找pending状态的同步日志","repository_id":61,"tenant_id":1,"time":"2025-07-25 00:44:59"}
{"level":"debug","msg":"开始查找pending状态的同步日志","repository_id":61,"tenant_id":1,"time":"2025-07-25 00:44:59"}
{"count":0,"level":"debug","logs":[],"msg":"查询到的所有同步日志","time":"2025-07-25 00:44:59"}
{"count":0,"level":"debug","logs":[],"msg":"查询到的所有同步日志","time":"2025-07-25 00:44:59"}
{"error":"record not found","level":"warning","msg":"未找到pending状态的同步日志","time":"2025-07-25 00:44:59"}
{"level":"info","msg":"开始处理Git同步任务","time":"2025-07-25 00:44:59"}
{"error":"record not found","level":"warning","msg":"未找到pending状态的同步日志","time":"2025-07-25 00:44:59"}
{"level":"info","msg":"开始处理Git同步任务","time":"2025-07-25 00:44:59"}
{"error":"record not found","level":"warning","msg":"无法更新同步日志，因为未找到对应的pending日志","time":"2025-07-25 00:44:59"}
{"action":"sync","error":"构建认证失败: 获取凭证失败: 凭证不存在 (ID: 56)","level":"error","msg":"Git仓库同步失败，耗时: 9.027401ms","repository_id":61,"tenant_id":1,"time":"2025-07-25 00:44:59","worker_id":"test-worker-001"}
{"action":"sync","error":"构建认证失败: 获取凭证失败: 凭证不存在 (ID: 56)","level":"error","msg":"处理Git同步任务失败","repository_id":61,"tenant_id":1,"time":"2025-07-25 00:44:59"}
{"error":"record not found","level":"warning","msg":"无法更新同步日志，因为未找到对应的pending日志","time":"2025-07-25 00:44:59"}
{"action":"sync","error":"构建认证失败: 获取凭证失败: 凭证不存在 (ID: 56)","level":"error","msg":"Git仓库同步失败，耗时: 11.238901ms","repository_id":61,"tenant_id":1,"time":"2025-07-25 00:44:59","worker_id":"test-worker-001"}
{"action":"sync","error":"构建认证失败: 获取凭证失败: 凭证不存在 (ID: 56)","level":"error","msg":"处理Git同步任务失败","repository_id":61,"tenant_id":1,"time":"2025-07-25 00:44:59"}
{"level":"debug","msg":"开始查找pending状态的同步日志","repository_id":60,"tenant_id":1,"time":"2025-07-25 00:44:59"}
{"level":"debug","msg":"开始查找pending状态的同步日志","repository_id":60,"tenant_id":1,"time":"2025-07-25 00:44:59"}
{"count":1,"level":"debug","logs":[{"ID":92,"RepositoryID":60,"TenantID":1,"TaskID":"","TaskType":"manual","WorkerID":"master","OperatorID":1,"StartedAt":"2025-07-25T00:44:59.727523+08:00","FinishedAt":null,"Duration":0,"Status":"pending","FromCommit":"","ToCommit":"","ErrorMessage":"","LocalPath":"","CommandOutput":"","CreatedAt":"2025-07-25T00:44:59.727983+08:00"}],"msg":"查询到的所有同步日志","time":"2025-07-25 00:44:59"}
{"level":"debug","msg":"找到pending状态的同步日志","sync_log_id":92,"time":"2025-07-25 00:44:59","worker_id":"master"}
{"level":"info","msg":"开始处理Git同步任务","time":"2025-07-25 00:44:59"}
{"count":1,"level":"debug","logs":[{"ID":92,"RepositoryID":60,"TenantID":1,"TaskID":"","TaskType":"manual","WorkerID":"master","OperatorID":1,"StartedAt":"2025-07-25T00:44:59.727523+08:00","FinishedAt":null,"Duration":0,"Status":"pending","FromCommit":"","ToCommit":"","ErrorMessage":"","LocalPath":"","CommandOutput":"","CreatedAt":"2025-07-25T00:44:59.727983+08:00"}],"msg":"查询到的所有同步日志","time":"2025-07-25 00:44:59"}
{"level":"debug","msg":"找到pending状态的同步日志","sync_log_id":92,"time":"2025-07-25 00:44:59","worker_id":"master"}
{"level":"info","msg":"开始处理Git同步任务","time":"2025-07-25 00:44:59"}
{"level":"info","msg":"成功克隆仓库到: /data/ahop/repos/1/60/test-worker-001_1753375499_blx31v","time":"2025-07-25 00:45:00"}
{"error":"record not found","level":"warning","msg":"无法更新同步日志，因为未找到对应的pending日志","time":"2025-07-25 00:45:00"}
{"level":"info","msg":"Git仓库同步成功，耗时: 528.289128ms","time":"2025-07-25 00:45:00"}
{"level":"info","msg":"成功克隆仓库到: /data/ahop/repos/1/60/test-worker-001_1753375499_qvd1uf","time":"2025-07-25 00:45:00"}
{"error":"record not found","level":"warning","msg":"无法更新同步日志，因为未找到对应的pending日志","time":"2025-07-25 00:45:00"}
{"level":"info","msg":"Git仓库同步成功，耗时: 581.603922ms","time":"2025-07-25 00:45:00"}
{"level":"info","msg":"成功克隆仓库到: /data/ahop/repos/1/60/test-worker-001_1753375499_t14p3y","time":"2025-07-25 00:45:00"}
{"level":"debug","msg":"准备更新同步日志","sync_log_id":92,"time":"2025-07-25 00:45:00","update_data":{"duration":0,"finished_at":"2025-07-25T00:45:00.262005139+08:00","local_path":"/data/ahop/repos/1/60/test-worker-001_1753375499_t14p3y","status":"success","worker_id":"test-worker-001"}}
{"level":"info","msg":"成功更新同步日志","status":"success","sync_log_id":92,"time":"2025-07-25 00:45:00"}
{"level":"info","msg":"Git仓库同步成功，耗时: 530.810011ms","time":"2025-07-25 00:45:00"}
{"level":"info","msg":"成功克隆仓库到: /data/ahop/repos/1/60/test-worker-001_1753375499_0m4014","time":"2025-07-25 00:45:00"}
{"level":"debug","msg":"准备更新同步日志","sync_log_id":92,"time":"2025-07-25 00:45:00","update_data":{"duration":0,"finished_at":"2025-07-25T00:45:00.309593135+08:00","local_path":"/data/ahop/repos/1/60/test-worker-001_1753375499_t14p3y","status":"success","worker_id":"test-worker-001"}}
{"level":"info","msg":"成功更新同步日志","status":"success","sync_log_id":92,"time":"2025-07-25 00:45:00"}
{"level":"info","msg":"Git仓库同步成功，耗时: 578.779045ms","time":"2025-07-25 00:45:00"}
{"level":"debug","msg":"开始查找pending状态的同步日志","repository_id":61,"tenant_id":1,"time":"2025-07-25 00:45:09"}
{"level":"debug","msg":"开始查找pending状态的同步日志","repository_id":61,"tenant_id":1,"time":"2025-07-25 00:45:09"}
{"count":1,"level":"debug","logs":[{"ID":93,"RepositoryID":61,"TenantID":1,"TaskID":"","TaskType":"manual","WorkerID":"master","OperatorID":1,"StartedAt":"2025-07-25T00:45:09.914181+08:00","FinishedAt":null,"Duration":0,"Status":"pending","FromCommit":"","ToCommit":"","ErrorMessage":"","LocalPath":"","CommandOutput":"","CreatedAt":"2025-07-25T00:45:09.914871+08:00"}],"msg":"查询到的所有同步日志","time":"2025-07-25 00:45:09"}
{"count":1,"level":"debug","logs":[{"ID":93,"RepositoryID":61,"TenantID":1,"TaskID":"","TaskType":"manual","WorkerID":"master","OperatorID":1,"StartedAt":"2025-07-25T00:45:09.914181+08:00","FinishedAt":null,"Duration":0,"Status":"pending","FromCommit":"","ToCommit":"","ErrorMessage":"","LocalPath":"","CommandOutput":"","CreatedAt":"2025-07-25T00:45:09.914871+08:00"}],"msg":"查询到的所有同步日志","time":"2025-07-25 00:45:09"}
{"level":"debug","msg":"找到pending状态的同步日志","sync_log_id":93,"time":"2025-07-25 00:45:09","worker_id":"master"}
{"level":"info","msg":"开始处理Git同步任务","time":"2025-07-25 00:45:09"}
{"level":"debug","msg":"找到pending状态的同步日志","sync_log_id":93,"time":"2025-07-25 00:45:09","worker_id":"master"}
{"level":"info","msg":"开始处理Git同步任务","time":"2025-07-25 00:45:09"}
{"level":"debug","msg":"准备更新同步日志","sync_log_id":93,"time":"2025-07-25 00:45:09","update_data":{"duration":0,"error_message":"构建认证失败: 获取凭证失败: 凭证不存在 (ID: 56)","finished_at":"2025-07-25T00:45:09.924437496+08:00","status":"failed","worker_id":"test-worker-001"}}
{"level":"debug","msg":"准备更新同步日志","sync_log_id":93,"time":"2025-07-25 00:45:09","update_data":{"duration":0,"error_message":"构建认证失败: 获取凭证失败: 凭证不存在 (ID: 56)","finished_at":"2025-07-25T00:45:09.924766407+08:00","status":"failed","worker_id":"test-worker-001"}}
{"level":"info","msg":"成功更新同步日志","status":"failed","sync_log_id":93,"time":"2025-07-25 00:45:09"}
{"action":"sync","error":"构建认证失败: 获取凭证失败: 凭证不存在 (ID: 56)","level":"error","msg":"Git仓库同步失败，耗时: 6.735038ms","repository_id":61,"tenant_id":1,"time":"2025-07-25 00:45:09","worker_id":"test-worker-001"}
{"action":"sync","error":"构建认证失败: 获取凭证失败: 凭证不存在 (ID: 56)","level":"error","msg":"处理Git同步任务失败","repository_id":61,"tenant_id":1,"time":"2025-07-25 00:45:09"}
{"level":"info","msg":"成功更新同步日志","status":"failed","sync_log_id":93,"time":"2025-07-25 00:45:09"}
{"action":"sync","error":"构建认证失败: 获取凭证失败: 凭证不存在 (ID: 56)","level":"error","msg":"Git仓库同步失败，耗时: 6.90959ms","repository_id":61,"tenant_id":1,"time":"2025-07-25 00:45:09","worker_id":"test-worker-001"}
{"action":"sync","error":"构建认证失败: 获取凭证失败: 凭证不存在 (ID: 56)","level":"error","msg":"处理Git同步任务失败","repository_id":61,"tenant_id":1,"time":"2025-07-25 00:45:09"}
{"level":"debug","msg":"开始查找pending状态的同步日志","repository_id":60,"tenant_id":1,"time":"2025-07-25 00:45:20"}
{"level":"debug","msg":"开始查找pending状态的同步日志","repository_id":60,"tenant_id":1,"time":"2025-07-25 00:45:20"}
{"count":2,"level":"debug","logs":[{"ID":92,"RepositoryID":60,"TenantID":1,"TaskID":"","TaskType":"manual","WorkerID":"test-worker-001","OperatorID":1,"StartedAt":"2025-07-25T00:44:59.727523+08:00","FinishedAt":"2025-07-25T00:45:00.309593+08:00","Duration":0,"Status":"success","FromCommit":"","ToCommit":"","ErrorMessage":"","LocalPath":"/data/ahop/repos/1/60/test-worker-001_1753375499_t14p3y","CommandOutput":"","CreatedAt":"2025-07-25T00:44:59.727983+08:00"},{"ID":94,"RepositoryID":60,"TenantID":1,"TaskID":"","TaskType":"manual_scan","WorkerID":"master","OperatorID":1,"StartedAt":"2025-07-25T00:45:20.070093+08:00","FinishedAt":null,"Duration":0,"Status":"pending","FromCommit":"","ToCommit":"","ErrorMessage":"","LocalPath":"","CommandOutput":"","CreatedAt":"2025-07-25T00:45:20.070572+08:00"}],"msg":"查询到的所有同步日志","time":"2025-07-25 00:45:20"}
{"count":2,"level":"debug","logs":[{"ID":92,"RepositoryID":60,"TenantID":1,"TaskID":"","TaskType":"manual","WorkerID":"test-worker-001","OperatorID":1,"StartedAt":"2025-07-25T00:44:59.727523+08:00","FinishedAt":"2025-07-25T00:45:00.309593+08:00","Duration":0,"Status":"success","FromCommit":"","ToCommit":"","ErrorMessage":"","LocalPath":"/data/ahop/repos/1/60/test-worker-001_1753375499_t14p3y","CommandOutput":"","CreatedAt":"2025-07-25T00:44:59.727983+08:00"},{"ID":94,"RepositoryID":60,"TenantID":1,"TaskID":"","TaskType":"manual_scan","WorkerID":"master","OperatorID":1,"StartedAt":"2025-07-25T00:45:20.070093+08:00","FinishedAt":null,"Duration":0,"Status":"pending","FromCommit":"","ToCommit":"","ErrorMessage":"","LocalPath":"","CommandOutput":"","CreatedAt":"2025-07-25T00:45:20.070572+08:00"}],"msg":"查询到的所有同步日志","time":"2025-07-25 00:45:20"}
{"level":"debug","msg":"找到pending状态的同步日志","sync_log_id":94,"time":"2025-07-25 00:45:20","worker_id":"master"}
{"level":"info","msg":"开始处理Git同步任务","time":"2025-07-25 00:45:20"}
{"level":"debug","msg":"找到pending状态的同步日志","sync_log_id":94,"time":"2025-07-25 00:45:20","worker_id":"master"}
{"level":"info","msg":"开始处理Git同步任务","time":"2025-07-25 00:45:20"}
{"level":"info","msg":"成功克隆仓库到: /data/ahop/repos/1/60/test-worker-001_1753375520_a1431c","time":"2025-07-25 00:45:20"}
{"level":"info","msg":"开始扫描仓库脚本并创建任务模板...","time":"2025-07-25 00:45:20"}
{"level":"debug","msg":"准备更新同步日志","sync_log_id":94,"time":"2025-07-25 00:45:20","update_data":{"duration":0,"finished_at":"2025-07-25T00:45:20.695147451+08:00","local_path":"/data/ahop/repos/1/60/test-worker-001_1753375520_a1431c","status":"success","worker_id":"test-worker-001"}}
{"level":"info","msg":"成功更新同步日志","status":"success","sync_log_id":94,"time":"2025-07-25 00:45:20"}
{"level":"info","msg":"Git仓库同步成功，耗时: 621.252977ms","time":"2025-07-25 00:45:20"}
{"level":"info","msg":"成功克隆仓库到: /data/ahop/repos/1/60/test-worker-001_1753375520_8fyfmw","time":"2025-07-25 00:45:20"}
{"level":"info","msg":"开始扫描仓库脚本并创建任务模板...","time":"2025-07-25 00:45:20"}
{"level":"debug","msg":"准备更新同步日志","sync_log_id":94,"time":"2025-07-25 00:45:20","update_data":{"duration":0,"finished_at":"2025-07-25T00:45:20.725300429+08:00","local_path":"/data/ahop/repos/1/60/test-worker-001_1753375520_a1431c","status":"success","worker_id":"test-worker-001"}}
{"level":"info","msg":"成功更新同步日志","status":"success","sync_log_id":94,"time":"2025-07-25 00:45:20"}
{"level":"info","msg":"Git仓库同步成功，耗时: 651.437832ms","time":"2025-07-25 00:45:20"}
{"level":"debug","msg":"开始查找pending状态的同步日志","repository_id":60,"tenant_id":1,"time":"2025-07-25 00:45:30"}
{"level":"debug","msg":"开始查找pending状态的同步日志","repository_id":60,"tenant_id":1,"time":"2025-07-25 00:45:30"}
{"count":0,"level":"debug","logs":[],"msg":"查询到的所有同步日志","time":"2025-07-25 00:45:30"}
{"error":"record not found","level":"warning","msg":"未找到pending状态的同步日志","time":"2025-07-25 00:45:30"}
{"count":0,"level":"debug","logs":[],"msg":"查询到的所有同步日志","time":"2025-07-25 00:45:30"}
{"level":"info","msg":"开始处理Git同步任务","time":"2025-07-25 00:45:30"}
{"error":"record not found","level":"warning","msg":"未找到pending状态的同步日志","time":"2025-07-25 00:45:30"}
{"level":"info","msg":"开始处理Git同步任务","time":"2025-07-25 00:45:30"}
{"level":"info","msg":"已删除仓库目录: /data/ahop/repos/1/60/test-worker-001_1753375499_0m4014","time":"2025-07-25 00:45:30"}
{"level":"info","msg":"已删除仓库目录: /data/ahop/repos/1/60/test-worker-001_1753375499_0m4014","time":"2025-07-25 00:45:30"}
{"level":"info","msg":"已删除仓库目录: /data/ahop/repos/1/60/test-worker-001_1753375499_blx31v","time":"2025-07-25 00:45:30"}
{"level":"info","msg":"已删除仓库目录: /data/ahop/repos/1/60/test-worker-001_1753375499_blx31v","time":"2025-07-25 00:45:30"}
{"level":"info","msg":"已删除仓库目录: /data/ahop/repos/1/60/test-worker-001_1753375499_qvd1uf","time":"2025-07-25 00:45:30"}
{"level":"info","msg":"已删除仓库目录: /data/ahop/repos/1/60/test-worker-001_1753375499_qvd1uf","time":"2025-07-25 00:45:30"}
{"level":"info","msg":"已删除仓库目录: /data/ahop/repos/1/60/test-worker-001_1753375499_t14p3y","time":"2025-07-25 00:45:30"}
{"level":"info","msg":"已删除仓库目录: /data/ahop/repos/1/60/test-worker-001_1753375499_t14p3y","time":"2025-07-25 00:45:30"}
{"level":"info","msg":"已删除仓库目录: /data/ahop/repos/1/60/test-worker-001_1753375520_8fyfmw","time":"2025-07-25 00:45:30"}
{"level":"info","msg":"已删除仓库目录: /data/ahop/repos/1/60/test-worker-001_1753375520_8fyfmw","time":"2025-07-25 00:45:30"}
{"level":"info","msg":"已删除仓库目录: /data/ahop/repos/1/60/test-worker-001_1753375520_a1431c","time":"2025-07-25 00:45:30"}
{"error":"record not found","level":"warning","msg":"无法更新同步日志，因为未找到对应的pending日志","time":"2025-07-25 00:45:30"}
{"level":"info","msg":"Git仓库同步成功，耗时: 44.124045ms","time":"2025-07-25 00:45:30"}
{"level":"info","msg":"已删除仓库目录: /data/ahop/repos/1/60/test-worker-001_1753375520_a1431c","time":"2025-07-25 00:45:30"}
{"error":"record not found","level":"warning","msg":"无法更新同步日志，因为未找到对应的pending日志","time":"2025-07-25 00:45:30"}
{"level":"info","msg":"Git仓库同步成功，耗时: 44.611651ms","time":"2025-07-25 00:45:30"}
{"level":"debug","msg":"开始查找pending状态的同步日志","repository_id":61,"tenant_id":1,"time":"2025-07-25 00:45:35"}
{"level":"debug","msg":"开始查找pending状态的同步日志","repository_id":61,"tenant_id":1,"time":"2025-07-25 00:45:35"}
{"count":0,"level":"debug","logs":[],"msg":"查询到的所有同步日志","time":"2025-07-25 00:45:35"}
{"count":0,"level":"debug","logs":[],"msg":"查询到的所有同步日志","time":"2025-07-25 00:45:35"}
{"error":"record not found","level":"warning","msg":"未找到pending状态的同步日志","time":"2025-07-25 00:45:35"}
{"level":"info","msg":"开始处理Git同步任务","time":"2025-07-25 00:45:35"}
{"error":"record not found","level":"warning","msg":"未找到pending状态的同步日志","time":"2025-07-25 00:45:35"}
{"level":"info","msg":"开始处理Git同步任务","time":"2025-07-25 00:45:35"}
{"level":"info","msg":"已删除仓库目录: /data/ahop/repos/1/61/test-worker-001_1753375499_493kgs","time":"2025-07-25 00:45:35"}
{"level":"info","msg":"已删除仓库目录: /data/ahop/repos/1/61/test-worker-001_1753375499_493kgs","time":"2025-07-25 00:45:35"}
{"level":"info","msg":"已删除仓库目录: /data/ahop/repos/1/61/test-worker-001_1753375499_rb3d7r","time":"2025-07-25 00:45:35"}
{"level":"info","msg":"已删除仓库目录: /data/ahop/repos/1/61/test-worker-001_1753375499_rb3d7r","time":"2025-07-25 00:45:35"}
{"level":"info","msg":"已删除仓库目录: /data/ahop/repos/1/61/test-worker-001_1753375509_90y5q4","time":"2025-07-25 00:45:35"}
{"level":"info","msg":"已删除仓库目录: /data/ahop/repos/1/61/test-worker-001_1753375509_90y5q4","time":"2025-07-25 00:45:35"}
{"level":"info","msg":"已删除仓库目录: /data/ahop/repos/1/61/test-worker-001_1753375509_rpbxgw","time":"2025-07-25 00:45:35"}
{"level":"info","msg":"已删除仓库目录: /data/ahop/repos/1/61/test-worker-001_1753375509_rpbxgw","time":"2025-07-25 00:45:35"}
{"error":"record not found","level":"warning","msg":"无法更新同步日志，因为未找到对应的pending日志","time":"2025-07-25 00:45:35"}
{"error":"record not found","level":"warning","msg":"无法更新同步日志，因为未找到对应的pending日志","time":"2025-07-25 00:45:35"}
{"level":"info","msg":"Git仓库同步成功，耗时: 4.61559ms","time":"2025-07-25 00:45:35"}
{"level":"info","msg":"Git仓库同步成功，耗时: 4.644396ms","time":"2025-07-25 00:45:35"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-25 00:45:48"}
{"level":"debug","msg":"开始查找pending状态的同步日志","repository_id":62,"tenant_id":1,"time":"2025-07-25 00:46:18"}
{"level":"debug","msg":"开始查找pending状态的同步日志","repository_id":62,"tenant_id":1,"time":"2025-07-25 00:46:18"}
{"count":0,"level":"debug","logs":[],"msg":"查询到的所有同步日志","time":"2025-07-25 00:46:18"}
{"count":0,"level":"debug","logs":[],"msg":"查询到的所有同步日志","time":"2025-07-25 00:46:18"}
{"error":"record not found","level":"warning","msg":"未找到pending状态的同步日志","time":"2025-07-25 00:46:18"}
{"level":"info","msg":"开始处理Git同步任务","time":"2025-07-25 00:46:18"}
{"error":"record not found","level":"warning","msg":"未找到pending状态的同步日志","time":"2025-07-25 00:46:18"}
{"level":"info","msg":"开始处理Git同步任务","time":"2025-07-25 00:46:18"}
{"level":"debug","msg":"开始查找pending状态的同步日志","repository_id":62,"tenant_id":1,"time":"2025-07-25 00:46:19"}
{"level":"debug","msg":"开始查找pending状态的同步日志","repository_id":62,"tenant_id":1,"time":"2025-07-25 00:46:19"}
{"count":1,"level":"debug","logs":[{"ID":95,"RepositoryID":62,"TenantID":1,"TaskID":"","TaskType":"manual","WorkerID":"master","OperatorID":1,"StartedAt":"2025-07-25T00:46:19.001141+08:00","FinishedAt":null,"Duration":0,"Status":"pending","FromCommit":"","ToCommit":"","ErrorMessage":"","LocalPath":"","CommandOutput":"","CreatedAt":"2025-07-25T00:46:19.001479+08:00"}],"msg":"查询到的所有同步日志","time":"2025-07-25 00:46:19"}
{"count":1,"level":"debug","logs":[{"ID":95,"RepositoryID":62,"TenantID":1,"TaskID":"","TaskType":"manual","WorkerID":"master","OperatorID":1,"StartedAt":"2025-07-25T00:46:19.001141+08:00","FinishedAt":null,"Duration":0,"Status":"pending","FromCommit":"","ToCommit":"","ErrorMessage":"","LocalPath":"","CommandOutput":"","CreatedAt":"2025-07-25T00:46:19.001479+08:00"}],"msg":"查询到的所有同步日志","time":"2025-07-25 00:46:19"}
{"level":"debug","msg":"找到pending状态的同步日志","sync_log_id":95,"time":"2025-07-25 00:46:19","worker_id":"master"}
{"level":"debug","msg":"找到pending状态的同步日志","sync_log_id":95,"time":"2025-07-25 00:46:19","worker_id":"master"}
{"level":"info","msg":"开始处理Git同步任务","time":"2025-07-25 00:46:19"}
{"level":"info","msg":"开始处理Git同步任务","time":"2025-07-25 00:46:19"}
{"level":"info","msg":"成功克隆仓库到: /data/ahop/repos/1/62/test-worker-001_1753375579_dwej1m","time":"2025-07-25 00:46:19"}
{"level":"debug","msg":"准备更新同步日志","sync_log_id":95,"time":"2025-07-25 00:46:19","update_data":{"duration":0,"finished_at":"2025-07-25T00:46:19.547813426+08:00","local_path":"/data/ahop/repos/1/62/test-worker-001_1753375579_dwej1m","status":"success","worker_id":"test-worker-001"}}
{"level":"info","msg":"成功更新同步日志","status":"success","sync_log_id":95,"time":"2025-07-25 00:46:19"}
{"level":"info","msg":"Git仓库同步成功，耗时: 544.305373ms","time":"2025-07-25 00:46:19"}
{"level":"info","msg":"成功克隆仓库到: /data/ahop/repos/1/62/test-worker-001_1753375578_fnoznx","time":"2025-07-25 00:46:19"}
{"error":"record not found","level":"warning","msg":"无法更新同步日志，因为未找到对应的pending日志","time":"2025-07-25 00:46:19"}
{"level":"info","msg":"Git仓库同步成功，耗时: 598.167844ms","time":"2025-07-25 00:46:19"}
{"level":"info","msg":"成功克隆仓库到: /data/ahop/repos/1/62/test-worker-001_1753375579_cf3skh","time":"2025-07-25 00:46:19"}
{"level":"debug","msg":"准备更新同步日志","sync_log_id":95,"time":"2025-07-25 00:46:19","update_data":{"duration":0,"finished_at":"2025-07-25T00:46:19.598770955+08:00","local_path":"/data/ahop/repos/1/62/test-worker-001_1753375579_dwej1m","status":"success","worker_id":"test-worker-001"}}
{"level":"info","msg":"成功更新同步日志","status":"success","sync_log_id":95,"time":"2025-07-25 00:46:19"}
{"level":"info","msg":"Git仓库同步成功，耗时: 594.908763ms","time":"2025-07-25 00:46:19"}
{"level":"info","msg":"成功克隆仓库到: /data/ahop/repos/1/62/test-worker-001_1753375578_ubaxgw","time":"2025-07-25 00:46:19"}
{"error":"record not found","level":"warning","msg":"无法更新同步日志，因为未找到对应的pending日志","time":"2025-07-25 00:46:19"}
{"level":"info","msg":"Git仓库同步成功，耗时: 671.979695ms","time":"2025-07-25 00:46:19"}
{"level":"debug","msg":"开始查找pending状态的同步日志","repository_id":62,"tenant_id":1,"time":"2025-07-25 00:46:24"}
{"level":"debug","msg":"开始查找pending状态的同步日志","repository_id":62,"tenant_id":1,"time":"2025-07-25 00:46:24"}
{"count":0,"level":"debug","logs":[],"msg":"查询到的所有同步日志","time":"2025-07-25 00:46:24"}
{"error":"record not found","level":"warning","msg":"未找到pending状态的同步日志","time":"2025-07-25 00:46:24"}
{"level":"info","msg":"开始处理Git同步任务","time":"2025-07-25 00:46:24"}
{"count":0,"level":"debug","logs":[],"msg":"查询到的所有同步日志","time":"2025-07-25 00:46:24"}
{"error":"record not found","level":"warning","msg":"未找到pending状态的同步日志","time":"2025-07-25 00:46:24"}
{"level":"info","msg":"开始处理Git同步任务","time":"2025-07-25 00:46:24"}
{"level":"info","msg":"已删除仓库目录: /data/ahop/repos/1/62/test-worker-001_1753375578_fnoznx","time":"2025-07-25 00:46:24"}
{"level":"info","msg":"已删除仓库目录: /data/ahop/repos/1/62/test-worker-001_1753375578_fnoznx","time":"2025-07-25 00:46:24"}
{"level":"info","msg":"已删除仓库目录: /data/ahop/repos/1/62/test-worker-001_1753375578_ubaxgw","time":"2025-07-25 00:46:24"}
{"level":"info","msg":"已删除仓库目录: /data/ahop/repos/1/62/test-worker-001_1753375578_ubaxgw","time":"2025-07-25 00:46:24"}
{"level":"info","msg":"已删除仓库目录: /data/ahop/repos/1/62/test-worker-001_1753375579_cf3skh","time":"2025-07-25 00:46:24"}
{"level":"info","msg":"已删除仓库目录: /data/ahop/repos/1/62/test-worker-001_1753375579_cf3skh","time":"2025-07-25 00:46:24"}
{"level":"info","msg":"已删除仓库目录: /data/ahop/repos/1/62/test-worker-001_1753375579_dwej1m","time":"2025-07-25 00:46:24"}
{"level":"info","msg":"已删除仓库目录: /data/ahop/repos/1/62/test-worker-001_1753375579_dwej1m","time":"2025-07-25 00:46:24"}
{"error":"record not found","level":"warning","msg":"无法更新同步日志，因为未找到对应的pending日志","time":"2025-07-25 00:46:24"}
{"error":"record not found","level":"warning","msg":"无法更新同步日志，因为未找到对应的pending日志","time":"2025-07-25 00:46:24"}
{"level":"info","msg":"Git仓库同步成功，耗时: 29.178731ms","time":"2025-07-25 00:46:24"}
{"level":"info","msg":"Git仓库同步成功，耗时: 29.257516ms","time":"2025-07-25 00:46:24"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-25 00:46:35"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-25 00:47:48"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-25 00:48:35"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-25 00:49:48"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-25 00:50:35"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-25 00:51:48"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-25 00:52:35"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-25 00:53:48"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-25 00:54:35"}
{"level":"info","msg":"收到退出信号，正在停止Worker...","time":"2025-07-25 00:55:24"}
{"level":"info","msg":"开始停止Worker","time":"2025-07-25 00:55:24"}
{"level":"info","msg":"Git仓库清理服务收到退出信号","time":"2025-07-25 00:55:24"}
{"level":"info","msg":"Git同步订阅服务收到退出信号","time":"2025-07-25 00:55:24"}
{"consumer_id":0,"level":"info","msg":"任务消费者收到退出信号","time":"2025-07-25 00:55:32","worker_id":"test-worker-001"}
{"consumer_id":1,"level":"info","msg":"任务消费者收到退出信号","time":"2025-07-25 00:55:32","worker_id":"test-worker-001"}
{"level":"info","msg":"所有任务已完成","time":"2025-07-25 00:55:32"}
{"level":"info","msg":"Worker已停止","time":"2025-07-25 00:55:32"}
{"level":"info","msg":"Worker已优雅停止","time":"2025-07-25 00:55:32"}
{"level":"info","master_url":"http://localhost:8080","msg":"启动AHOP Worker","time":"2025-07-25 00:55:33","version":"1.0.0","worker_name":"AHOP Worker on development"}
{"level":"info","msg":"使用配置的worker_id","time":"2025-07-25 00:55:33","worker_id":"test-worker-001"}
{"level":"info","master_url":"http://localhost:8080","msg":"Worker认证成功，获得数据库和Redis凭据","time":"2025-07-25 00:55:33","worker_id":"test-worker-001"}
{"executors":2,"level":"info","msg":"已注册任务执行器","time":"2025-07-25 00:55:33"}
{"concurrency":2,"level":"info","msg":"Worker启动成功","time":"2025-07-25 00:55:34","worker_id":"test-worker-001"}
{"level":"info","msg":"Worker启动成功，正在等待任务...","time":"2025-07-25 00:55:34"}
{"level":"info","msg":"开始清理旧的Git仓库副本...","time":"2025-07-25 00:55:34"}
{"consumer_id":0,"level":"info","msg":"任务消费者启动","time":"2025-07-25 00:55:34","worker_id":"test-worker-001"}
{"level":"info","msg":"清理完成，共删除 0 个旧仓库目录","time":"2025-07-25 00:55:34"}
{"consumer_id":1,"level":"info","msg":"任务消费者启动","time":"2025-07-25 00:55:34","worker_id":"test-worker-001"}
{"level":"info","msg":"Git同步订阅服务已启动","time":"2025-07-25 00:55:34"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-25 00:55:48"}
{"level":"debug","msg":"开始查找pending状态的同步日志","repository_id":63,"tenant_id":1,"time":"2025-07-25 00:55:56"}
{"level":"debug","msg":"开始查找pending状态的同步日志","repository_id":63,"tenant_id":1,"time":"2025-07-25 00:55:56"}
{"count":0,"level":"debug","logs":[],"msg":"查询到的所有同步日志","time":"2025-07-25 00:55:56"}
{"error":"record not found","level":"warning","msg":"未找到pending状态的同步日志","time":"2025-07-25 00:55:56"}
{"level":"info","msg":"开始处理Git同步任务","time":"2025-07-25 00:55:56"}
{"count":0,"level":"debug","logs":[],"msg":"查询到的所有同步日志","time":"2025-07-25 00:55:56"}
{"error":"record not found","level":"warning","msg":"未找到pending状态的同步日志","time":"2025-07-25 00:55:56"}
{"level":"info","msg":"开始处理Git同步任务","time":"2025-07-25 00:55:56"}
{"level":"debug","msg":"开始查找pending状态的同步日志","repository_id":64,"tenant_id":1,"time":"2025-07-25 00:55:56"}
{"level":"debug","msg":"开始查找pending状态的同步日志","repository_id":64,"tenant_id":1,"time":"2025-07-25 00:55:56"}
{"count":0,"level":"debug","logs":[],"msg":"查询到的所有同步日志","time":"2025-07-25 00:55:56"}
{"error":"record not found","level":"warning","msg":"未找到pending状态的同步日志","time":"2025-07-25 00:55:56"}
{"level":"info","msg":"开始处理Git同步任务","time":"2025-07-25 00:55:56"}
{"count":0,"level":"debug","logs":[],"msg":"查询到的所有同步日志","time":"2025-07-25 00:55:56"}
{"error":"record not found","level":"warning","msg":"未找到pending状态的同步日志","time":"2025-07-25 00:55:56"}
{"level":"info","msg":"开始处理Git同步任务","time":"2025-07-25 00:55:56"}
{"error":"record not found","level":"warning","msg":"无法更新同步日志，因为未找到对应的pending日志","time":"2025-07-25 00:55:56"}
{"action":"sync","error":"构建认证失败: 获取凭证失败: 凭证不存在 (ID: 57)","level":"error","msg":"Git仓库同步失败，耗时: 7.84378ms","repository_id":64,"tenant_id":1,"time":"2025-07-25 00:55:56","worker_id":"test-worker-001"}
{"action":"sync","error":"构建认证失败: 获取凭证失败: 凭证不存在 (ID: 57)","level":"error","msg":"处理Git同步任务失败","repository_id":64,"tenant_id":1,"time":"2025-07-25 00:55:56"}
{"error":"record not found","level":"warning","msg":"无法更新同步日志，因为未找到对应的pending日志","time":"2025-07-25 00:55:56"}
{"action":"sync","error":"构建认证失败: 获取凭证失败: 凭证不存在 (ID: 57)","level":"error","msg":"Git仓库同步失败，耗时: 11.953624ms","repository_id":64,"tenant_id":1,"time":"2025-07-25 00:55:56","worker_id":"test-worker-001"}
{"action":"sync","error":"构建认证失败: 获取凭证失败: 凭证不存在 (ID: 57)","level":"error","msg":"处理Git同步任务失败","repository_id":64,"tenant_id":1,"time":"2025-07-25 00:55:56"}
{"level":"debug","msg":"开始查找pending状态的同步日志","repository_id":63,"tenant_id":1,"time":"2025-07-25 00:55:56"}
{"level":"debug","msg":"开始查找pending状态的同步日志","repository_id":63,"tenant_id":1,"time":"2025-07-25 00:55:56"}
{"count":1,"level":"debug","logs":[{"ID":96,"RepositoryID":63,"TenantID":1,"TaskID":"","TaskType":"manual","WorkerID":"master","OperatorID":1,"StartedAt":"2025-07-25T00:55:56.747057+08:00","FinishedAt":null,"Duration":0,"Status":"pending","FromCommit":"","ToCommit":"","ErrorMessage":"","LocalPath":"","CommandOutput":"","CreatedAt":"2025-07-25T00:55:56.74744+08:00"}],"msg":"查询到的所有同步日志","time":"2025-07-25 00:55:56"}
{"count":1,"level":"debug","logs":[{"ID":96,"RepositoryID":63,"TenantID":1,"TaskID":"","TaskType":"manual","WorkerID":"master","OperatorID":1,"StartedAt":"2025-07-25T00:55:56.747057+08:00","FinishedAt":null,"Duration":0,"Status":"pending","FromCommit":"","ToCommit":"","ErrorMessage":"","LocalPath":"","CommandOutput":"","CreatedAt":"2025-07-25T00:55:56.74744+08:00"}],"msg":"查询到的所有同步日志","time":"2025-07-25 00:55:56"}
{"level":"debug","msg":"找到pending状态的同步日志","sync_log_id":96,"time":"2025-07-25 00:55:56","worker_id":"master"}
{"level":"info","msg":"开始处理Git同步任务","time":"2025-07-25 00:55:56"}
{"level":"debug","msg":"找到pending状态的同步日志","sync_log_id":96,"time":"2025-07-25 00:55:56","worker_id":"master"}
{"level":"info","msg":"开始处理Git同步任务","time":"2025-07-25 00:55:56"}
{"level":"info","msg":"成功克隆仓库到: /data/ahop/repos/1/63/test-worker-001_1753376156_2y6op5","time":"2025-07-25 00:55:57"}
{"error":"record not found","level":"warning","msg":"无法更新同步日志，因为未找到对应的pending日志","time":"2025-07-25 00:55:57"}
{"level":"info","msg":"Git仓库同步成功，耗时: 507.892717ms","time":"2025-07-25 00:55:57"}
{"level":"info","msg":"成功克隆仓库到: /data/ahop/repos/1/63/test-worker-001_1753376156_yamfnn","time":"2025-07-25 00:55:57"}
{"level":"debug","msg":"准备更新同步日志","sync_log_id":96,"time":"2025-07-25 00:55:57","update_data":{"duration":0,"finished_at":"2025-07-25T00:55:57.215472927+08:00","local_path":"/data/ahop/repos/1/63/test-worker-001_1753376156_yamfnn","status":"success","worker_id":"test-worker-001"}}
{"level":"info","msg":"成功更新同步日志","status":"success","sync_log_id":96,"time":"2025-07-25 00:55:57"}
{"level":"info","msg":"Git仓库同步成功，耗时: 464.929042ms","time":"2025-07-25 00:55:57"}
{"level":"info","msg":"成功克隆仓库到: /data/ahop/repos/1/63/test-worker-001_1753376156_28rs9a","time":"2025-07-25 00:55:57"}
{"error":"record not found","level":"warning","msg":"无法更新同步日志，因为未找到对应的pending日志","time":"2025-07-25 00:55:57"}
{"level":"info","msg":"Git仓库同步成功，耗时: 547.258454ms","time":"2025-07-25 00:55:57"}
{"level":"info","msg":"成功克隆仓库到: /data/ahop/repos/1/63/test-worker-001_1753376156_ttlyu3","time":"2025-07-25 00:55:57"}
{"level":"debug","msg":"准备更新同步日志","sync_log_id":96,"time":"2025-07-25 00:55:57","update_data":{"duration":533,"finished_at":"2025-07-25T00:55:57.283806787+08:00","local_path":"/data/ahop/repos/1/63/test-worker-001_1753376156_ttlyu3","status":"success","to_commit":"5fd8da2b06e986a794aae267d77c1979a9e5750f","worker_id":"test-worker-001"}}
{"level":"info","msg":"成功更新同步日志","status":"success","sync_log_id":96,"time":"2025-07-25 00:55:57"}
{"level":"info","msg":"Git仓库同步成功，耗时: 533.165539ms","time":"2025-07-25 00:55:57"}
{"level":"debug","msg":"开始查找pending状态的同步日志","repository_id":64,"tenant_id":1,"time":"2025-07-25 00:56:06"}
{"level":"debug","msg":"开始查找pending状态的同步日志","repository_id":64,"tenant_id":1,"time":"2025-07-25 00:56:06"}
{"count":1,"level":"debug","logs":[{"ID":97,"RepositoryID":64,"TenantID":1,"TaskID":"","TaskType":"manual","WorkerID":"master","OperatorID":1,"StartedAt":"2025-07-25T00:56:06.942658+08:00","FinishedAt":null,"Duration":0,"Status":"pending","FromCommit":"","ToCommit":"","ErrorMessage":"","LocalPath":"","CommandOutput":"","CreatedAt":"2025-07-25T00:56:06.943208+08:00"}],"msg":"查询到的所有同步日志","time":"2025-07-25 00:56:06"}
{"count":1,"level":"debug","logs":[{"ID":97,"RepositoryID":64,"TenantID":1,"TaskID":"","TaskType":"manual","WorkerID":"master","OperatorID":1,"StartedAt":"2025-07-25T00:56:06.942658+08:00","FinishedAt":null,"Duration":0,"Status":"pending","FromCommit":"","ToCommit":"","ErrorMessage":"","LocalPath":"","CommandOutput":"","CreatedAt":"2025-07-25T00:56:06.943208+08:00"}],"msg":"查询到的所有同步日志","time":"2025-07-25 00:56:06"}
{"level":"debug","msg":"找到pending状态的同步日志","sync_log_id":97,"time":"2025-07-25 00:56:06","worker_id":"master"}
{"level":"info","msg":"开始处理Git同步任务","time":"2025-07-25 00:56:06"}
{"level":"debug","msg":"找到pending状态的同步日志","sync_log_id":97,"time":"2025-07-25 00:56:06","worker_id":"master"}
{"level":"info","msg":"开始处理Git同步任务","time":"2025-07-25 00:56:06"}
{"level":"debug","msg":"准备更新同步日志","sync_log_id":97,"time":"2025-07-25 00:56:06","update_data":{"duration":0,"error_message":"构建认证失败: 获取凭证失败: 凭证不存在 (ID: 57)","finished_at":"2025-07-25T00:56:06.953304282+08:00","status":"failed","worker_id":"test-worker-001"}}
{"level":"debug","msg":"准备更新同步日志","sync_log_id":97,"time":"2025-07-25 00:56:06","update_data":{"duration":8,"error_message":"构建认证失败: 获取凭证失败: 凭证不存在 (ID: 57)","finished_at":"2025-07-25T00:56:06.95438983+08:00","status":"failed","worker_id":"test-worker-001"}}
{"level":"info","msg":"成功更新同步日志","status":"failed","sync_log_id":97,"time":"2025-07-25 00:56:06"}
{"action":"sync","error":"构建认证失败: 获取凭证失败: 凭证不存在 (ID: 57)","level":"error","msg":"Git仓库同步失败，耗时: 7.205733ms","repository_id":64,"tenant_id":1,"time":"2025-07-25 00:56:06","worker_id":"test-worker-001"}
{"action":"sync","error":"构建认证失败: 获取凭证失败: 凭证不存在 (ID: 57)","level":"error","msg":"处理Git同步任务失败","repository_id":64,"tenant_id":1,"time":"2025-07-25 00:56:06"}
{"level":"info","msg":"成功更新同步日志","status":"failed","sync_log_id":97,"time":"2025-07-25 00:56:06"}
{"action":"sync","error":"构建认证失败: 获取凭证失败: 凭证不存在 (ID: 57)","level":"error","msg":"Git仓库同步失败，耗时: 8.203434ms","repository_id":64,"tenant_id":1,"time":"2025-07-25 00:56:06","worker_id":"test-worker-001"}
{"action":"sync","error":"构建认证失败: 获取凭证失败: 凭证不存在 (ID: 57)","level":"error","msg":"处理Git同步任务失败","repository_id":64,"tenant_id":1,"time":"2025-07-25 00:56:06"}
{"level":"debug","msg":"开始查找pending状态的同步日志","repository_id":63,"tenant_id":1,"time":"2025-07-25 00:56:17"}
{"level":"debug","msg":"开始查找pending状态的同步日志","repository_id":63,"tenant_id":1,"time":"2025-07-25 00:56:17"}
{"count":2,"level":"debug","logs":[{"ID":98,"RepositoryID":63,"TenantID":1,"TaskID":"","TaskType":"manual_scan","WorkerID":"master","OperatorID":1,"StartedAt":"2025-07-25T00:56:17.085847+08:00","FinishedAt":null,"Duration":0,"Status":"pending","FromCommit":"","ToCommit":"","ErrorMessage":"","LocalPath":"","CommandOutput":"","CreatedAt":"2025-07-25T00:56:17.086519+08:00"},{"ID":96,"RepositoryID":63,"TenantID":1,"TaskID":"","TaskType":"manual","WorkerID":"test-worker-001","OperatorID":1,"StartedAt":"2025-07-25T00:55:56.747057+08:00","FinishedAt":"2025-07-25T00:55:57.283806+08:00","Duration":533,"Status":"success","FromCommit":"","ToCommit":"5fd8da2b06e986a794aae267d77c1979a9e5750f","ErrorMessage":"","LocalPath":"/data/ahop/repos/1/63/test-worker-001_1753376156_ttlyu3","CommandOutput":"","CreatedAt":"2025-07-25T00:55:56.74744+08:00"}],"msg":"查询到的所有同步日志","time":"2025-07-25 00:56:17"}
{"count":2,"level":"debug","logs":[{"ID":98,"RepositoryID":63,"TenantID":1,"TaskID":"","TaskType":"manual_scan","WorkerID":"master","OperatorID":1,"StartedAt":"2025-07-25T00:56:17.085847+08:00","FinishedAt":null,"Duration":0,"Status":"pending","FromCommit":"","ToCommit":"","ErrorMessage":"","LocalPath":"","CommandOutput":"","CreatedAt":"2025-07-25T00:56:17.086519+08:00"},{"ID":96,"RepositoryID":63,"TenantID":1,"TaskID":"","TaskType":"manual","WorkerID":"test-worker-001","OperatorID":1,"StartedAt":"2025-07-25T00:55:56.747057+08:00","FinishedAt":"2025-07-25T00:55:57.283806+08:00","Duration":533,"Status":"success","FromCommit":"","ToCommit":"5fd8da2b06e986a794aae267d77c1979a9e5750f","ErrorMessage":"","LocalPath":"/data/ahop/repos/1/63/test-worker-001_1753376156_ttlyu3","CommandOutput":"","CreatedAt":"2025-07-25T00:55:56.74744+08:00"}],"msg":"查询到的所有同步日志","time":"2025-07-25 00:56:17"}
{"level":"debug","msg":"找到pending状态的同步日志","sync_log_id":98,"time":"2025-07-25 00:56:17","worker_id":"master"}
{"level":"info","msg":"开始处理Git同步任务","time":"2025-07-25 00:56:17"}
{"level":"debug","msg":"找到pending状态的同步日志","sync_log_id":98,"time":"2025-07-25 00:56:17","worker_id":"master"}
{"level":"info","msg":"开始处理Git同步任务","time":"2025-07-25 00:56:17"}
{"level":"info","msg":"成功克隆仓库到: /data/ahop/repos/1/63/test-worker-001_1753376177_dkavcp","time":"2025-07-25 00:56:17"}
{"level":"info","msg":"开始扫描仓库脚本并创建任务模板...","time":"2025-07-25 00:56:17"}
{"level":"info","msg":"成功克隆仓库到: /data/ahop/repos/1/63/test-worker-001_1753376177_5r3w32","time":"2025-07-25 00:56:17"}
{"level":"info","msg":"开始扫描仓库脚本并创建任务模板...","time":"2025-07-25 00:56:17"}
{"level":"debug","msg":"准备更新同步日志","sync_log_id":98,"time":"2025-07-25 00:56:17","update_data":{"duration":0,"finished_at":"2025-07-25T00:56:17.660209012+08:00","local_path":"/data/ahop/repos/1/63/test-worker-001_1753376177_dkavcp","status":"success","worker_id":"test-worker-001"}}
{"level":"info","msg":"成功更新同步日志","status":"success","sync_log_id":98,"time":"2025-07-25 00:56:17"}
{"level":"info","msg":"Git仓库同步成功，耗时: 571.375081ms","time":"2025-07-25 00:56:17"}
{"level":"debug","msg":"准备更新同步日志","sync_log_id":98,"time":"2025-07-25 00:56:17","update_data":{"duration":595,"finished_at":"2025-07-25T00:56:17.68450026+08:00","local_path":"/data/ahop/repos/1/63/test-worker-001_1753376177_5r3w32","status":"success","to_commit":"5fd8da2b06e986a794aae267d77c1979a9e5750f","worker_id":"test-worker-001"}}
{"level":"info","msg":"成功更新同步日志","status":"success","sync_log_id":98,"time":"2025-07-25 00:56:17"}
{"level":"info","msg":"Git仓库同步成功，耗时: 595.622933ms","time":"2025-07-25 00:56:17"}
{"level":"debug","msg":"开始查找pending状态的同步日志","repository_id":63,"tenant_id":1,"time":"2025-07-25 00:56:27"}
{"level":"debug","msg":"开始查找pending状态的同步日志","repository_id":63,"tenant_id":1,"time":"2025-07-25 00:56:27"}
{"count":0,"level":"debug","logs":[],"msg":"查询到的所有同步日志","time":"2025-07-25 00:56:27"}
{"count":0,"level":"debug","logs":[],"msg":"查询到的所有同步日志","time":"2025-07-25 00:56:27"}
{"error":"record not found","level":"warning","msg":"未找到pending状态的同步日志","time":"2025-07-25 00:56:27"}
{"level":"info","msg":"开始处理Git同步任务","time":"2025-07-25 00:56:27"}
{"error":"record not found","level":"warning","msg":"未找到pending状态的同步日志","time":"2025-07-25 00:56:27"}
{"level":"info","msg":"开始处理Git同步任务","time":"2025-07-25 00:56:27"}
{"level":"info","msg":"已删除仓库目录: /data/ahop/repos/1/63/test-worker-001_1753376156_28rs9a","time":"2025-07-25 00:56:27"}
{"level":"info","msg":"已删除仓库目录: /data/ahop/repos/1/63/test-worker-001_1753376156_28rs9a","time":"2025-07-25 00:56:27"}
{"level":"info","msg":"已删除仓库目录: /data/ahop/repos/1/63/test-worker-001_1753376156_2y6op5","time":"2025-07-25 00:56:27"}
{"level":"info","msg":"已删除仓库目录: /data/ahop/repos/1/63/test-worker-001_1753376156_2y6op5","time":"2025-07-25 00:56:27"}
{"level":"info","msg":"已删除仓库目录: /data/ahop/repos/1/63/test-worker-001_1753376156_ttlyu3","time":"2025-07-25 00:56:27"}
{"level":"info","msg":"已删除仓库目录: /data/ahop/repos/1/63/test-worker-001_1753376156_ttlyu3","time":"2025-07-25 00:56:27"}
{"level":"info","msg":"已删除仓库目录: /data/ahop/repos/1/63/test-worker-001_1753376156_yamfnn","time":"2025-07-25 00:56:27"}
{"level":"info","msg":"已删除仓库目录: /data/ahop/repos/1/63/test-worker-001_1753376156_yamfnn","time":"2025-07-25 00:56:27"}
{"level":"info","msg":"已删除仓库目录: /data/ahop/repos/1/63/test-worker-001_1753376177_5r3w32","time":"2025-07-25 00:56:27"}
{"level":"info","msg":"已删除仓库目录: /data/ahop/repos/1/63/test-worker-001_1753376177_5r3w32","time":"2025-07-25 00:56:27"}
{"level":"info","msg":"已删除仓库目录: /data/ahop/repos/1/63/test-worker-001_1753376177_dkavcp","time":"2025-07-25 00:56:27"}
{"error":"record not found","level":"warning","msg":"无法更新同步日志，因为未找到对应的pending日志","time":"2025-07-25 00:56:27"}
{"level":"info","msg":"Git仓库同步成功，耗时: 47.330014ms","time":"2025-07-25 00:56:27"}
{"level":"info","msg":"已删除仓库目录: /data/ahop/repos/1/63/test-worker-001_1753376177_dkavcp","time":"2025-07-25 00:56:27"}
{"error":"record not found","level":"warning","msg":"无法更新同步日志，因为未找到对应的pending日志","time":"2025-07-25 00:56:27"}
{"level":"info","msg":"Git仓库同步成功，耗时: 47.725204ms","time":"2025-07-25 00:56:27"}
{"level":"debug","msg":"开始查找pending状态的同步日志","repository_id":64,"tenant_id":1,"time":"2025-07-25 00:56:32"}
{"level":"debug","msg":"开始查找pending状态的同步日志","repository_id":64,"tenant_id":1,"time":"2025-07-25 00:56:32"}
{"count":0,"level":"debug","logs":[],"msg":"查询到的所有同步日志","time":"2025-07-25 00:56:32"}
{"count":0,"level":"debug","logs":[],"msg":"查询到的所有同步日志","time":"2025-07-25 00:56:32"}
{"error":"record not found","level":"warning","msg":"未找到pending状态的同步日志","time":"2025-07-25 00:56:32"}
{"error":"record not found","level":"warning","msg":"未找到pending状态的同步日志","time":"2025-07-25 00:56:32"}
{"level":"info","msg":"开始处理Git同步任务","time":"2025-07-25 00:56:32"}
{"level":"info","msg":"开始处理Git同步任务","time":"2025-07-25 00:56:32"}
{"level":"info","msg":"已删除仓库目录: /data/ahop/repos/1/64/test-worker-001_1753376156_cgef2s","time":"2025-07-25 00:56:32"}
{"level":"info","msg":"已删除仓库目录: /data/ahop/repos/1/64/test-worker-001_1753376156_cgef2s","time":"2025-07-25 00:56:32"}
{"level":"info","msg":"已删除仓库目录: /data/ahop/repos/1/64/test-worker-001_1753376156_eum1s5","time":"2025-07-25 00:56:32"}
{"level":"info","msg":"已删除仓库目录: /data/ahop/repos/1/64/test-worker-001_1753376156_eum1s5","time":"2025-07-25 00:56:32"}
{"level":"info","msg":"已删除仓库目录: /data/ahop/repos/1/64/test-worker-001_1753376166_7a8p7h","time":"2025-07-25 00:56:32"}
{"level":"info","msg":"已删除仓库目录: /data/ahop/repos/1/64/test-worker-001_1753376166_7a8p7h","time":"2025-07-25 00:56:32"}
{"level":"info","msg":"已删除仓库目录: /data/ahop/repos/1/64/test-worker-001_1753376166_eb0a7k","time":"2025-07-25 00:56:32"}
{"level":"info","msg":"已删除仓库目录: /data/ahop/repos/1/64/test-worker-001_1753376166_eb0a7k","time":"2025-07-25 00:56:32"}
{"error":"record not found","level":"warning","msg":"无法更新同步日志，因为未找到对应的pending日志","time":"2025-07-25 00:56:32"}
{"level":"info","msg":"Git仓库同步成功，耗时: 2.67625ms","time":"2025-07-25 00:56:32"}
{"error":"record not found","level":"warning","msg":"无法更新同步日志，因为未找到对应的pending日志","time":"2025-07-25 00:56:32"}
{"level":"info","msg":"Git仓库同步成功，耗时: 2.703587ms","time":"2025-07-25 00:56:32"}
{"level":"debug","msg":"开始查找pending状态的同步日志","repository_id":65,"tenant_id":1,"time":"2025-07-25 00:57:24"}
{"level":"debug","msg":"开始查找pending状态的同步日志","repository_id":65,"tenant_id":1,"time":"2025-07-25 00:57:24"}
{"count":0,"level":"debug","logs":[],"msg":"查询到的所有同步日志","time":"2025-07-25 00:57:24"}
{"error":"record not found","level":"warning","msg":"未找到pending状态的同步日志","time":"2025-07-25 00:57:24"}
{"level":"info","msg":"开始处理Git同步任务","time":"2025-07-25 00:57:24"}
{"count":0,"level":"debug","logs":[],"msg":"查询到的所有同步日志","time":"2025-07-25 00:57:24"}
{"error":"record not found","level":"warning","msg":"未找到pending状态的同步日志","time":"2025-07-25 00:57:24"}
{"level":"info","msg":"开始处理Git同步任务","time":"2025-07-25 00:57:24"}
{"level":"debug","msg":"开始查找pending状态的同步日志","repository_id":65,"tenant_id":1,"time":"2025-07-25 00:57:24"}
{"level":"debug","msg":"开始查找pending状态的同步日志","repository_id":65,"tenant_id":1,"time":"2025-07-25 00:57:24"}
{"count":1,"level":"debug","logs":[{"ID":99,"RepositoryID":65,"TenantID":1,"TaskID":"","TaskType":"manual","WorkerID":"master","OperatorID":1,"StartedAt":"2025-07-25T00:57:24.685265+08:00","FinishedAt":null,"Duration":0,"Status":"pending","FromCommit":"","ToCommit":"","ErrorMessage":"","LocalPath":"","CommandOutput":"","CreatedAt":"2025-07-25T00:57:24.685605+08:00"}],"msg":"查询到的所有同步日志","time":"2025-07-25 00:57:24"}
{"level":"debug","msg":"找到pending状态的同步日志","sync_log_id":99,"time":"2025-07-25 00:57:24","worker_id":"master"}
{"level":"info","msg":"开始处理Git同步任务","time":"2025-07-25 00:57:24"}
{"count":1,"level":"debug","logs":[{"ID":99,"RepositoryID":65,"TenantID":1,"TaskID":"","TaskType":"manual","WorkerID":"master","OperatorID":1,"StartedAt":"2025-07-25T00:57:24.685265+08:00","FinishedAt":null,"Duration":0,"Status":"pending","FromCommit":"","ToCommit":"","ErrorMessage":"","LocalPath":"","CommandOutput":"","CreatedAt":"2025-07-25T00:57:24.685605+08:00"}],"msg":"查询到的所有同步日志","time":"2025-07-25 00:57:24"}
{"level":"debug","msg":"找到pending状态的同步日志","sync_log_id":99,"time":"2025-07-25 00:57:24","worker_id":"master"}
{"level":"info","msg":"开始处理Git同步任务","time":"2025-07-25 00:57:24"}
{"level":"info","msg":"成功克隆仓库到: /data/ahop/repos/1/65/test-worker-001_1753376244_hiob2k","time":"2025-07-25 00:57:25"}
{"error":"record not found","level":"warning","msg":"无法更新同步日志，因为未找到对应的pending日志","time":"2025-07-25 00:57:25"}
{"level":"info","msg":"Git仓库同步成功，耗时: 515.348233ms","time":"2025-07-25 00:57:25"}
{"level":"info","msg":"成功克隆仓库到: /data/ahop/repos/1/65/test-worker-001_1753376244_xgepby","time":"2025-07-25 00:57:25"}
{"error":"record not found","level":"warning","msg":"无法更新同步日志，因为未找到对应的pending日志","time":"2025-07-25 00:57:25"}
{"level":"info","msg":"Git仓库同步成功，耗时: 580.085486ms","time":"2025-07-25 00:57:25"}
{"level":"info","msg":"成功克隆仓库到: /data/ahop/repos/1/65/test-worker-001_1753376244_0vk3y0","time":"2025-07-25 00:57:25"}
{"level":"debug","msg":"准备更新同步日志","sync_log_id":99,"time":"2025-07-25 00:57:25","update_data":{"duration":0,"finished_at":"2025-07-25T00:57:25.22200839+08:00","local_path":"/data/ahop/repos/1/65/test-worker-001_1753376244_xgepby","status":"success","worker_id":"test-worker-001"}}
{"level":"info","msg":"成功更新同步日志","status":"success","sync_log_id":99,"time":"2025-07-25 00:57:25"}
{"level":"info","msg":"Git仓库同步成功，耗时: 533.513639ms","time":"2025-07-25 00:57:25"}
{"level":"info","msg":"成功克隆仓库到: /data/ahop/repos/1/65/test-worker-001_1753376244_f2z49t","time":"2025-07-25 00:57:25"}
{"level":"debug","msg":"准备更新同步日志","sync_log_id":99,"time":"2025-07-25 00:57:25","update_data":{"duration":551,"finished_at":"2025-07-25T00:57:25.239862547+08:00","local_path":"/data/ahop/repos/1/65/test-worker-001_1753376244_f2z49t","status":"success","to_commit":"5fd8da2b06e986a794aae267d77c1979a9e5750f","worker_id":"test-worker-001"}}
{"level":"info","msg":"成功更新同步日志","status":"success","sync_log_id":99,"time":"2025-07-25 00:57:25"}
{"level":"info","msg":"Git仓库同步成功，耗时: 551.368041ms","time":"2025-07-25 00:57:25"}
{"level":"debug","msg":"开始查找pending状态的同步日志","repository_id":65,"tenant_id":1,"time":"2025-07-25 00:57:32"}
{"level":"debug","msg":"开始查找pending状态的同步日志","repository_id":65,"tenant_id":1,"time":"2025-07-25 00:57:32"}
{"count":2,"level":"debug","logs":[{"ID":99,"RepositoryID":65,"TenantID":1,"TaskID":"","TaskType":"manual","WorkerID":"test-worker-001","OperatorID":1,"StartedAt":"2025-07-25T00:57:24.685265+08:00","FinishedAt":"2025-07-25T00:57:25.239862+08:00","Duration":551,"Status":"success","FromCommit":"","ToCommit":"5fd8da2b06e986a794aae267d77c1979a9e5750f","ErrorMessage":"","LocalPath":"/data/ahop/repos/1/65/test-worker-001_1753376244_f2z49t","CommandOutput":"","CreatedAt":"2025-07-25T00:57:24.685605+08:00"},{"ID":100,"RepositoryID":65,"TenantID":1,"TaskID":"","TaskType":"manual","WorkerID":"master","OperatorID":1,"StartedAt":"2025-07-25T00:57:32.772382+08:00","FinishedAt":null,"Duration":0,"Status":"pending","FromCommit":"","ToCommit":"","ErrorMessage":"","LocalPath":"","CommandOutput":"","CreatedAt":"2025-07-25T00:57:32.772969+08:00"}],"msg":"查询到的所有同步日志","time":"2025-07-25 00:57:32"}
{"count":2,"level":"debug","logs":[{"ID":99,"RepositoryID":65,"TenantID":1,"TaskID":"","TaskType":"manual","WorkerID":"test-worker-001","OperatorID":1,"StartedAt":"2025-07-25T00:57:24.685265+08:00","FinishedAt":"2025-07-25T00:57:25.239862+08:00","Duration":551,"Status":"success","FromCommit":"","ToCommit":"5fd8da2b06e986a794aae267d77c1979a9e5750f","ErrorMessage":"","LocalPath":"/data/ahop/repos/1/65/test-worker-001_1753376244_f2z49t","CommandOutput":"","CreatedAt":"2025-07-25T00:57:24.685605+08:00"},{"ID":100,"RepositoryID":65,"TenantID":1,"TaskID":"","TaskType":"manual","WorkerID":"master","OperatorID":1,"StartedAt":"2025-07-25T00:57:32.772382+08:00","FinishedAt":null,"Duration":0,"Status":"pending","FromCommit":"","ToCommit":"","ErrorMessage":"","LocalPath":"","CommandOutput":"","CreatedAt":"2025-07-25T00:57:32.772969+08:00"}],"msg":"查询到的所有同步日志","time":"2025-07-25 00:57:32"}
{"level":"debug","msg":"找到pending状态的同步日志","sync_log_id":100,"time":"2025-07-25 00:57:32","worker_id":"master"}
{"level":"info","msg":"开始处理Git同步任务","time":"2025-07-25 00:57:32"}
{"level":"debug","msg":"找到pending状态的同步日志","sync_log_id":100,"time":"2025-07-25 00:57:32","worker_id":"master"}
{"level":"info","msg":"开始处理Git同步任务","time":"2025-07-25 00:57:32"}
{"level":"info","msg":"成功克隆仓库到: /data/ahop/repos/1/65/test-worker-001_1753376252_jm063j","time":"2025-07-25 00:57:33"}
{"level":"debug","msg":"准备更新同步日志","sync_log_id":100,"time":"2025-07-25 00:57:33","update_data":{"duration":598,"finished_at":"2025-07-25T00:57:33.374224112+08:00","local_path":"/data/ahop/repos/1/65/test-worker-001_1753376252_jm063j","status":"success","to_commit":"5fd8da2b06e986a794aae267d77c1979a9e5750f","worker_id":"test-worker-001"}}
{"level":"info","msg":"成功更新同步日志","status":"success","sync_log_id":100,"time":"2025-07-25 00:57:33"}
{"level":"info","msg":"Git仓库同步成功，耗时: 598.650263ms","time":"2025-07-25 00:57:33"}
{"level":"info","msg":"成功克隆仓库到: /data/ahop/repos/1/65/test-worker-001_1753376252_06xksu","time":"2025-07-25 00:57:33"}
{"level":"debug","msg":"准备更新同步日志","sync_log_id":100,"time":"2025-07-25 00:57:33","update_data":{"duration":0,"finished_at":"2025-07-25T00:57:33.413001094+08:00","local_path":"/data/ahop/repos/1/65/test-worker-001_1753376252_jm063j","status":"success","worker_id":"test-worker-001"}}
{"level":"info","msg":"成功更新同步日志","status":"success","sync_log_id":100,"time":"2025-07-25 00:57:33"}
{"level":"info","msg":"Git仓库同步成功，耗时: 637.430812ms","time":"2025-07-25 00:57:33"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-25 00:57:34"}
{"level":"debug","msg":"开始查找pending状态的同步日志","repository_id":65,"tenant_id":1,"time":"2025-07-25 00:57:37"}
{"level":"debug","msg":"开始查找pending状态的同步日志","repository_id":65,"tenant_id":1,"time":"2025-07-25 00:57:37"}
{"count":0,"level":"debug","logs":[],"msg":"查询到的所有同步日志","time":"2025-07-25 00:57:37"}
{"count":0,"level":"debug","logs":[],"msg":"查询到的所有同步日志","time":"2025-07-25 00:57:37"}
{"error":"record not found","level":"warning","msg":"未找到pending状态的同步日志","time":"2025-07-25 00:57:37"}
{"error":"record not found","level":"warning","msg":"未找到pending状态的同步日志","time":"2025-07-25 00:57:37"}
{"level":"info","msg":"开始处理Git同步任务","time":"2025-07-25 00:57:37"}
{"level":"info","msg":"开始处理Git同步任务","time":"2025-07-25 00:57:37"}
{"level":"info","msg":"已删除仓库目录: /data/ahop/repos/1/65/test-worker-001_1753376244_0vk3y0","time":"2025-07-25 00:57:37"}
{"level":"info","msg":"已删除仓库目录: /data/ahop/repos/1/65/test-worker-001_1753376244_0vk3y0","time":"2025-07-25 00:57:37"}
{"level":"info","msg":"已删除仓库目录: /data/ahop/repos/1/65/test-worker-001_1753376244_f2z49t","time":"2025-07-25 00:57:37"}
{"level":"info","msg":"已删除仓库目录: /data/ahop/repos/1/65/test-worker-001_1753376244_f2z49t","time":"2025-07-25 00:57:37"}
{"level":"info","msg":"已删除仓库目录: /data/ahop/repos/1/65/test-worker-001_1753376244_hiob2k","time":"2025-07-25 00:57:37"}
{"level":"info","msg":"已删除仓库目录: /data/ahop/repos/1/65/test-worker-001_1753376244_hiob2k","time":"2025-07-25 00:57:37"}
{"level":"info","msg":"已删除仓库目录: /data/ahop/repos/1/65/test-worker-001_1753376244_xgepby","time":"2025-07-25 00:57:37"}
{"level":"info","msg":"已删除仓库目录: /data/ahop/repos/1/65/test-worker-001_1753376244_xgepby","time":"2025-07-25 00:57:37"}
{"level":"info","msg":"已删除仓库目录: /data/ahop/repos/1/65/test-worker-001_1753376252_06xksu","time":"2025-07-25 00:57:37"}
{"level":"info","msg":"已删除仓库目录: /data/ahop/repos/1/65/test-worker-001_1753376252_06xksu","time":"2025-07-25 00:57:37"}
{"level":"info","msg":"已删除仓库目录: /data/ahop/repos/1/65/test-worker-001_1753376252_jm063j","time":"2025-07-25 00:57:37"}
{"error":"record not found","level":"warning","msg":"无法更新同步日志，因为未找到对应的pending日志","time":"2025-07-25 00:57:37"}
{"level":"info","msg":"Git仓库同步成功，耗时: 42.485641ms","time":"2025-07-25 00:57:37"}
{"level":"info","msg":"已删除仓库目录: /data/ahop/repos/1/65/test-worker-001_1753376252_jm063j","time":"2025-07-25 00:57:37"}
{"error":"record not found","level":"warning","msg":"无法更新同步日志，因为未找到对应的pending日志","time":"2025-07-25 00:57:37"}
{"level":"info","msg":"Git仓库同步成功，耗时: 42.639883ms","time":"2025-07-25 00:57:37"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-25 00:57:48"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-25 00:59:34"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-25 00:59:48"}
{"level":"debug","msg":"开始查找pending状态的同步日志","repository_id":45,"tenant_id":1,"time":"2025-07-25 01:00:00"}
{"level":"debug","msg":"开始查找pending状态的同步日志","repository_id":45,"tenant_id":1,"time":"2025-07-25 01:00:00"}
{"count":4,"level":"debug","logs":[{"ID":71,"RepositoryID":45,"TenantID":1,"TaskID":"","TaskType":"scheduled","WorkerID":"scheduler","OperatorID":null,"StartedAt":"2025-07-25T00:00:00.00745+08:00","FinishedAt":null,"Duration":0,"Status":"pending","FromCommit":"","ToCommit":"","ErrorMessage":"","LocalPath":"","CommandOutput":"","CreatedAt":"2025-07-25T00:00:00.008198+08:00"},{"ID":70,"RepositoryID":45,"TenantID":1,"TaskID":"","TaskType":"manual","WorkerID":"master","OperatorID":1,"StartedAt":"2025-07-24T23:53:07.755821+08:00","FinishedAt":"2025-07-25T00:28:41.208665+08:00","Duration":123,"Status":"test_update","FromCommit":"","ToCommit":"","ErrorMessage":"","LocalPath":"","CommandOutput":"","CreatedAt":"2025-07-24T23:53:07.756152+08:00"},{"ID":88,"RepositoryID":45,"TenantID":1,"TaskID":"","TaskType":"scheduled","WorkerID":"test-worker-001","OperatorID":null,"StartedAt":"2025-07-25T00:30:00.005051+08:00","FinishedAt":"2025-07-25T00:30:00.675217+08:00","Duration":0,"Status":"success","FromCommit":"","ToCommit":"","ErrorMessage":"","LocalPath":"/data/ahop/repos/1/45/test-worker-001_1753374600_gyqgon","CommandOutput":"","CreatedAt":"2025-07-25T00:30:00.005922+08:00"},{"ID":101,"RepositoryID":45,"TenantID":1,"TaskID":"","TaskType":"scheduled","WorkerID":"scheduler","OperatorID":null,"StartedAt":"2025-07-25T01:00:00.012925+08:00","FinishedAt":null,"Duration":0,"Status":"pending","FromCommit":"","ToCommit":"","ErrorMessage":"","LocalPath":"","CommandOutput":"","CreatedAt":"2025-07-25T01:00:00.013352+08:00"}],"msg":"查询到的所有同步日志","time":"2025-07-25 01:00:00"}
{"count":4,"level":"debug","logs":[{"ID":71,"RepositoryID":45,"TenantID":1,"TaskID":"","TaskType":"scheduled","WorkerID":"scheduler","OperatorID":null,"StartedAt":"2025-07-25T00:00:00.00745+08:00","FinishedAt":null,"Duration":0,"Status":"pending","FromCommit":"","ToCommit":"","ErrorMessage":"","LocalPath":"","CommandOutput":"","CreatedAt":"2025-07-25T00:00:00.008198+08:00"},{"ID":70,"RepositoryID":45,"TenantID":1,"TaskID":"","TaskType":"manual","WorkerID":"master","OperatorID":1,"StartedAt":"2025-07-24T23:53:07.755821+08:00","FinishedAt":"2025-07-25T00:28:41.208665+08:00","Duration":123,"Status":"test_update","FromCommit":"","ToCommit":"","ErrorMessage":"","LocalPath":"","CommandOutput":"","CreatedAt":"2025-07-24T23:53:07.756152+08:00"},{"ID":88,"RepositoryID":45,"TenantID":1,"TaskID":"","TaskType":"scheduled","WorkerID":"test-worker-001","OperatorID":null,"StartedAt":"2025-07-25T00:30:00.005051+08:00","FinishedAt":"2025-07-25T00:30:00.675217+08:00","Duration":0,"Status":"success","FromCommit":"","ToCommit":"","ErrorMessage":"","LocalPath":"/data/ahop/repos/1/45/test-worker-001_1753374600_gyqgon","CommandOutput":"","CreatedAt":"2025-07-25T00:30:00.005922+08:00"},{"ID":101,"RepositoryID":45,"TenantID":1,"TaskID":"","TaskType":"scheduled","WorkerID":"scheduler","OperatorID":null,"StartedAt":"2025-07-25T01:00:00.012925+08:00","FinishedAt":null,"Duration":0,"Status":"pending","FromCommit":"","ToCommit":"","ErrorMessage":"","LocalPath":"","CommandOutput":"","CreatedAt":"2025-07-25T01:00:00.013352+08:00"}],"msg":"查询到的所有同步日志","time":"2025-07-25 01:00:00"}
{"level":"debug","msg":"找到pending状态的同步日志","sync_log_id":101,"time":"2025-07-25 01:00:00","worker_id":"scheduler"}
{"level":"debug","msg":"找到pending状态的同步日志","sync_log_id":101,"time":"2025-07-25 01:00:00","worker_id":"scheduler"}
{"level":"info","msg":"开始处理Git同步任务","time":"2025-07-25 01:00:00"}
{"level":"info","msg":"开始处理Git同步任务","time":"2025-07-25 01:00:00"}
{"level":"info","msg":"成功克隆仓库到: /data/ahop/repos/1/45/test-worker-001_1753376400_ghvqet","time":"2025-07-25 01:00:00"}
{"level":"debug","msg":"准备更新同步日志","sync_log_id":101,"time":"2025-07-25 01:00:00","update_data":{"duration":0,"finished_at":"2025-07-25T01:00:00.577762345+08:00","local_path":"/data/ahop/repos/1/45/test-worker-001_1753376400_ghvqet","status":"success","worker_id":"test-worker-001"}}
{"level":"info","msg":"成功更新同步日志","status":"success","sync_log_id":101,"time":"2025-07-25 01:00:00"}
{"level":"info","msg":"Git仓库同步成功，耗时: 564.381237ms","time":"2025-07-25 01:00:00"}
{"level":"info","msg":"成功克隆仓库到: /data/ahop/repos/1/45/test-worker-001_1753376400_aweg75","time":"2025-07-25 01:00:00"}
{"level":"debug","msg":"准备更新同步日志","sync_log_id":101,"time":"2025-07-25 01:00:00","update_data":{"duration":602,"finished_at":"2025-07-25T01:00:00.615920358+08:00","local_path":"/data/ahop/repos/1/45/test-worker-001_1753376400_aweg75","status":"success","to_commit":"5fd8da2b06e986a794aae267d77c1979a9e5750f","worker_id":"test-worker-001"}}
{"level":"info","msg":"成功更新同步日志","status":"success","sync_log_id":101,"time":"2025-07-25 01:00:00"}
{"level":"info","msg":"Git仓库同步成功，耗时: 602.745691ms","time":"2025-07-25 01:00:00"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-25 01:01:34"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-25 01:01:48"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-25 01:03:34"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-25 01:03:48"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-25 01:05:34"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-25 01:05:48"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-25 01:07:34"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-25 01:07:48"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-25 01:09:34"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-25 01:09:48"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-25 01:11:34"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-25 01:11:48"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-25 01:13:34"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-25 01:13:48"}
{"level":"info","msg":"收到退出信号，正在停止Worker...","time":"2025-07-25 01:14:19"}
{"level":"info","msg":"开始停止Worker","time":"2025-07-25 01:14:19"}
{"level":"info","msg":"Git同步订阅服务收到退出信号","time":"2025-07-25 01:14:19"}
{"level":"info","msg":"Git仓库清理服务收到退出信号","time":"2025-07-25 01:14:19"}
{"consumer_id":1,"level":"info","msg":"任务消费者收到退出信号","time":"2025-07-25 01:14:25","worker_id":"test-worker-001"}
{"consumer_id":0,"level":"info","msg":"任务消费者收到退出信号","time":"2025-07-25 01:14:25","worker_id":"test-worker-001"}
{"level":"info","msg":"所有任务已完成","time":"2025-07-25 01:14:25"}
{"level":"info","msg":"Worker已停止","time":"2025-07-25 01:14:25"}
{"level":"info","msg":"Worker已优雅停止","time":"2025-07-25 01:14:25"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-25 01:15:48"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-25 01:17:48"}
{"level":"debug","msg":"开始查找pending状态的同步日志","repository_id":66,"tenant_id":1,"time":"2025-07-25 01:19:07"}
{"count":0,"level":"debug","logs":[],"msg":"查询到的所有同步日志","time":"2025-07-25 01:19:07"}
{"error":"record not found","level":"warning","msg":"未找到pending状态的同步日志","time":"2025-07-25 01:19:07"}
{"level":"info","msg":"开始处理Git同步任务","time":"2025-07-25 01:19:07"}
{"level":"debug","msg":"开始查找pending状态的同步日志","repository_id":66,"tenant_id":1,"time":"2025-07-25 01:19:09"}
{"count":1,"level":"debug","logs":[{"ID":102,"RepositoryID":66,"TenantID":1,"TaskID":"","TaskType":"manual","WorkerID":"master","OperatorID":1,"StartedAt":"2025-07-25T01:19:09.972538+08:00","FinishedAt":null,"Duration":0,"Status":"pending","FromCommit":"","ToCommit":"","ErrorMessage":"","LocalPath":"","CommandOutput":"","CreatedAt":"2025-07-25T01:19:09.972848+08:00"}],"msg":"查询到的所有同步日志","time":"2025-07-25 01:19:09"}
{"level":"debug","msg":"找到pending状态的同步日志","sync_log_id":102,"time":"2025-07-25 01:19:09","worker_id":"master"}
{"level":"info","msg":"开始处理Git同步任务","time":"2025-07-25 01:19:09"}
{"level":"info","msg":"成功克隆仓库到: /data/ahop/repos/1/66/test-worker-001_1753377547_525nyp","time":"2025-07-25 01:19:11"}
{"error":"record not found","level":"warning","msg":"无法更新同步日志，因为未找到对应的pending日志","time":"2025-07-25 01:19:11"}
{"level":"info","msg":"Git仓库同步成功，耗时: 4.095580578s","time":"2025-07-25 01:19:11"}
{"level":"info","msg":"成功克隆仓库到: /data/ahop/repos/1/66/test-worker-001_1753377549_lsurys","time":"2025-07-25 01:19:13"}
{"level":"debug","msg":"准备更新同步日志","sync_log_id":102,"time":"2025-07-25 01:19:13","update_data":{"duration":3,"finished_at":"2025-07-25T01:19:13.500339313+08:00","local_path":"/data/ahop/repos/1/66/test-worker-001_1753377549_lsurys","status":"success","worker_id":"test-worker-001"}}
{"level":"info","msg":"成功更新同步日志","status":"success","sync_log_id":102,"time":"2025-07-25 01:19:13"}
{"level":"info","msg":"Git仓库同步成功，耗时: 3.525268431s","time":"2025-07-25 01:19:13"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-25 01:19:48"}
{"level":"debug","msg":"开始查找pending状态的同步日志","repository_id":66,"tenant_id":1,"time":"2025-07-25 01:20:11"}
{"count":2,"level":"debug","logs":[{"ID":102,"RepositoryID":66,"TenantID":1,"TaskID":"","TaskType":"manual","WorkerID":"test-worker-001","OperatorID":1,"StartedAt":"2025-07-25T01:19:09.972538+08:00","FinishedAt":"2025-07-25T01:19:13.500339+08:00","Duration":3,"Status":"success","FromCommit":"","ToCommit":"","ErrorMessage":"","LocalPath":"/data/ahop/repos/1/66/test-worker-001_1753377549_lsurys","CommandOutput":"","CreatedAt":"2025-07-25T01:19:09.972848+08:00"},{"ID":103,"RepositoryID":66,"TenantID":1,"TaskID":"","TaskType":"manual","WorkerID":"master","OperatorID":1,"StartedAt":"2025-07-25T01:20:11.532458+08:00","FinishedAt":null,"Duration":0,"Status":"pending","FromCommit":"","ToCommit":"","ErrorMessage":"","LocalPath":"","CommandOutput":"","CreatedAt":"2025-07-25T01:20:11.532909+08:00"}],"msg":"查询到的所有同步日志","time":"2025-07-25 01:20:11"}
{"level":"debug","msg":"找到pending状态的同步日志","sync_log_id":103,"time":"2025-07-25 01:20:11","worker_id":"master"}
{"level":"info","msg":"开始处理Git同步任务","time":"2025-07-25 01:20:11"}
{"level":"info","msg":"成功克隆仓库到: /data/ahop/repos/1/66/test-worker-001_1753377611_5uqgzv","time":"2025-07-25 01:20:15"}
{"level":"debug","msg":"准备更新同步日志","sync_log_id":103,"time":"2025-07-25 01:20:15","update_data":{"duration":4,"finished_at":"2025-07-25T01:20:15.558601211+08:00","local_path":"/data/ahop/repos/1/66/test-worker-001_1753377611_5uqgzv","status":"success","worker_id":"test-worker-001"}}
{"level":"info","msg":"成功更新同步日志","status":"success","sync_log_id":103,"time":"2025-07-25 01:20:15"}
{"level":"info","msg":"Git仓库同步成功，耗时: 4.022544155s","time":"2025-07-25 01:20:15"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-25 01:21:48"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-25 01:23:48"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-25 01:25:48"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-25 01:27:48"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-25 01:29:48"}
{"level":"debug","msg":"开始查找pending状态的同步日志","repository_id":67,"tenant_id":1,"time":"2025-07-25 01:30:33"}
{"count":0,"level":"debug","logs":[],"msg":"查询到的所有同步日志","time":"2025-07-25 01:30:33"}
{"error":"record not found","level":"warning","msg":"未找到pending状态的同步日志","time":"2025-07-25 01:30:33"}
{"level":"info","msg":"开始处理Git同步任务","time":"2025-07-25 01:30:33"}
{"error":"record not found","level":"warning","msg":"无法更新同步日志，因为未找到对应的pending日志","time":"2025-07-25 01:30:33"}
{"action":"sync","error":"构建认证失败: 获取凭证失败: 凭证不存在 (ID: 60)","level":"error","msg":"Git仓库同步失败，耗时: 7.780998ms","repository_id":67,"tenant_id":1,"time":"2025-07-25 01:30:33","worker_id":"test-worker-001"}
{"action":"sync","error":"构建认证失败: 获取凭证失败: 凭证不存在 (ID: 60)","level":"error","msg":"处理Git同步任务失败","repository_id":67,"tenant_id":1,"time":"2025-07-25 01:30:33"}
{"level":"debug","msg":"开始查找pending状态的同步日志","repository_id":67,"tenant_id":1,"time":"2025-07-25 01:31:44"}
{"count":1,"level":"debug","logs":[{"ID":104,"RepositoryID":67,"TenantID":1,"TaskID":"","TaskType":"manual","WorkerID":"master","OperatorID":1,"StartedAt":"2025-07-25T01:31:44.303432+08:00","FinishedAt":null,"Duration":0,"Status":"pending","FromCommit":"","ToCommit":"","ErrorMessage":"","LocalPath":"","CommandOutput":"","CreatedAt":"2025-07-25T01:31:44.304012+08:00"}],"msg":"查询到的所有同步日志","time":"2025-07-25 01:31:44"}
{"level":"debug","msg":"找到pending状态的同步日志","sync_log_id":104,"time":"2025-07-25 01:31:44","worker_id":"master"}
{"level":"info","msg":"开始处理Git同步任务","time":"2025-07-25 01:31:44"}
{"level":"debug","msg":"准备更新同步日志","sync_log_id":104,"time":"2025-07-25 01:31:44","update_data":{"duration":0,"error_message":"构建认证失败: 获取凭证失败: 凭证不存在 (ID: 60)","finished_at":"2025-07-25T01:31:44.314921344+08:00","status":"failed","worker_id":"test-worker-001"}}
{"level":"info","msg":"成功更新同步日志","status":"failed","sync_log_id":104,"time":"2025-07-25 01:31:44"}
{"action":"sync","error":"构建认证失败: 获取凭证失败: 凭证不存在 (ID: 60)","level":"error","msg":"Git仓库同步失败，耗时: 7.868711ms","repository_id":67,"tenant_id":1,"time":"2025-07-25 01:31:44","worker_id":"test-worker-001"}
{"action":"sync","error":"构建认证失败: 获取凭证失败: 凭证不存在 (ID: 60)","level":"error","msg":"处理Git同步任务失败","repository_id":67,"tenant_id":1,"time":"2025-07-25 01:31:44"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-25 01:31:48"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-25 01:33:48"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-25 01:35:48"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-25 01:37:48"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-25 01:39:48"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-25 01:41:48"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-25 01:43:48"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-25 01:45:48"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-25 01:47:48"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-25 01:49:48"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-25 01:51:48"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-25 01:53:48"}
{"level":"info","master_url":"http://localhost:8080","msg":"启动AHOP Worker","time":"2025-07-25 01:54:56","version":"1.0.0","worker_name":"AHOP Worker on development"}
{"level":"info","msg":"使用配置的worker_id","time":"2025-07-25 01:54:56","worker_id":"test-worker-001"}
{"level":"info","master_url":"http://localhost:8080","msg":"Worker认证成功，获得数据库和Redis凭据","time":"2025-07-25 01:54:56","worker_id":"test-worker-001"}
{"executors":2,"level":"info","msg":"已注册任务执行器","time":"2025-07-25 01:54:56"}
{"concurrency":2,"level":"info","msg":"Worker启动成功","time":"2025-07-25 01:54:56","worker_id":"test-worker-001"}
{"level":"info","msg":"Worker启动成功，正在等待任务...","time":"2025-07-25 01:54:56"}
{"consumer_id":0,"level":"info","msg":"任务消费者启动","time":"2025-07-25 01:54:56","worker_id":"test-worker-001"}
{"consumer_id":1,"level":"info","msg":"任务消费者启动","time":"2025-07-25 01:54:56","worker_id":"test-worker-001"}
{"level":"info","msg":"Git同步订阅服务已启动","time":"2025-07-25 01:54:56"}
{"level":"debug","msg":"开始查找pending状态的同步日志","repository_id":67,"tenant_id":1,"time":"2025-07-25 01:55:05"}
{"level":"debug","msg":"开始查找pending状态的同步日志","repository_id":67,"tenant_id":1,"time":"2025-07-25 01:55:05"}
{"count":2,"level":"debug","logs":[{"ID":104,"RepositoryID":67,"TenantID":1,"TaskID":"","TaskType":"manual","WorkerID":"test-worker-001","OperatorID":1,"StartedAt":"2025-07-25T01:31:44.303432+08:00","FinishedAt":"2025-07-25T01:31:44.314921+08:00","Duration":0,"Status":"failed","FromCommit":"","ToCommit":"","ErrorMessage":"构建认证失败: 获取凭证失败: 凭证不存在 (ID: 60)","LocalPath":"","CommandOutput":"","CreatedAt":"2025-07-25T01:31:44.304012+08:00"},{"ID":105,"RepositoryID":67,"TenantID":1,"TaskID":"","TaskType":"manual","WorkerID":"master","OperatorID":1,"StartedAt":"2025-07-25T01:55:05.121141+08:00","FinishedAt":null,"Duration":0,"Status":"pending","FromCommit":"","ToCommit":"","ErrorMessage":"","LocalPath":"","CommandOutput":"","CreatedAt":"2025-07-25T01:55:05.121678+08:00"}],"msg":"查询到的所有同步日志","time":"2025-07-25 01:55:05"}
{"level":"debug","msg":"找到pending状态的同步日志","sync_log_id":105,"time":"2025-07-25 01:55:05","worker_id":"master"}
{"level":"info","msg":"开始处理Git同步任务","time":"2025-07-25 01:55:05"}
{"count":2,"level":"debug","logs":[{"ID":104,"RepositoryID":67,"TenantID":1,"TaskID":"","TaskType":"manual","WorkerID":"test-worker-001","OperatorID":1,"StartedAt":"2025-07-25T01:31:44.303432+08:00","FinishedAt":"2025-07-25T01:31:44.314921+08:00","Duration":0,"Status":"failed","FromCommit":"","ToCommit":"","ErrorMessage":"构建认证失败: 获取凭证失败: 凭证不存在 (ID: 60)","LocalPath":"","CommandOutput":"","CreatedAt":"2025-07-25T01:31:44.304012+08:00"},{"ID":105,"RepositoryID":67,"TenantID":1,"TaskID":"","TaskType":"manual","WorkerID":"master","OperatorID":1,"StartedAt":"2025-07-25T01:55:05.121141+08:00","FinishedAt":null,"Duration":0,"Status":"pending","FromCommit":"","ToCommit":"","ErrorMessage":"","LocalPath":"","CommandOutput":"","CreatedAt":"2025-07-25T01:55:05.121678+08:00"}],"msg":"查询到的所有同步日志","time":"2025-07-25 01:55:05"}
{"level":"debug","msg":"找到pending状态的同步日志","sync_log_id":105,"time":"2025-07-25 01:55:05","worker_id":"master"}
{"level":"info","msg":"开始处理Git同步任务","time":"2025-07-25 01:55:05"}
{"action":"sync","level":"info","msg":"仓库不存在，将克隆到: /data/ahop/repos/1/67","repository_id":67,"tenant_id":1,"time":"2025-07-25 01:55:05","worker_id":"test-worker-001"}
{"level":"debug","msg":"准备更新同步日志","sync_log_id":105,"time":"2025-07-25 01:55:05","update_data":{"duration":0,"error_message":"构建认证失败: 获取凭证失败: 凭证不存在 (ID: 60)","finished_at":"2025-07-25T01:55:05.142302029+08:00","status":"failed","worker_id":"test-worker-001"}}
{"level":"info","msg":"成功更新同步日志","status":"failed","sync_log_id":105,"time":"2025-07-25 01:55:05"}
{"action":"sync","error":"构建认证失败: 获取凭证失败: 凭证不存在 (ID: 60)","level":"error","msg":"Git仓库同步失败，耗时: 10.947439ms","repository_id":67,"tenant_id":1,"time":"2025-07-25 01:55:05","worker_id":"test-worker-001"}
{"action":"sync","error":"构建认证失败: 获取凭证失败: 凭证不存在 (ID: 60)","level":"error","msg":"处理Git同步任务失败","repository_id":67,"tenant_id":1,"time":"2025-07-25 01:55:05"}
{"level":"info","msg":"重试克隆仓库 (第2次)...","time":"2025-07-25 01:55:05"}
{"level":"info","msg":"重试克隆仓库 (第3次)...","time":"2025-07-25 01:55:15"}
{"level":"debug","msg":"准备更新同步日志","sync_log_id":105,"time":"2025-07-25 01:55:35","update_data":{"duration":30042,"error_message":"git clone 失败: exit status 128, 输出: fatal: destination path '/data/ahop/repos/1/67' already exists and is not an empty directory.\n","finished_at":"2025-07-25T01:55:35.173577906+08:00","status":"failed","worker_id":"test-worker-001"}}
{"level":"info","msg":"成功更新同步日志","status":"failed","sync_log_id":105,"time":"2025-07-25 01:55:35"}
{"action":"sync","error":"git clone 失败: exit status 128, 输出: fatal: destination path '/data/ahop/repos/1/67' already exists and is not an empty directory.\n","level":"error","msg":"Git仓库同步失败，耗时: 30.042263412s","repository_id":67,"tenant_id":1,"time":"2025-07-25 01:55:35","worker_id":"test-worker-001"}
{"action":"sync","error":"git clone 失败: exit status 128, 输出: fatal: destination path '/data/ahop/repos/1/67' already exists and is not an empty directory.\n","level":"error","msg":"处理Git同步任务失败","repository_id":67,"tenant_id":1,"time":"2025-07-25 01:55:35"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-25 01:55:48"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-25 01:56:56"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-25 01:57:48"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-25 01:58:56"}
{"level":"info","msg":"收到退出信号，正在停止Worker...","time":"2025-07-25 01:59:09"}
{"level":"info","msg":"开始停止Worker","time":"2025-07-25 01:59:09"}
{"level":"info","msg":"Git同步订阅服务收到退出信号","time":"2025-07-25 01:59:09"}
{"consumer_id":1,"level":"info","msg":"任务消费者收到退出信号","time":"2025-07-25 01:59:09","worker_id":"test-worker-001"}
{"consumer_id":0,"level":"info","msg":"任务消费者收到退出信号","time":"2025-07-25 01:59:09","worker_id":"test-worker-001"}
{"level":"info","msg":"所有任务已完成","time":"2025-07-25 01:59:09"}
{"level":"info","msg":"Worker已停止","time":"2025-07-25 01:59:09"}
{"level":"info","msg":"Worker已优雅停止","time":"2025-07-25 01:59:09"}
{"level":"info","master_url":"http://localhost:8080","msg":"启动AHOP Worker","time":"2025-07-25 01:59:11","version":"1.0.0","worker_name":"AHOP Worker on development"}
{"level":"info","msg":"使用配置的worker_id","time":"2025-07-25 01:59:11","worker_id":"test-worker-001"}
{"level":"info","master_url":"http://localhost:8080","msg":"Worker认证成功，获得数据库和Redis凭据","time":"2025-07-25 01:59:11","worker_id":"test-worker-001"}
{"executors":2,"level":"info","msg":"已注册任务执行器","time":"2025-07-25 01:59:11"}
{"concurrency":2,"level":"info","msg":"Worker启动成功","time":"2025-07-25 01:59:11","worker_id":"test-worker-001"}
{"level":"info","msg":"Worker启动成功，正在等待任务...","time":"2025-07-25 01:59:11"}
{"consumer_id":0,"level":"info","msg":"任务消费者启动","time":"2025-07-25 01:59:11","worker_id":"test-worker-001"}
{"consumer_id":1,"level":"info","msg":"任务消费者启动","time":"2025-07-25 01:59:11","worker_id":"test-worker-001"}
{"level":"info","msg":"Git同步订阅服务已启动","time":"2025-07-25 01:59:11"}
{"level":"debug","msg":"开始查找pending状态的同步日志","repository_id":67,"tenant_id":1,"time":"2025-07-25 01:59:16"}
{"level":"debug","msg":"开始查找pending状态的同步日志","repository_id":67,"tenant_id":1,"time":"2025-07-25 01:59:16"}
{"count":3,"level":"debug","logs":[{"ID":104,"RepositoryID":67,"TenantID":1,"TaskID":"","TaskType":"manual","WorkerID":"test-worker-001","OperatorID":1,"StartedAt":"2025-07-25T01:31:44.303432+08:00","FinishedAt":"2025-07-25T01:31:44.314921+08:00","Duration":0,"Status":"failed","FromCommit":"","ToCommit":"","ErrorMessage":"构建认证失败: 获取凭证失败: 凭证不存在 (ID: 60)","LocalPath":"","CommandOutput":"","CreatedAt":"2025-07-25T01:31:44.304012+08:00"},{"ID":105,"RepositoryID":67,"TenantID":1,"TaskID":"","TaskType":"manual","WorkerID":"test-worker-001","OperatorID":1,"StartedAt":"2025-07-25T01:55:05.121141+08:00","FinishedAt":"2025-07-25T01:55:35.173577+08:00","Duration":30042,"Status":"failed","FromCommit":"","ToCommit":"","ErrorMessage":"git clone 失败: exit status 128, 输出: fatal: destination path '/data/ahop/repos/1/67' already exists and is not an empty directory.\n","LocalPath":"","CommandOutput":"","CreatedAt":"2025-07-25T01:55:05.121678+08:00"},{"ID":106,"RepositoryID":67,"TenantID":1,"TaskID":"","TaskType":"manual","WorkerID":"master","OperatorID":1,"StartedAt":"2025-07-25T01:59:16.670257+08:00","FinishedAt":null,"Duration":0,"Status":"pending","FromCommit":"","ToCommit":"","ErrorMessage":"","LocalPath":"","CommandOutput":"","CreatedAt":"2025-07-25T01:59:16.670775+08:00"}],"msg":"查询到的所有同步日志","time":"2025-07-25 01:59:16"}
{"level":"debug","msg":"找到pending状态的同步日志","sync_log_id":106,"time":"2025-07-25 01:59:16","worker_id":"master"}
{"level":"info","msg":"开始处理Git同步任务","time":"2025-07-25 01:59:16"}
{"count":3,"level":"debug","logs":[{"ID":104,"RepositoryID":67,"TenantID":1,"TaskID":"","TaskType":"manual","WorkerID":"test-worker-001","OperatorID":1,"StartedAt":"2025-07-25T01:31:44.303432+08:00","FinishedAt":"2025-07-25T01:31:44.314921+08:00","Duration":0,"Status":"failed","FromCommit":"","ToCommit":"","ErrorMessage":"构建认证失败: 获取凭证失败: 凭证不存在 (ID: 60)","LocalPath":"","CommandOutput":"","CreatedAt":"2025-07-25T01:31:44.304012+08:00"},{"ID":105,"RepositoryID":67,"TenantID":1,"TaskID":"","TaskType":"manual","WorkerID":"test-worker-001","OperatorID":1,"StartedAt":"2025-07-25T01:55:05.121141+08:00","FinishedAt":"2025-07-25T01:55:35.173577+08:00","Duration":30042,"Status":"failed","FromCommit":"","ToCommit":"","ErrorMessage":"git clone 失败: exit status 128, 输出: fatal: destination path '/data/ahop/repos/1/67' already exists and is not an empty directory.\n","LocalPath":"","CommandOutput":"","CreatedAt":"2025-07-25T01:55:05.121678+08:00"},{"ID":106,"RepositoryID":67,"TenantID":1,"TaskID":"","TaskType":"manual","WorkerID":"master","OperatorID":1,"StartedAt":"2025-07-25T01:59:16.670257+08:00","FinishedAt":null,"Duration":0,"Status":"pending","FromCommit":"","ToCommit":"","ErrorMessage":"","LocalPath":"","CommandOutput":"","CreatedAt":"2025-07-25T01:59:16.670775+08:00"}],"msg":"查询到的所有同步日志","time":"2025-07-25 01:59:16"}
{"level":"debug","msg":"找到pending状态的同步日志","sync_log_id":106,"time":"2025-07-25 01:59:16","worker_id":"master"}
{"level":"info","msg":"开始处理Git同步任务","time":"2025-07-25 01:59:16"}
{"action":"sync","level":"warning","msg":"目录存在但不是Git仓库，将删除: /data/ahop/repos/1/67","repository_id":67,"tenant_id":1,"time":"2025-07-25 01:59:16","worker_id":"test-worker-001"}
{"action":"sync","level":"info","msg":"仓库不存在，将克隆到: /data/ahop/repos/1/67","repository_id":67,"tenant_id":1,"time":"2025-07-25 01:59:16","worker_id":"test-worker-001"}
{"level":"debug","msg":"准备更新同步日志","sync_log_id":106,"time":"2025-07-25 01:59:16","update_data":{"duration":0,"error_message":"构建认证失败: 获取凭证失败: 凭证不存在 (ID: 60)","finished_at":"2025-07-25T01:59:16.685383291+08:00","status":"failed","worker_id":"test-worker-001"}}
{"level":"info","msg":"成功更新同步日志","status":"failed","sync_log_id":106,"time":"2025-07-25 01:59:16"}
{"action":"sync","error":"构建认证失败: 获取凭证失败: 凭证不存在 (ID: 60)","level":"error","msg":"Git仓库同步失败，耗时: 8.108736ms","repository_id":67,"tenant_id":1,"time":"2025-07-25 01:59:16","worker_id":"test-worker-001"}
{"action":"sync","error":"构建认证失败: 获取凭证失败: 凭证不存在 (ID: 60)","level":"error","msg":"处理Git同步任务失败","repository_id":67,"tenant_id":1,"time":"2025-07-25 01:59:16"}
{"level":"info","msg":"成功克隆仓库到: /data/ahop/repos/1/67","time":"2025-07-25 01:59:25"}
{"level":"debug","msg":"准备更新同步日志","sync_log_id":106,"time":"2025-07-25 01:59:25","update_data":{"duration":8358,"finished_at":"2025-07-25T01:59:25.035908915+08:00","local_path":"/data/ahop/repos/1/67","status":"success","to_commit":"43e82dd990a7e3fb5137ad64eb8124671944ab38","worker_id":"test-worker-001"}}
{"level":"info","msg":"成功更新同步日志","status":"success","sync_log_id":106,"time":"2025-07-25 01:59:25"}
{"level":"info","msg":"Git仓库同步成功，耗时: 8.358433917s","time":"2025-07-25 01:59:25"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-25 01:59:48"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-25 02:01:11"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-25 02:01:48"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-25 02:03:11"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-25 02:03:48"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-25 02:05:11"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-25 02:05:48"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-25 02:07:11"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-25 02:07:48"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-25 02:09:11"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-25 02:09:48"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-25 02:11:11"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-25 02:11:48"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-25 02:13:11"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-25 02:13:48"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-25 02:15:11"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-25 02:15:48"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-25 02:17:11"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-25 02:17:48"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-25 02:19:11"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-25 02:19:48"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-25 02:21:11"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-25 02:21:48"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-25 02:23:11"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-25 02:23:48"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-25 02:25:11"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-25 02:25:48"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-25 02:27:11"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-25 02:27:48"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-25 02:29:11"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-25 02:29:48"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-25 02:31:11"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-25 02:31:48"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-25 02:33:11"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-25 02:33:48"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-25 02:35:11"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-25 02:35:48"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-25 02:37:11"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-25 02:37:48"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-25 02:39:11"}
{"level":"info","msg":"收到退出信号，正在停止Worker...","time":"2025-07-25 02:39:20"}
{"level":"info","msg":"开始停止Worker","time":"2025-07-25 02:39:20"}
{"level":"info","msg":"Git同步订阅服务收到退出信号","time":"2025-07-25 02:39:20"}
{"consumer_id":1,"level":"info","msg":"任务消费者收到退出信号","time":"2025-07-25 02:39:28","worker_id":"test-worker-001"}
{"consumer_id":0,"level":"info","msg":"任务消费者收到退出信号","time":"2025-07-25 02:39:28","worker_id":"test-worker-001"}
{"level":"info","msg":"所有任务已完成","time":"2025-07-25 02:39:28"}
{"level":"info","msg":"Worker已停止","time":"2025-07-25 02:39:28"}
{"level":"info","msg":"Worker已优雅停止","time":"2025-07-25 02:39:28"}
{"level":"info","master_url":"http://localhost:8080","msg":"启动AHOP Worker","time":"2025-07-25 02:39:58","version":"1.0.0","worker_name":"AHOP Worker on development"}
{"level":"info","msg":"使用配置的worker_id","time":"2025-07-25 02:39:58","worker_id":"test-worker-001"}
{"level":"info","master_url":"http://localhost:8080","msg":"Worker认证成功，获得数据库和Redis凭据","time":"2025-07-25 02:39:58","worker_id":"test-worker-001"}
{"executors":2,"level":"info","msg":"已注册任务执行器","time":"2025-07-25 02:39:58"}
{"concurrency":2,"level":"info","msg":"Worker启动成功","time":"2025-07-25 02:39:58","worker_id":"test-worker-001"}
{"level":"info","msg":"Worker启动成功，正在等待任务...","time":"2025-07-25 02:39:58"}
{"consumer_id":0,"level":"info","msg":"任务消费者启动","time":"2025-07-25 02:39:58","worker_id":"test-worker-001"}
{"consumer_id":1,"level":"info","msg":"任务消费者启动","time":"2025-07-25 02:39:58","worker_id":"test-worker-001"}
{"level":"info","msg":"Git同步订阅服务已启动","time":"2025-07-25 02:39:58"}
{"level":"info","master_url":"http://localhost:8080","msg":"启动AHOP Worker","time":"2025-07-25 02:40:09","version":"1.0.0","worker_name":"AHOP Worker on development"}
{"level":"info","msg":"使用配置的worker_id","time":"2025-07-25 02:40:09","worker_id":"test-worker-001"}
{"error":"向Master认证失败: 认证失败: Worker ID 'test-worker-001' 已经被其他实例使用（IP: ::1） (HTTP 200, Code 409)","level":"fatal","msg":"创建Worker失败","time":"2025-07-25 02:40:09"}
{"level":"debug","msg":"开始查找pending状态的同步日志","repository_id":68,"tenant_id":1,"time":"2025-07-25 02:40:32"}
{"count":0,"level":"debug","logs":[],"msg":"查询到的所有同步日志","time":"2025-07-25 02:40:32"}
{"level":"info","msg":"未找到属于本 Worker 的同步日志，创建新日志","time":"2025-07-25 02:40:32"}
{"level":"info","msg":"成功创建同步日志","sync_log_id":107,"time":"2025-07-25 02:40:32","worker_id":"test-worker-001"}
{"level":"info","msg":"开始处理Git同步任务","time":"2025-07-25 02:40:32"}
{"action":"sync","level":"info","msg":"仓库不存在，将克隆到: /data/ahop/repos/1/68","repository_id":68,"tenant_id":1,"time":"2025-07-25 02:40:32","worker_id":"test-worker-001"}
{"level":"info","msg":"成功克隆仓库到: /data/ahop/repos/1/68","time":"2025-07-25 02:40:37"}
{"level":"debug","msg":"准备更新同步日志","sync_log_id":107,"time":"2025-07-25 02:40:37","update_data":{"duration":4583,"error_message":"","finished_at":"2025-07-25T02:40:37.173082159+08:00","local_path":"/data/ahop/repos/1/68","status":"success","to_commit":"43e82dd990a7e3fb5137ad64eb8124671944ab38","worker_id":"test-worker-001"}}
{"level":"info","msg":"成功更新同步日志","status":"success","sync_log_id":107,"time":"2025-07-25 02:40:37"}
{"level":"info","msg":"Git仓库同步成功，耗时: 4.583457038s","time":"2025-07-25 02:40:37"}
{"level":"debug","msg":"开始查找pending状态的同步日志","repository_id":68,"tenant_id":1,"time":"2025-07-25 02:40:40"}
{"count":1,"level":"debug","logs":[{"ID":107,"RepositoryID":68,"TenantID":1,"TaskID":"","TaskType":"scheduled","WorkerID":"test-worker-001","OperatorID":null,"StartedAt":"2025-07-25T02:40:32.604431+08:00","FinishedAt":"2025-07-25T02:40:37.173082+08:00","Duration":4583,"Status":"success","FromCommit":"","ToCommit":"43e82dd990a7e3fb5137ad64eb8124671944ab38","ErrorMessage":"","LocalPath":"/data/ahop/repos/1/68","CommandOutput":"","CreatedAt":"2025-07-25T02:40:32.604432+08:00"}],"msg":"查询到的所有同步日志","time":"2025-07-25 02:40:40"}
{"level":"info","msg":"未找到属于本 Worker 的同步日志，创建新日志","time":"2025-07-25 02:40:40"}
{"level":"info","msg":"成功创建同步日志","sync_log_id":108,"time":"2025-07-25 02:40:40","worker_id":"test-worker-001"}
{"level":"info","msg":"开始处理Git同步任务","time":"2025-07-25 02:40:40"}
{"action":"sync","level":"info","msg":"仓库已存在，将拉取更新: /data/ahop/repos/1/68","repository_id":68,"tenant_id":1,"time":"2025-07-25 02:40:40","worker_id":"test-worker-001"}
{"level":"info","msg":"成功更新仓库","time":"2025-07-25 02:40:40"}
{"level":"debug","msg":"准备更新同步日志","sync_log_id":108,"time":"2025-07-25 02:40:40","update_data":{"duration":516,"error_message":"","finished_at":"2025-07-25T02:40:40.88419014+08:00","from_commit":"43e82dd990a7e3fb5137ad64eb8124671944ab38","local_path":"/data/ahop/repos/1/68","status":"success","to_commit":"43e82dd990a7e3fb5137ad64eb8124671944ab38","worker_id":"test-worker-001"}}
{"level":"info","msg":"成功更新同步日志","status":"success","sync_log_id":108,"time":"2025-07-25 02:40:40"}
{"level":"info","msg":"Git仓库同步成功，耗时: 516.088147ms","time":"2025-07-25 02:40:40"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-25 02:41:58"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-25 02:43:58"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-25 02:45:58"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-25 02:47:58"}
{"level":"debug","msg":"开始查找pending状态的同步日志","repository_id":69,"tenant_id":1,"time":"2025-07-25 02:48:40"}
{"count":0,"level":"debug","logs":[],"msg":"查询到的所有同步日志","time":"2025-07-25 02:48:40"}
{"level":"info","msg":"未找到属于本 Worker 的同步日志，创建新日志","time":"2025-07-25 02:48:40"}
{"level":"info","msg":"成功创建同步日志","sync_log_id":109,"time":"2025-07-25 02:48:40","worker_id":"test-worker-001"}
{"level":"info","msg":"开始处理Git同步任务","time":"2025-07-25 02:48:40"}
{"action":"sync","level":"info","msg":"仓库不存在，将克隆到: /data/ahop/repos/1/69","repository_id":69,"tenant_id":1,"time":"2025-07-25 02:48:40","worker_id":"test-worker-001"}
{"level":"info","msg":"成功克隆仓库到: /data/ahop/repos/1/69","time":"2025-07-25 02:48:41"}
{"level":"debug","msg":"准备更新同步日志","sync_log_id":109,"time":"2025-07-25 02:48:41","update_data":{"duration":738,"error_message":"","finished_at":"2025-07-25T02:48:41.340434558+08:00","local_path":"/data/ahop/repos/1/69","status":"success","to_commit":"5fd8da2b06e986a794aae267d77c1979a9e5750f","worker_id":"test-worker-001"}}
{"level":"info","msg":"成功更新同步日志","status":"success","sync_log_id":109,"time":"2025-07-25 02:48:41"}
{"level":"info","msg":"Git仓库同步成功，耗时: 738.972014ms","time":"2025-07-25 02:48:41"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-25 02:49:58"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-25 02:51:58"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-25 02:53:58"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-25 02:55:58"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-25 02:57:58"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-25 02:59:58"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-25 03:01:58"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-25 03:03:58"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-25 03:05:58"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-25 03:07:58"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-25 03:09:58"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-25 03:11:58"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-25 03:13:58"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-25 03:15:58"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-25 03:17:58"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-25 03:19:58"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-25 03:21:58"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-25 03:23:58"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-25 03:25:58"}
{"level":"info","msg":"收到退出信号，正在停止Worker...","time":"2025-07-25 03:26:37"}
{"level":"info","msg":"开始停止Worker","time":"2025-07-25 03:26:37"}
{"level":"info","msg":"Git同步订阅服务收到退出信号","time":"2025-07-25 03:26:37"}
{"consumer_id":0,"level":"info","msg":"任务消费者收到退出信号","time":"2025-07-25 03:26:46","worker_id":"test-worker-001"}
{"consumer_id":1,"level":"info","msg":"任务消费者收到退出信号","time":"2025-07-25 03:26:46","worker_id":"test-worker-001"}
{"level":"info","msg":"所有任务已完成","time":"2025-07-25 03:26:46"}
{"error":"disconnect failed: HTTP 404","level":"warning","msg":"通知Master断开连接失败","time":"2025-07-25 03:26:46"}
{"level":"info","msg":"Worker已停止","time":"2025-07-25 03:26:46"}
{"level":"info","msg":"Worker已优雅停止","time":"2025-07-25 03:26:46"}
{"level":"info","master_url":"http://localhost:8080","msg":"启动AHOP Worker","time":"2025-07-25 03:37:44","version":"1.0.0","worker_name":"AHOP Worker on development"}
{"level":"info","msg":"使用配置的worker_id","time":"2025-07-25 03:37:44","worker_id":"test-worker-001"}
{"level":"info","master_url":"http://localhost:8080","msg":"Worker认证成功，获得数据库和Redis凭据","time":"2025-07-25 03:37:44","worker_id":"test-worker-001"}
{"executors":2,"level":"info","msg":"已注册任务执行器","time":"2025-07-25 03:37:44"}
{"concurrency":2,"level":"info","msg":"Worker启动成功","time":"2025-07-25 03:37:44","worker_id":"test-worker-001"}
{"level":"info","msg":"Worker启动成功，正在等待任务...","time":"2025-07-25 03:37:44"}
{"level":"info","msg":"Git扫描队列消费者已启动","time":"2025-07-25 03:37:44"}
{"consumer_id":0,"level":"info","msg":"任务消费者启动","time":"2025-07-25 03:37:44","worker_id":"test-worker-001"}
{"consumer_id":1,"level":"info","msg":"任务消费者启动","time":"2025-07-25 03:37:44","worker_id":"test-worker-001"}
{"action":"scan","level":"info","msg":"收到Git扫描任务","repository_id":68,"tenant_id":1,"time":"2025-07-25 03:37:44"}
{"level":"info","msg":"Git同步订阅服务已启动","time":"2025-07-25 03:37:44"}
{"level":"info","msg":"扫描仓库成功","time":"2025-07-25 03:37:44"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-25 03:39:44"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-25 03:41:44"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-25 03:43:44"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-25 03:45:44"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-25 03:47:44"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-25 03:49:44"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-25 03:51:44"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-25 03:53:44"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-25 03:55:44"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-25 03:57:44"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-25 03:59:44"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-25 04:01:44"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-25 04:03:44"}
{"level":"info","msg":"收到退出信号，正在停止Worker...","time":"2025-07-25 04:05:09"}
{"level":"info","msg":"开始停止Worker","time":"2025-07-25 04:05:09"}
{"level":"info","msg":"Git同步订阅服务收到退出信号","time":"2025-07-25 04:05:09"}
{"consumer_id":1,"level":"info","msg":"任务消费者收到退出信号","time":"2025-07-25 04:05:11","worker_id":"test-worker-001"}
{"consumer_id":0,"level":"info","msg":"任务消费者收到退出信号","time":"2025-07-25 04:05:11","worker_id":"test-worker-001"}
{"level":"info","msg":"所有任务已完成","time":"2025-07-25 04:05:11"}
{"level":"info","msg":"Worker已停止","time":"2025-07-25 04:05:11"}
{"level":"info","msg":"Worker已优雅停止","time":"2025-07-25 04:05:11"}
{"level":"info","master_url":"http://localhost:8080","msg":"启动AHOP Worker","time":"2025-07-25 04:05:13","version":"1.0.0","worker_name":"AHOP Worker on development"}
{"level":"info","msg":"使用配置的worker_id","time":"2025-07-25 04:05:13","worker_id":"test-worker-001"}
{"error":"向Master认证失败: 认证失败: Worker ID 'test-worker-001' 已经被其他实例使用（IP: ::1） (HTTP 200, Code 409)","level":"fatal","msg":"创建Worker失败","time":"2025-07-25 04:05:13"}
{"level":"info","master_url":"http://localhost:8080","msg":"启动AHOP Worker","time":"2025-07-25 04:05:17","version":"1.0.0","worker_name":"AHOP Worker on development"}
{"level":"info","msg":"使用配置的worker_id","time":"2025-07-25 04:05:17","worker_id":"test-worker-001"}
{"error":"向Master认证失败: 认证失败: Worker ID 'test-worker-001' 已经被其他实例使用（IP: ::1） (HTTP 200, Code 409)","level":"fatal","msg":"创建Worker失败","time":"2025-07-25 04:05:17"}
{"level":"info","master_url":"http://localhost:8080","msg":"启动AHOP Worker","time":"2025-07-25 04:05:24","version":"1.0.0","worker_name":"AHOP Worker on development"}
{"level":"info","msg":"使用配置的worker_id","time":"2025-07-25 04:05:24","worker_id":"test-worker-001"}
{"error":"向Master认证失败: 认证失败: Worker ID 'test-worker-001' 已经被其他实例使用（IP: ::1） (HTTP 200, Code 409)","level":"fatal","msg":"创建Worker失败","time":"2025-07-25 04:05:24"}
{"level":"info","master_url":"http://localhost:8080","msg":"启动AHOP Worker","time":"2025-07-25 04:05:25","version":"1.0.0","worker_name":"AHOP Worker on development"}
{"level":"info","msg":"使用配置的worker_id","time":"2025-07-25 04:05:25","worker_id":"test-worker-001"}
{"error":"向Master认证失败: 认证失败: Worker ID 'test-worker-001' 已经被其他实例使用（IP: ::1） (HTTP 200, Code 409)","level":"fatal","msg":"创建Worker失败","time":"2025-07-25 04:05:25"}
{"level":"info","master_url":"http://localhost:8080","msg":"启动AHOP Worker","time":"2025-07-25 04:05:26","version":"1.0.0","worker_name":"AHOP Worker on development"}
{"level":"info","msg":"使用配置的worker_id","time":"2025-07-25 04:05:26","worker_id":"test-worker-001"}
{"error":"向Master认证失败: 认证失败: Worker ID 'test-worker-001' 已经被其他实例使用（IP: ::1） (HTTP 200, Code 409)","level":"fatal","msg":"创建Worker失败","time":"2025-07-25 04:05:26"}
{"level":"info","master_url":"http://localhost:8080","msg":"启动AHOP Worker","time":"2025-07-25 04:08:18","version":"1.0.0","worker_name":"AHOP Worker on development"}
{"level":"info","msg":"使用配置的worker_id","time":"2025-07-25 04:08:18","worker_id":"test-worker-001"}
{"level":"info","master_url":"http://localhost:8080","msg":"Worker认证成功，获得数据库和Redis凭据","time":"2025-07-25 04:08:18","worker_id":"test-worker-001"}
{"executors":2,"level":"info","msg":"已注册任务执行器","time":"2025-07-25 04:08:18"}
{"concurrency":2,"level":"info","msg":"Worker启动成功","time":"2025-07-25 04:08:18","worker_id":"test-worker-001"}
{"level":"info","msg":"Worker启动成功，正在等待任务...","time":"2025-07-25 04:08:18"}
{"level":"info","msg":"Git扫描队列消费者已启动","time":"2025-07-25 04:08:18"}
{"consumer_id":1,"level":"info","msg":"任务消费者启动","time":"2025-07-25 04:08:18","worker_id":"test-worker-001"}
{"consumer_id":0,"level":"info","msg":"任务消费者启动","time":"2025-07-25 04:08:18","worker_id":"test-worker-001"}
{"level":"info","msg":"Git同步订阅服务已启动","time":"2025-07-25 04:08:18"}
{"action":"scan","level":"info","msg":"收到Git扫描任务","repository_id":68,"task_id":"scan_1_68_1753387743","tenant_id":1,"time":"2025-07-25 04:09:03"}
{"level":"info","msg":"扫描完成，结果已存入Redis","task_id":"scan_1_68_1753387743","template_count":17,"time":"2025-07-25 04:09:03"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-25 04:10:18"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-25 04:12:18"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-25 04:14:18"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-25 04:16:18"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-25 04:18:18"}
{"level":"info","msg":"收到退出信号，正在停止Worker...","time":"2025-07-25 04:19:09"}
{"level":"info","msg":"开始停止Worker","time":"2025-07-25 04:19:09"}
{"level":"info","msg":"Git同步订阅服务收到退出信号","time":"2025-07-25 04:19:09"}
{"consumer_id":1,"level":"info","msg":"任务消费者收到退出信号","time":"2025-07-25 04:19:16","worker_id":"test-worker-001"}
{"consumer_id":0,"level":"info","msg":"任务消费者收到退出信号","time":"2025-07-25 04:19:16","worker_id":"test-worker-001"}
{"level":"info","msg":"所有任务已完成","time":"2025-07-25 04:19:16"}
{"level":"info","msg":"Worker已停止","time":"2025-07-25 04:19:16"}
{"level":"info","msg":"Worker已优雅停止","time":"2025-07-25 04:19:16"}
{"level":"info","master_url":"http://localhost:8080","msg":"启动AHOP Worker","time":"2025-07-25 04:19:22","version":"1.0.0","worker_name":"AHOP Worker on development"}
{"level":"info","msg":"使用配置的worker_id","time":"2025-07-25 04:19:22","worker_id":"test-worker-001"}
{"error":"向Master认证失败: 认证失败: Worker ID 'test-worker-001' 已经被其他实例使用（IP: ::1） (HTTP 200, Code 409)","level":"fatal","msg":"创建Worker失败","time":"2025-07-25 04:19:22"}
{"level":"info","master_url":"http://localhost:8080","msg":"启动AHOP Worker","time":"2025-07-25 04:21:10","version":"1.0.0","worker_name":"AHOP Worker on development"}
{"level":"info","msg":"使用配置的worker_id","time":"2025-07-25 04:21:10","worker_id":"test-worker-001"}
{"level":"info","master_url":"http://localhost:8080","msg":"Worker认证成功，获得数据库和Redis凭据","time":"2025-07-25 04:21:10","worker_id":"test-worker-001"}
{"executors":2,"level":"info","msg":"已注册任务执行器","time":"2025-07-25 04:21:10"}
{"concurrency":2,"level":"info","msg":"Worker启动成功","time":"2025-07-25 04:21:10","worker_id":"test-worker-001"}
{"level":"info","msg":"Worker启动成功，正在等待任务...","time":"2025-07-25 04:21:10"}
{"level":"info","msg":"Git扫描队列消费者已启动","time":"2025-07-25 04:21:10"}
{"consumer_id":0,"level":"info","msg":"任务消费者启动","time":"2025-07-25 04:21:10","worker_id":"test-worker-001"}
{"consumer_id":1,"level":"info","msg":"任务消费者启动","time":"2025-07-25 04:21:10","worker_id":"test-worker-001"}
{"level":"info","msg":"Git同步订阅服务已启动","time":"2025-07-25 04:21:10"}
{"level":"info","msg":"收到退出信号，正在停止Worker...","time":"2025-07-25 04:21:12"}
{"level":"info","msg":"开始停止Worker","time":"2025-07-25 04:21:12"}
{"level":"info","msg":"Git同步订阅服务收到退出信号","time":"2025-07-25 04:21:12"}
{"consumer_id":1,"level":"info","msg":"任务消费者收到退出信号","time":"2025-07-25 04:21:20","worker_id":"test-worker-001"}
{"consumer_id":0,"level":"info","msg":"任务消费者收到退出信号","time":"2025-07-25 04:21:20","worker_id":"test-worker-001"}
{"level":"info","msg":"所有任务已完成","time":"2025-07-25 04:21:20"}
{"level":"info","msg":"已通知Master断开连接","time":"2025-07-25 04:21:20"}
{"level":"info","msg":"Worker已停止","time":"2025-07-25 04:21:20"}
{"level":"info","msg":"Worker已优雅停止","time":"2025-07-25 04:21:20"}
{"level":"info","master_url":"http://localhost:8080","msg":"启动AHOP Worker","time":"2025-07-25 04:21:21","version":"1.0.0","worker_name":"AHOP Worker on development"}
{"level":"info","msg":"使用配置的worker_id","time":"2025-07-25 04:21:21","worker_id":"test-worker-001"}
{"level":"info","master_url":"http://localhost:8080","msg":"Worker认证成功，获得数据库和Redis凭据","time":"2025-07-25 04:21:21","worker_id":"test-worker-001"}
{"executors":2,"level":"info","msg":"已注册任务执行器","time":"2025-07-25 04:21:21"}
{"concurrency":2,"level":"info","msg":"Worker启动成功","time":"2025-07-25 04:21:21","worker_id":"test-worker-001"}
{"level":"info","msg":"Worker启动成功，正在等待任务...","time":"2025-07-25 04:21:21"}
{"consumer_id":0,"level":"info","msg":"任务消费者启动","time":"2025-07-25 04:21:21","worker_id":"test-worker-001"}
{"level":"info","msg":"Git扫描队列消费者已启动","time":"2025-07-25 04:21:21"}
{"consumer_id":1,"level":"info","msg":"任务消费者启动","time":"2025-07-25 04:21:21","worker_id":"test-worker-001"}
{"level":"info","msg":"Git同步订阅服务已启动","time":"2025-07-25 04:21:21"}
{"level":"info","master_url":"http://localhost:8080","msg":"启动AHOP Worker","time":"2025-07-25 04:21:41","version":"1.0.0","worker_name":"AHOP Worker on development"}
{"level":"info","msg":"使用配置的worker_id","time":"2025-07-25 04:21:41","worker_id":"test-worker-001"}
{"error":"向Master认证失败: 认证失败: Worker ID 'test-worker-001' 已经被其他实例使用（IP: ::1） (HTTP 200, Code 409)","level":"fatal","msg":"创建Worker失败","time":"2025-07-25 04:21:41"}
{"level":"info","master_url":"http://localhost:8080","msg":"启动AHOP Worker","time":"2025-07-25 05:56:11","version":"1.0.0","worker_name":"AHOP Worker on development"}
{"level":"info","msg":"使用配置的worker_id","time":"2025-07-25 05:56:11","worker_id":"test-worker-001"}
{"level":"info","master_url":"http://localhost:8080","msg":"Worker认证成功，获得数据库和Redis凭据","time":"2025-07-25 05:56:11","worker_id":"test-worker-001"}
{"executors":2,"level":"info","msg":"已注册任务执行器","time":"2025-07-25 05:56:11"}
{"concurrency":2,"level":"info","msg":"Worker启动成功","time":"2025-07-25 05:56:11","worker_id":"test-worker-001"}
{"level":"info","msg":"Worker启动成功，正在等待任务...","time":"2025-07-25 05:56:11"}
{"consumer_id":0,"level":"info","msg":"任务消费者启动","time":"2025-07-25 05:56:11","worker_id":"test-worker-001"}
{"consumer_id":1,"level":"info","msg":"任务消费者启动","time":"2025-07-25 05:56:11","worker_id":"test-worker-001"}
{"level":"info","msg":"Git扫描队列消费者已启动","time":"2025-07-25 05:56:11"}
{"level":"info","msg":"Git同步订阅服务已启动","time":"2025-07-25 05:56:11"}
{"action":"scan","level":"info","msg":"收到Git扫描任务","repository_id":68,"task_id":"scan_1_68_1753394144","tenant_id":1,"time":"2025-07-25 05:56:11"}
{"level":"info","msg":"扫描完成，结果已存入Redis","task_id":"scan_1_68_1753394144","template_count":17,"time":"2025-07-25 05:56:11"}
{"action":"scan","level":"info","msg":"收到Git扫描任务","repository_id":68,"task_id":"scan_1_68_1753394158","tenant_id":1,"time":"2025-07-25 05:56:11"}
{"level":"info","msg":"扫描完成，结果已存入Redis","task_id":"scan_1_68_1753394158","template_count":17,"time":"2025-07-25 05:56:11"}
{"action":"scan","level":"info","msg":"收到Git扫描任务","repository_id":68,"task_id":"scan_1_68_1753394177","tenant_id":1,"time":"2025-07-25 05:56:17"}
{"level":"info","msg":"扫描完成，结果已存入Redis","task_id":"scan_1_68_1753394177","template_count":17,"time":"2025-07-25 05:56:17"}
{"action":"scan","level":"info","msg":"收到Git扫描任务","repository_id":69,"task_id":"scan_1_69_1753394200","tenant_id":1,"time":"2025-07-25 05:56:40"}
{"level":"info","msg":"扫描完成，结果已存入Redis","task_id":"scan_1_69_1753394200","template_count":1,"time":"2025-07-25 05:56:40"}
{"action":"scan","level":"info","msg":"收到Git扫描任务","repository_id":68,"task_id":"scan_1_68_1753394218","tenant_id":1,"time":"2025-07-25 05:56:58"}
{"level":"info","msg":"扫描完成，结果已存入Redis","task_id":"scan_1_68_1753394218","template_count":17,"time":"2025-07-25 05:56:58"}
{"action":"scan","level":"info","msg":"收到Git扫描任务","repository_id":69,"task_id":"scan_1_69_1753394224","tenant_id":1,"time":"2025-07-25 05:57:04"}
{"level":"info","msg":"扫描完成，结果已存入Redis","task_id":"scan_1_69_1753394224","template_count":1,"time":"2025-07-25 05:57:04"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-25 05:58:11"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-25 06:00:11"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-25 06:02:11"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-25 06:04:11"}
{"action":"scan","level":"info","msg":"收到Git扫描任务","repository_id":69,"task_id":"scan_1_69_1753394724","tenant_id":1,"time":"2025-07-25 06:05:24"}
{"level":"info","msg":"扫描完成，结果已存入Redis","task_id":"scan_1_69_1753394724","template_count":1,"time":"2025-07-25 06:05:24"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-25 06:06:11"}
{"level":"info","msg":"收到退出信号，正在停止Worker...","time":"2025-07-25 06:07:09"}
{"level":"info","msg":"开始停止Worker","time":"2025-07-25 06:07:09"}
{"level":"info","msg":"Git同步订阅服务收到退出信号","time":"2025-07-25 06:07:09"}
{"consumer_id":1,"level":"info","msg":"任务消费者收到退出信号","time":"2025-07-25 06:07:18","worker_id":"test-worker-001"}
{"consumer_id":0,"level":"info","msg":"任务消费者收到退出信号","time":"2025-07-25 06:07:18","worker_id":"test-worker-001"}
{"level":"info","msg":"所有任务已完成","time":"2025-07-25 06:07:18"}
{"level":"info","msg":"已通知Master断开连接","time":"2025-07-25 06:07:18"}
{"level":"info","msg":"Worker已停止","time":"2025-07-25 06:07:18"}
{"level":"info","msg":"Worker已优雅停止","time":"2025-07-25 06:07:18"}
{"level":"info","master_url":"http://localhost:8080","msg":"启动AHOP Worker","time":"2025-07-25 06:15:06","version":"1.0.0","worker_name":"AHOP Worker on development"}
{"level":"info","msg":"使用配置的worker_id","time":"2025-07-25 06:15:06","worker_id":"test-worker-001"}
{"level":"info","master_url":"http://localhost:8080","msg":"Worker认证成功，获得数据库和Redis凭据","time":"2025-07-25 06:15:06","worker_id":"test-worker-001"}
{"executors":2,"level":"info","msg":"已注册任务执行器","time":"2025-07-25 06:15:06"}
{"concurrency":2,"level":"info","msg":"Worker启动成功","time":"2025-07-25 06:15:06","worker_id":"test-worker-001"}
{"level":"info","msg":"Worker启动成功，正在等待任务...","time":"2025-07-25 06:15:06"}
{"consumer_id":0,"level":"info","msg":"任务消费者启动","time":"2025-07-25 06:15:06","worker_id":"test-worker-001"}
{"level":"info","msg":"Git扫描队列消费者已启动","time":"2025-07-25 06:15:06"}
{"consumer_id":1,"level":"info","msg":"任务消费者启动","time":"2025-07-25 06:15:06","worker_id":"test-worker-001"}
{"level":"info","msg":"Git同步订阅服务已启动","time":"2025-07-25 06:15:06"}
{"action":"scan","level":"info","msg":"收到Git扫描任务","repository_id":69,"task_id":"scan_1_69_1753395325","tenant_id":1,"time":"2025-07-25 06:15:25"}
{"level":"info","msg":"扫描完成，结果已存入Redis","task_id":"scan_1_69_1753395325","template_count":1,"time":"2025-07-25 06:15:25"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-25 06:17:06"}
{"level":"info","msg":"收到退出信号，正在停止Worker...","time":"2025-07-25 06:17:34"}
{"level":"info","msg":"开始停止Worker","time":"2025-07-25 06:17:34"}
{"level":"info","msg":"Git同步订阅服务收到退出信号","time":"2025-07-25 06:17:34"}
{"consumer_id":0,"level":"info","msg":"任务消费者收到退出信号","time":"2025-07-25 06:17:38","worker_id":"test-worker-001"}
{"consumer_id":1,"level":"info","msg":"任务消费者收到退出信号","time":"2025-07-25 06:17:38","worker_id":"test-worker-001"}
{"level":"info","msg":"所有任务已完成","time":"2025-07-25 06:17:38"}
{"level":"info","msg":"已通知Master断开连接","time":"2025-07-25 06:17:38"}
{"level":"info","msg":"Worker已停止","time":"2025-07-25 06:17:38"}
{"level":"info","msg":"Worker已优雅停止","time":"2025-07-25 06:17:38"}
{"level":"info","master_url":"http://localhost:8080","msg":"启动AHOP Worker","time":"2025-07-25 06:18:43","version":"1.0.0","worker_name":"AHOP Worker on development"}
{"level":"info","msg":"使用配置的worker_id","time":"2025-07-25 06:18:43","worker_id":"test-worker-001"}
{"level":"info","master_url":"http://localhost:8080","msg":"Worker认证成功，获得数据库和Redis凭据","time":"2025-07-25 06:18:43","worker_id":"test-worker-001"}
{"executors":2,"level":"info","msg":"已注册任务执行器","time":"2025-07-25 06:18:43"}
{"concurrency":2,"level":"info","msg":"Worker启动成功","time":"2025-07-25 06:18:43","worker_id":"test-worker-001"}
{"level":"info","msg":"Worker启动成功，正在等待任务...","time":"2025-07-25 06:18:43"}
{"consumer_id":0,"level":"info","msg":"任务消费者启动","time":"2025-07-25 06:18:43","worker_id":"test-worker-001"}
{"level":"info","msg":"Git扫描队列消费者已启动","time":"2025-07-25 06:18:43"}
{"consumer_id":1,"level":"info","msg":"任务消费者启动","time":"2025-07-25 06:18:43","worker_id":"test-worker-001"}
{"level":"info","msg":"Git同步订阅服务已启动","time":"2025-07-25 06:18:43"}
{"action":"scan","level":"info","msg":"收到Git扫描任务","repository_id":69,"task_id":"scan_1_69_1753395466","tenant_id":1,"time":"2025-07-25 06:18:43"}
{"level":"info","msg":"扫描完成，结果已存入Redis","task_id":"scan_1_69_1753395466","template_count":2,"time":"2025-07-25 06:18:43"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-25 06:20:43"}
{"action":"scan","level":"info","msg":"收到Git扫描任务","repository_id":69,"task_id":"scan_1_69_1753395657","tenant_id":1,"time":"2025-07-25 06:20:57"}
{"level":"info","msg":"扫描完成，结果已存入Redis","task_id":"scan_1_69_1753395657","template_count":2,"time":"2025-07-25 06:20:57"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-25 06:22:43"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-25 06:24:43"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-25 06:26:43"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-25 06:28:43"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-25 06:30:43"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-25 06:32:43"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-25 06:34:43"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-25 06:36:43"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-25 06:38:43"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-25 06:40:43"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-25 06:42:43"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-25 06:44:43"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-25 06:46:43"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-25 06:48:43"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-25 06:50:43"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-25 06:52:43"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-25 06:54:43"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-25 06:56:43"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-25 06:58:43"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-25 07:00:43"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-25 07:02:43"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-25 07:04:43"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-25 07:06:43"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-25 07:08:43"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-25 07:10:43"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-25 07:12:43"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-25 07:14:43"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-25 07:16:43"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-25 07:18:43"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-25 07:20:43"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-25 07:22:43"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-25 07:24:43"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-25 07:26:43"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-25 07:28:43"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-25 07:30:43"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-25 07:32:43"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-25 07:34:43"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-25 07:36:43"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-25 07:38:43"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-25 07:40:43"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-25 07:42:43"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-25 07:44:43"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-25 07:46:43"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-25 07:48:43"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-25 07:50:43"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-25 07:52:43"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-25 07:54:43"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-25 07:56:43"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-25 07:58:43"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-25 08:00:43"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-25 08:02:43"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-25 08:04:43"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-25 08:06:43"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-25 08:08:43"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-25 08:10:43"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-25 08:12:43"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-25 08:14:43"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-25 08:16:43"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-25 08:18:43"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-25 08:20:43"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-25 08:22:43"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-25 08:24:43"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-25 08:26:43"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-25 08:28:43"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-25 08:30:43"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-25 08:32:43"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-25 08:34:43"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-25 08:36:43"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-25 08:38:43"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-25 08:40:43"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-25 08:42:43"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-25 08:44:43"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-25 08:46:43"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-25 08:48:43"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-25 08:50:43"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-25 08:52:43"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-25 08:54:43"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-25 08:56:43"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-25 08:58:43"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-25 09:00:43"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-25 09:02:43"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-25 09:04:43"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-25 09:06:43"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-25 09:08:43"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-25 09:10:43"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-25 09:12:43"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-25 09:14:43"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-25 09:16:43"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-25 09:18:43"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-25 09:20:43"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-25 09:22:43"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-25 09:24:43"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-25 09:26:43"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-25 09:28:43"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-25 09:30:43"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-25 09:32:43"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-25 09:34:43"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-25 09:36:43"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-25 09:38:43"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-25 09:40:43"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-25 09:42:43"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-25 09:44:43"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-25 09:46:43"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-25 09:48:43"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-25 09:50:43"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-25 09:52:43"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-25 09:54:43"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-25 09:56:43"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-25 09:58:43"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-25 10:00:43"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-25 10:02:43"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-25 10:04:43"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-25 10:06:43"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-25 10:08:43"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-25 10:10:43"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-25 10:12:43"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-25 10:14:43"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-25 10:16:43"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-25 10:18:43"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-25 10:20:43"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-25 10:22:43"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-25 10:24:43"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-25 10:26:43"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-25 10:28:43"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-25 10:30:43"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-25 10:32:43"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-25 10:34:43"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-25 10:36:43"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-25 10:38:43"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-25 10:40:43"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-25 10:42:43"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-25 10:44:43"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-25 10:46:43"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-25 10:48:43"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-25 10:50:43"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-25 10:52:43"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-25 10:54:43"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-25 10:56:43"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-25 10:58:43"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-25 11:00:43"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-25 11:02:43"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-25 11:04:43"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-25 11:06:43"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-25 11:08:43"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-25 11:10:43"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-25 11:12:43"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-25 11:14:43"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-25 11:16:43"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-25 11:18:43"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-25 11:20:43"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-25 11:22:43"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-25 11:24:43"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-25 11:26:43"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-25 11:28:43"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-25 11:30:43"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-25 11:32:43"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-25 11:34:43"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-25 11:36:43"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-25 11:38:43"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-25 11:40:43"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-25 11:42:43"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-25 11:44:43"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-25 11:46:43"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-25 11:48:43"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-25 11:50:43"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-25 11:52:43"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-25 11:54:43"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-25 11:56:43"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-25 11:58:43"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-25 12:00:43"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-25 12:02:43"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-25 12:04:43"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-25 12:06:43"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-25 12:08:43"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-25 12:10:43"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-25 12:12:43"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-25 12:14:43"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-25 12:16:43"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-25 12:18:43"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-25 12:20:43"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-25 12:22:43"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-25 12:24:43"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-25 12:26:43"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-25 12:28:43"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-25 12:30:43"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-25 12:32:43"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-25 12:34:43"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-25 12:36:43"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-25 12:38:43"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-25 12:40:43"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-25 12:42:43"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-25 12:44:43"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-25 12:46:43"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-25 12:48:43"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-25 12:50:43"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-25 12:52:43"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-25 12:54:43"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-25 12:56:43"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-25 12:58:43"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-25 13:00:43"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-25 13:02:43"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-25 13:04:43"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-25 13:06:43"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-25 13:08:43"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-25 13:10:43"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-25 13:12:43"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-25 13:14:43"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-25 13:16:43"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-25 13:18:43"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-25 13:20:43"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-25 13:22:43"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-25 13:24:43"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-25 13:26:43"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-25 13:28:43"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-25 13:30:43"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-25 13:32:43"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-25 13:34:43"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-25 13:36:43"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-25 13:38:43"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-25 13:40:43"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-25 13:42:43"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-25 13:44:43"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-25 13:46:43"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-25 13:48:43"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-25 13:50:43"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-25 13:52:43"}
{"level":"info","master_url":"http://localhost:8080","msg":"启动AHOP Worker","time":"2025-07-25 13:52:45","version":"1.0.0","worker_name":"AHOP Worker on development"}
{"level":"info","msg":"使用配置的worker_id","time":"2025-07-25 13:52:45","worker_id":"test-worker-001"}
{"error":"向Master认证失败: 认证失败: Worker ID 'test-worker-001' 已经被其他实例使用（IP: ::1） (HTTP 200, Code 409)","level":"fatal","msg":"创建Worker失败","time":"2025-07-25 13:52:45"}
{"level":"info","master_url":"http://localhost:8080","msg":"启动AHOP Worker","time":"2025-07-25 13:56:08","version":"1.0.0","worker_name":"AHOP Worker on development"}
{"level":"info","msg":"使用配置的worker_id","time":"2025-07-25 13:56:08","worker_id":"test-worker-001"}
{"level":"info","master_url":"http://localhost:8080","msg":"Worker认证成功，获得数据库和Redis凭据","time":"2025-07-25 13:56:08","worker_id":"test-worker-001"}
{"executors":2,"level":"info","msg":"已注册任务执行器","time":"2025-07-25 13:56:08"}
{"concurrency":2,"level":"info","msg":"Worker启动成功","time":"2025-07-25 13:56:08","worker_id":"test-worker-001"}
{"level":"info","msg":"Worker启动成功，正在等待任务...","time":"2025-07-25 13:56:08"}
{"level":"info","msg":"Git扫描队列消费者已启动","time":"2025-07-25 13:56:08"}
{"consumer_id":0,"level":"info","msg":"任务消费者启动","time":"2025-07-25 13:56:08","worker_id":"test-worker-001"}
{"level":"info","msg":"Git同步订阅服务已启动","time":"2025-07-25 13:56:08"}
{"consumer_id":1,"level":"info","msg":"任务消费者启动","time":"2025-07-25 13:56:08","worker_id":"test-worker-001"}
{"action":"scan","level":"info","msg":"收到Git扫描任务","repository_id":69,"task_id":"scan_1_69_1753422978","tenant_id":1,"time":"2025-07-25 13:56:18"}
{"level":"info","msg":"扫描完成，结果已存入Redis","task_id":"scan_1_69_1753422978","template_count":2,"time":"2025-07-25 13:56:18"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-25 13:58:08"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-25 14:00:08"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-25 14:02:08"}
{"level":"info","msg":"收到退出信号，正在停止Worker...","time":"2025-07-25 14:03:43"}
{"level":"info","msg":"开始停止Worker","time":"2025-07-25 14:03:43"}
{"level":"info","msg":"Git同步订阅服务收到退出信号","time":"2025-07-25 14:03:43"}
{"consumer_id":0,"level":"info","msg":"任务消费者收到退出信号","time":"2025-07-25 14:03:43","worker_id":"test-worker-001"}
{"consumer_id":1,"level":"info","msg":"任务消费者收到退出信号","time":"2025-07-25 14:03:43","worker_id":"test-worker-001"}
{"level":"info","msg":"所有任务已完成","time":"2025-07-25 14:03:43"}
{"level":"info","msg":"已通知Master断开连接","time":"2025-07-25 14:03:43"}
{"level":"info","msg":"Worker已停止","time":"2025-07-25 14:03:43"}
{"level":"info","msg":"Worker已优雅停止","time":"2025-07-25 14:03:43"}
{"level":"info","master_url":"http://localhost:8080","msg":"启动AHOP Worker","time":"2025-07-25 14:05:02","version":"1.0.0","worker_name":"AHOP Worker on development"}
{"level":"info","msg":"使用配置的worker_id","time":"2025-07-25 14:05:02","worker_id":"test-worker-001"}
{"level":"info","master_url":"http://localhost:8080","msg":"Worker认证成功，获得数据库和Redis凭据","time":"2025-07-25 14:05:02","worker_id":"test-worker-001"}
{"executors":2,"level":"info","msg":"已注册任务执行器","time":"2025-07-25 14:05:02"}
{"concurrency":2,"level":"info","msg":"Worker启动成功","time":"2025-07-25 14:05:02","worker_id":"test-worker-001"}
{"level":"info","msg":"Worker启动成功，正在等待任务...","time":"2025-07-25 14:05:02"}
{"consumer_id":0,"level":"info","msg":"任务消费者启动","time":"2025-07-25 14:05:02","worker_id":"test-worker-001"}
{"level":"info","msg":"Git扫描队列消费者已启动","time":"2025-07-25 14:05:02"}
{"consumer_id":1,"level":"info","msg":"任务消费者启动","time":"2025-07-25 14:05:02","worker_id":"test-worker-001"}
{"action":"scan","level":"info","msg":"收到Git扫描任务","repository_id":69,"task_id":"scan_1_69_1753423435","tenant_id":1,"time":"2025-07-25 14:05:02"}
{"level":"info","msg":"Git同步订阅服务已启动","time":"2025-07-25 14:05:02"}
{"level":"info","msg":"扫描完成，结果已存入Redis","task_id":"scan_1_69_1753423435","template_count":2,"time":"2025-07-25 14:05:02"}
{"level":"info","master_url":"http://localhost:8080","msg":"启动AHOP Worker","time":"2025-07-25 14:07:04","version":"1.0.0","worker_name":"AHOP Worker on development"}
{"level":"info","msg":"使用配置的worker_id","time":"2025-07-25 14:07:04","worker_id":"test-worker-001"}
{"level":"info","master_url":"http://localhost:8080","msg":"Worker认证成功，获得数据库和Redis凭据","time":"2025-07-25 14:07:04","worker_id":"test-worker-001"}
{"executors":2,"level":"info","msg":"已注册任务执行器","time":"2025-07-25 14:07:04"}
{"concurrency":2,"level":"info","msg":"Worker启动成功","time":"2025-07-25 14:07:04","worker_id":"test-worker-001"}
{"level":"info","msg":"Worker启动成功，正在等待任务...","time":"2025-07-25 14:07:04"}
{"level":"info","msg":"Git扫描队列消费者已启动","time":"2025-07-25 14:07:04"}
{"consumer_id":1,"level":"info","msg":"任务消费者启动","time":"2025-07-25 14:07:04","worker_id":"test-worker-001"}
{"consumer_id":0,"level":"info","msg":"任务消费者启动","time":"2025-07-25 14:07:04","worker_id":"test-worker-001"}
{"action":"scan","level":"info","msg":"收到Git扫描任务","repository_id":69,"task_id":"scan_1_69_1753423523","tenant_id":1,"time":"2025-07-25 14:07:04"}
{"level":"info","msg":"Git同步订阅服务已启动","time":"2025-07-25 14:07:04"}
{"level":"info","msg":"扫描完成，结果已存入Redis","task_id":"scan_1_69_1753423523","template_count":2,"time":"2025-07-25 14:07:04"}
{"action":"scan","level":"info","msg":"收到Git扫描任务","repository_id":69,"task_id":"scan_1_69_1753423639","tenant_id":1,"time":"2025-07-25 14:07:19"}
{"level":"info","msg":"扫描完成，结果已存入Redis","task_id":"scan_1_69_1753423639","template_count":2,"time":"2025-07-25 14:07:19"}
{"action":"scan","level":"info","msg":"收到Git扫描任务","repository_id":69,"task_id":"scan_1_69_1753423656","tenant_id":1,"time":"2025-07-25 14:07:36"}
{"level":"info","msg":"扫描完成，结果已存入Redis","task_id":"scan_1_69_1753423656","template_count":2,"time":"2025-07-25 14:07:36"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-25 14:09:04"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-25 14:11:04"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-25 14:13:04"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-25 14:15:04"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-25 14:17:04"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-25 14:19:04"}
{"level":"info","master_url":"http://localhost:8080","msg":"启动AHOP Worker","time":"2025-07-25 14:19:43","version":"1.0.0","worker_name":"AHOP Worker on development"}
{"level":"info","msg":"使用配置的worker_id","time":"2025-07-25 14:19:43","worker_id":"test-worker-001"}
{"error":"向Master认证失败: 认证失败: Worker ID 'test-worker-001' 已经被其他实例使用（IP: ::1） (HTTP 200, Code 409)","level":"fatal","msg":"创建Worker失败","time":"2025-07-25 14:19:43"}
{"level":"info","master_url":"http://localhost:8080","msg":"启动AHOP Worker","time":"2025-07-25 14:19:55","version":"1.0.0","worker_name":"AHOP Worker on development"}
{"level":"info","msg":"使用配置的worker_id","time":"2025-07-25 14:19:55","worker_id":"test-worker-001"}
{"error":"向Master认证失败: 认证失败: Worker ID 'test-worker-001' 已经被其他实例使用（IP: ::1） (HTTP 200, Code 409)","level":"fatal","msg":"创建Worker失败","time":"2025-07-25 14:19:55"}
{"level":"info","master_url":"http://localhost:8080","msg":"启动AHOP Worker","time":"2025-07-25 14:20:54","version":"1.0.0","worker_name":"AHOP Worker on development"}
{"level":"info","msg":"使用配置的worker_id","time":"2025-07-25 14:20:54","worker_id":"test-worker-001"}
{"level":"info","master_url":"http://localhost:8080","msg":"Worker认证成功，获得数据库和Redis凭据","time":"2025-07-25 14:20:54","worker_id":"test-worker-001"}
{"executors":2,"level":"info","msg":"已注册任务执行器","time":"2025-07-25 14:20:54"}
{"concurrency":2,"level":"info","msg":"Worker启动成功","time":"2025-07-25 14:20:54","worker_id":"test-worker-001"}
{"level":"info","msg":"Worker启动成功，正在等待任务...","time":"2025-07-25 14:20:54"}
{"level":"info","msg":"Git扫描队列消费者已启动","time":"2025-07-25 14:20:54"}
{"consumer_id":0,"level":"info","msg":"任务消费者启动","time":"2025-07-25 14:20:54","worker_id":"test-worker-001"}
{"consumer_id":1,"level":"info","msg":"任务消费者启动","time":"2025-07-25 14:20:54","worker_id":"test-worker-001"}
{"level":"info","msg":"Git同步订阅服务已启动","time":"2025-07-25 14:20:54"}
{"action":"scan","level":"info","msg":"收到Git扫描任务","repository_id":69,"task_id":"scan_1_69_1753424460","tenant_id":1,"time":"2025-07-25 14:21:00"}
{"level":"info","msg":"扫描完成，结果已存入Redis","task_id":"scan_1_69_1753424460","template_count":2,"time":"2025-07-25 14:21:00"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-25 14:22:54"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-25 14:24:54"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-25 14:26:54"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-25 14:28:54"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-25 14:30:54"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-25 14:32:54"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-25 14:34:54"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-25 14:36:54"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-25 14:38:54"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-25 14:40:54"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-25 14:42:54"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-25 14:44:54"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-25 14:46:54"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-25 14:48:54"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-25 14:50:54"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-25 14:52:54"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-25 14:54:54"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-25 14:56:54"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-25 14:58:54"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-25 15:00:54"}
{"level":"info","msg":"收到退出信号，正在停止Worker...","time":"2025-07-25 15:02:49"}
{"level":"info","msg":"开始停止Worker","time":"2025-07-25 15:02:49"}
{"level":"info","msg":"Git同步订阅服务收到退出信号","time":"2025-07-25 15:02:49"}
{"consumer_id":0,"level":"info","msg":"任务消费者收到退出信号","time":"2025-07-25 15:02:50","worker_id":"test-worker-001"}
{"consumer_id":1,"level":"info","msg":"任务消费者收到退出信号","time":"2025-07-25 15:02:50","worker_id":"test-worker-001"}
{"level":"info","msg":"所有任务已完成","time":"2025-07-25 15:02:50"}
{"level":"info","msg":"已通知Master断开连接","time":"2025-07-25 15:02:50"}
{"level":"info","msg":"Worker已停止","time":"2025-07-25 15:02:50"}
{"level":"info","msg":"Worker已优雅停止","time":"2025-07-25 15:02:50"}
{"level":"info","master_url":"http://localhost:8080","msg":"启动AHOP Worker","time":"2025-07-25 15:04:10","version":"1.0.0","worker_name":"AHOP Worker on development"}
{"level":"info","msg":"使用配置的worker_id","time":"2025-07-25 15:04:10","worker_id":"test-worker-001"}
{"level":"info","master_url":"http://localhost:8080","msg":"Worker认证成功，获得数据库和Redis凭据","time":"2025-07-25 15:04:10","worker_id":"test-worker-001"}
{"executors":2,"level":"info","msg":"已注册任务执行器","time":"2025-07-25 15:04:10"}
{"concurrency":2,"level":"info","msg":"Worker启动成功","time":"2025-07-25 15:04:10","worker_id":"test-worker-001"}
{"level":"info","msg":"Worker启动成功，正在等待任务...","time":"2025-07-25 15:04:10"}
{"consumer_id":1,"level":"info","msg":"任务消费者启动","time":"2025-07-25 15:04:10","worker_id":"test-worker-001"}
{"level":"info","msg":"Git扫描队列消费者已启动","time":"2025-07-25 15:04:10"}
{"consumer_id":0,"level":"info","msg":"任务消费者启动","time":"2025-07-25 15:04:10","worker_id":"test-worker-001"}
{"level":"info","msg":"Git同步订阅服务已启动","time":"2025-07-25 15:04:10"}
{"action":"scan","level":"info","msg":"收到Git扫描任务","repository_id":69,"task_id":"scan_1_69_1753426984","tenant_id":1,"time":"2025-07-25 15:04:10"}
{"level":"info","msg":"扫描完成，结果已存入Redis","task_id":"scan_1_69_1753426984","template_count":2,"time":"2025-07-25 15:04:10"}
{"level":"info","master_url":"http://localhost:8080","msg":"启动AHOP Worker","time":"2025-07-25 15:05:33","version":"1.0.0","worker_name":"AHOP Worker on development"}
{"level":"info","msg":"使用配置的worker_id","time":"2025-07-25 15:05:33","worker_id":"test-worker-001"}
{"level":"info","master_url":"http://localhost:8080","msg":"Worker认证成功，获得数据库和Redis凭据","time":"2025-07-25 15:05:33","worker_id":"test-worker-001"}
{"executors":2,"level":"info","msg":"已注册任务执行器","time":"2025-07-25 15:05:33"}
{"concurrency":2,"level":"info","msg":"Worker启动成功","time":"2025-07-25 15:05:33","worker_id":"test-worker-001"}
{"level":"info","msg":"Git扫描队列消费者已启动","time":"2025-07-25 15:05:33"}
{"consumer_id":1,"level":"info","msg":"任务消费者启动","time":"2025-07-25 15:05:33","worker_id":"test-worker-001"}
{"level":"info","msg":"Worker启动成功，正在等待任务...","time":"2025-07-25 15:05:33"}
{"consumer_id":0,"level":"info","msg":"任务消费者启动","time":"2025-07-25 15:05:33","worker_id":"test-worker-001"}
{"level":"info","msg":"Git同步订阅服务已启动","time":"2025-07-25 15:05:33"}
{"action":"scan","level":"info","msg":"收到Git扫描任务","repository_id":69,"task_id":"scan_1_69_1753427146","tenant_id":1,"time":"2025-07-25 15:05:46"}
{"level":"info","msg":"扫描完成，结果已存入Redis","task_id":"scan_1_69_1753427146","template_count":2,"time":"2025-07-25 15:05:46"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-25 15:07:33"}
{"level":"debug","msg":"开始查找pending状态的同步日志","repository_id":70,"tenant_id":1,"time":"2025-07-25 15:07:33"}
{"count":0,"level":"debug","logs":[],"msg":"查询到的所有同步日志","time":"2025-07-25 15:07:33"}
{"level":"info","msg":"未找到属于本 Worker 的同步日志，创建新日志","time":"2025-07-25 15:07:33"}
{"level":"info","msg":"成功创建同步日志","sync_log_id":110,"time":"2025-07-25 15:07:33","worker_id":"test-worker-001"}
{"level":"info","msg":"开始处理Git同步任务","time":"2025-07-25 15:07:33"}
{"action":"sync","level":"info","msg":"仓库不存在，将克隆到: /data/ahop/repos/1/70","repository_id":70,"tenant_id":1,"time":"2025-07-25 15:07:33","worker_id":"test-worker-001"}
{"level":"debug","msg":"开始查找pending状态的同步日志","repository_id":70,"tenant_id":1,"time":"2025-07-25 15:07:35"}
{"count":1,"level":"debug","logs":[{"ID":110,"RepositoryID":70,"TenantID":1,"TaskID":"","TaskType":"scheduled","WorkerID":"test-worker-001","OperatorID":null,"StartedAt":"2025-07-25T15:07:33.568885+08:00","FinishedAt":null,"Duration":0,"Status":"pending","FromCommit":"","ToCommit":"","ErrorMessage":"","LocalPath":"","CommandOutput":"","CreatedAt":"2025-07-25T15:07:33.568885+08:00"}],"msg":"查询到的所有同步日志","time":"2025-07-25 15:07:35"}
{"level":"debug","msg":"找到pending状态的同步日志","sync_log_id":110,"time":"2025-07-25 15:07:35","worker_id":"test-worker-001"}
{"level":"info","msg":"开始处理Git同步任务","time":"2025-07-25 15:07:35"}
{"action":"sync","level":"info","msg":"仓库已存在，将拉取更新: /data/ahop/repos/1/70","repository_id":70,"tenant_id":1,"time":"2025-07-25 15:07:35","worker_id":"test-worker-001"}
{"level":"info","msg":"成功克隆仓库到: /data/ahop/repos/1/70","time":"2025-07-25 15:07:37"}
{"level":"debug","msg":"准备更新同步日志","sync_log_id":110,"time":"2025-07-25 15:07:37","update_data":{"duration":4345,"error_message":"","finished_at":"2025-07-25T15:07:37.905221434+08:00","local_path":"/data/ahop/repos/1/70","status":"success","to_commit":"dab5944a7bca8ae37d947dda02ac591afc1177d3","worker_id":"test-worker-001"}}
{"level":"info","msg":"成功更新同步日志","status":"success","sync_log_id":110,"time":"2025-07-25 15:07:37"}
{"level":"info","msg":"Git仓库同步成功，耗时: 4.345068866s","time":"2025-07-25 15:07:37"}
{"level":"info","msg":"成功更新仓库","time":"2025-07-25 15:07:40"}
{"level":"debug","msg":"准备更新同步日志","sync_log_id":110,"time":"2025-07-25 15:07:40","update_data":{"duration":4451,"error_message":"","finished_at":"2025-07-25T15:07:40.100571076+08:00","from_commit":"HEAD","local_path":"/data/ahop/repos/1/70","status":"success","to_commit":"dab5944a7bca8ae37d947dda02ac591afc1177d3","worker_id":"test-worker-001"}}
{"level":"info","msg":"成功更新同步日志","status":"success","sync_log_id":110,"time":"2025-07-25 15:07:40"}
{"level":"info","msg":"Git仓库同步成功，耗时: 4.451209652s","time":"2025-07-25 15:07:40"}
{"level":"debug","msg":"开始查找pending状态的同步日志","repository_id":70,"tenant_id":1,"time":"2025-07-25 15:08:37"}
{"count":1,"level":"debug","logs":[{"ID":110,"RepositoryID":70,"TenantID":1,"TaskID":"","TaskType":"scheduled","WorkerID":"test-worker-001","OperatorID":null,"StartedAt":"2025-07-25T15:07:33.568885+08:00","FinishedAt":"2025-07-25T15:07:40.100571+08:00","Duration":4451,"Status":"success","FromCommit":"HEAD","ToCommit":"dab5944a7bca8ae37d947dda02ac591afc1177d3","ErrorMessage":"","LocalPath":"/data/ahop/repos/1/70","CommandOutput":"","CreatedAt":"2025-07-25T15:07:33.568885+08:00"}],"msg":"查询到的所有同步日志","time":"2025-07-25 15:08:37"}
{"level":"info","msg":"未找到属于本 Worker 的同步日志，创建新日志","time":"2025-07-25 15:08:37"}
{"level":"info","msg":"成功创建同步日志","sync_log_id":111,"time":"2025-07-25 15:08:37","worker_id":"test-worker-001"}
{"level":"info","msg":"开始处理Git同步任务","time":"2025-07-25 15:08:37"}
{"action":"sync","level":"info","msg":"仓库已存在，将拉取更新: /data/ahop/repos/1/70","repository_id":70,"tenant_id":1,"time":"2025-07-25 15:08:37","worker_id":"test-worker-001"}
{"level":"info","msg":"成功更新仓库","time":"2025-07-25 15:08:39"}
{"level":"debug","msg":"准备更新同步日志","sync_log_id":111,"time":"2025-07-25 15:08:39","update_data":{"duration":2147,"error_message":"","finished_at":"2025-07-25T15:08:39.575392313+08:00","from_commit":"dab5944a7bca8ae37d947dda02ac591afc1177d3","local_path":"/data/ahop/repos/1/70","status":"success","to_commit":"dab5944a7bca8ae37d947dda02ac591afc1177d3","worker_id":"test-worker-001"}}
{"level":"info","msg":"成功更新同步日志","status":"success","sync_log_id":111,"time":"2025-07-25 15:08:39"}
{"level":"info","msg":"Git仓库同步成功，耗时: 2.147963734s","time":"2025-07-25 15:08:39"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-25 15:09:33"}
{"action":"scan","level":"info","msg":"收到Git扫描任务","repository_id":69,"task_id":"scan_1_69_1753427437","tenant_id":1,"time":"2025-07-25 15:10:37"}
{"error":"识别项目结构失败: lstat /data/ahop/repos/1/69: no such file or directory","level":"error","msg":"扫描仓库失败","time":"2025-07-25 15:10:37"}
{"level":"debug","msg":"开始查找pending状态的同步日志","repository_id":69,"tenant_id":1,"time":"2025-07-25 15:10:47"}
{"count":1,"level":"debug","logs":[{"ID":109,"RepositoryID":69,"TenantID":1,"TaskID":"","TaskType":"scheduled","WorkerID":"test-worker-001","OperatorID":null,"StartedAt":"2025-07-25T02:48:40.605712+08:00","FinishedAt":"2025-07-25T02:48:41.340434+08:00","Duration":738,"Status":"success","FromCommit":"","ToCommit":"5fd8da2b06e986a794aae267d77c1979a9e5750f","ErrorMessage":"","LocalPath":"/data/ahop/repos/1/69","CommandOutput":"","CreatedAt":"2025-07-25T02:48:40.605712+08:00"}],"msg":"查询到的所有同步日志","time":"2025-07-25 15:10:47"}
{"level":"info","msg":"未找到属于本 Worker 的同步日志，创建新日志","time":"2025-07-25 15:10:47"}
{"level":"info","msg":"成功创建同步日志","sync_log_id":112,"time":"2025-07-25 15:10:47","worker_id":"test-worker-001"}
{"level":"info","msg":"开始处理Git同步任务","time":"2025-07-25 15:10:47"}
{"action":"sync","level":"info","msg":"仓库不存在，将克隆到: /data/ahop/repos/1/69","repository_id":69,"tenant_id":1,"time":"2025-07-25 15:10:47","worker_id":"test-worker-001"}
{"level":"info","msg":"成功克隆仓库到: /data/ahop/repos/1/69","time":"2025-07-25 15:10:48"}
{"level":"debug","msg":"准备更新同步日志","sync_log_id":112,"time":"2025-07-25 15:10:48","update_data":{"duration":547,"error_message":"","finished_at":"2025-07-25T15:10:48.13588807+08:00","local_path":"/data/ahop/repos/1/69","status":"success","to_commit":"5fd8da2b06e986a794aae267d77c1979a9e5750f","worker_id":"test-worker-001"}}
{"level":"info","msg":"成功更新同步日志","status":"success","sync_log_id":112,"time":"2025-07-25 15:10:48"}
{"level":"info","msg":"Git仓库同步成功，耗时: 547.269146ms","time":"2025-07-25 15:10:48"}
{"action":"scan","level":"info","msg":"收到Git扫描任务","repository_id":69,"task_id":"scan_1_69_1753427462","tenant_id":1,"time":"2025-07-25 15:11:02"}
{"level":"info","msg":"扫描完成，结果已存入Redis","task_id":"scan_1_69_1753427462","template_count":2,"time":"2025-07-25 15:11:02"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-25 15:11:33"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-25 15:13:33"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-25 15:15:33"}
{"level":"info","msg":"收到退出信号，正在停止Worker...","time":"2025-07-25 15:16:53"}
{"level":"info","msg":"开始停止Worker","time":"2025-07-25 15:16:53"}
{"level":"info","msg":"Git同步订阅服务收到退出信号","time":"2025-07-25 15:16:53"}
{"consumer_id":1,"level":"info","msg":"任务消费者收到退出信号","time":"2025-07-25 15:17:00","worker_id":"test-worker-001"}
{"consumer_id":0,"level":"info","msg":"任务消费者收到退出信号","time":"2025-07-25 15:17:00","worker_id":"test-worker-001"}
{"level":"info","msg":"所有任务已完成","time":"2025-07-25 15:17:00"}
{"level":"info","msg":"已通知Master断开连接","time":"2025-07-25 15:17:00"}
{"level":"info","msg":"Worker已停止","time":"2025-07-25 15:17:00"}
{"level":"info","msg":"Worker已优雅停止","time":"2025-07-25 15:17:00"}
{"level":"info","master_url":"http://localhost:8080","msg":"启动AHOP Worker","time":"2025-07-25 15:19:48","version":"1.0.0","worker_name":"AHOP Worker on development"}
{"level":"info","msg":"使用配置的worker_id","time":"2025-07-25 15:19:48","worker_id":"test-worker-001"}
{"level":"info","master_url":"http://localhost:8080","msg":"Worker认证成功，获得数据库和Redis凭据","time":"2025-07-25 15:19:48","worker_id":"test-worker-001"}
{"executors":2,"level":"info","msg":"已注册任务执行器","time":"2025-07-25 15:19:48"}
{"concurrency":2,"level":"info","msg":"Worker启动成功","time":"2025-07-25 15:19:48","worker_id":"test-worker-001"}
{"level":"info","msg":"Worker启动成功，正在等待任务...","time":"2025-07-25 15:19:48"}
{"consumer_id":1,"level":"info","msg":"任务消费者启动","time":"2025-07-25 15:19:48","worker_id":"test-worker-001"}
{"consumer_id":0,"level":"info","msg":"任务消费者启动","time":"2025-07-25 15:19:48","worker_id":"test-worker-001"}
{"level":"info","msg":"Git扫描队列消费者已启动","time":"2025-07-25 15:19:48"}
{"level":"info","msg":"Git同步订阅服务已启动","time":"2025-07-25 15:19:48"}
{"action":"scan","level":"info","msg":"收到Git扫描任务","repository_id":69,"task_id":"scan_1_69_1753427825","tenant_id":1,"time":"2025-07-25 15:19:48"}
{"level":"info","msg":"扫描完成，结果已存入Redis","task_id":"scan_1_69_1753427825","template_count":2,"time":"2025-07-25 15:19:48"}
{"action":"scan","level":"info","msg":"收到Git扫描任务","repository_id":69,"task_id":"scan_1_69_1753428001","tenant_id":1,"time":"2025-07-25 15:20:01"}
{"level":"info","msg":"扫描完成，结果已存入Redis","task_id":"scan_1_69_1753428001","template_count":2,"time":"2025-07-25 15:20:01"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-25 15:21:48"}
{"level":"info","msg":"收到退出信号，正在停止Worker...","time":"2025-07-25 15:23:35"}
{"level":"info","msg":"开始停止Worker","time":"2025-07-25 15:23:35"}
{"level":"info","msg":"Git同步订阅服务收到退出信号","time":"2025-07-25 15:23:35"}
{"consumer_id":1,"level":"info","msg":"任务消费者收到退出信号","time":"2025-07-25 15:23:41","worker_id":"test-worker-001"}
{"consumer_id":0,"level":"info","msg":"任务消费者收到退出信号","time":"2025-07-25 15:23:41","worker_id":"test-worker-001"}
{"level":"info","msg":"所有任务已完成","time":"2025-07-25 15:23:41"}
{"level":"info","msg":"已通知Master断开连接","time":"2025-07-25 15:23:41"}
{"level":"info","msg":"Worker已停止","time":"2025-07-25 15:23:41"}
{"level":"info","msg":"Worker已优雅停止","time":"2025-07-25 15:23:41"}
{"level":"info","master_url":"http://localhost:8080","msg":"启动AHOP Worker","time":"2025-07-25 15:24:58","version":"1.0.0","worker_name":"AHOP Worker on development"}
{"level":"info","msg":"使用配置的worker_id","time":"2025-07-25 15:24:58","worker_id":"test-worker-001"}
{"level":"info","master_url":"http://localhost:8080","msg":"Worker认证成功，获得数据库和Redis凭据","time":"2025-07-25 15:24:58","worker_id":"test-worker-001"}
{"executors":2,"level":"info","msg":"已注册任务执行器","time":"2025-07-25 15:24:58"}
{"concurrency":2,"level":"info","msg":"Worker启动成功","time":"2025-07-25 15:24:58","worker_id":"test-worker-001"}
{"level":"info","msg":"Worker启动成功，正在等待任务...","time":"2025-07-25 15:24:58"}
{"level":"info","msg":"Git扫描队列消费者已启动","time":"2025-07-25 15:24:58"}
{"consumer_id":1,"level":"info","msg":"任务消费者启动","time":"2025-07-25 15:24:58","worker_id":"test-worker-001"}
{"action":"scan","level":"info","msg":"收到Git扫描任务","repository_id":69,"task_id":"scan_1_69_1753428228","tenant_id":1,"time":"2025-07-25 15:24:58"}
{"consumer_id":0,"level":"info","msg":"任务消费者启动","time":"2025-07-25 15:24:58","worker_id":"test-worker-001"}
{"level":"info","msg":"Git同步订阅服务已启动","time":"2025-07-25 15:24:58"}
{"level":"info","msg":"扫描完成，结果已存入Redis","task_id":"scan_1_69_1753428228","template_count":2,"time":"2025-07-25 15:24:58"}
{"action":"scan","level":"info","msg":"收到Git扫描任务","repository_id":69,"task_id":"scan_1_69_1753428313","tenant_id":1,"time":"2025-07-25 15:25:13"}
{"level":"info","msg":"扫描完成，结果已存入Redis","task_id":"scan_1_69_1753428313","template_count":2,"time":"2025-07-25 15:25:13"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-25 15:26:58"}
{"level":"info","msg":"收到退出信号，正在停止Worker...","time":"2025-07-25 15:27:10"}
{"level":"info","msg":"开始停止Worker","time":"2025-07-25 15:27:10"}
{"level":"info","msg":"Git同步订阅服务收到退出信号","time":"2025-07-25 15:27:10"}
{"consumer_id":1,"level":"info","msg":"任务消费者收到退出信号","time":"2025-07-25 15:27:20","worker_id":"test-worker-001"}
{"consumer_id":0,"level":"info","msg":"任务消费者收到退出信号","time":"2025-07-25 15:27:20","worker_id":"test-worker-001"}
{"level":"info","msg":"所有任务已完成","time":"2025-07-25 15:27:20"}
{"level":"info","msg":"已通知Master断开连接","time":"2025-07-25 15:27:20"}
{"level":"info","msg":"Worker已停止","time":"2025-07-25 15:27:20"}
{"level":"info","msg":"Worker已优雅停止","time":"2025-07-25 15:27:20"}
{"level":"info","master_url":"http://localhost:8080","msg":"启动AHOP Worker","time":"2025-07-25 15:28:26","version":"1.0.0","worker_name":"AHOP Worker on development"}
{"level":"info","msg":"使用配置的worker_id","time":"2025-07-25 15:28:26","worker_id":"test-worker-001"}
{"level":"info","master_url":"http://localhost:8080","msg":"Worker认证成功，获得数据库和Redis凭据","time":"2025-07-25 15:28:26","worker_id":"test-worker-001"}
{"executors":2,"level":"info","msg":"已注册任务执行器","time":"2025-07-25 15:28:26"}
{"concurrency":2,"level":"info","msg":"Worker启动成功","time":"2025-07-25 15:28:26","worker_id":"test-worker-001"}
{"consumer_id":0,"level":"info","msg":"任务消费者启动","time":"2025-07-25 15:28:26","worker_id":"test-worker-001"}
{"consumer_id":1,"level":"info","msg":"任务消费者启动","time":"2025-07-25 15:28:26","worker_id":"test-worker-001"}
{"level":"info","msg":"Git扫描队列消费者已启动","time":"2025-07-25 15:28:26"}
{"level":"info","msg":"Worker启动成功，正在等待任务...","time":"2025-07-25 15:28:26"}
{"level":"info","msg":"Git同步订阅服务已启动","time":"2025-07-25 15:28:26"}
{"action":"scan","level":"info","msg":"收到Git扫描任务","repository_id":69,"task_id":"scan_1_69_1753428447","tenant_id":1,"time":"2025-07-25 15:28:26"}
{"level":"info","msg":"扫描完成，结果已存入Redis","task_id":"scan_1_69_1753428447","template_count":2,"time":"2025-07-25 15:28:26"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-25 15:30:26"}
{"action":"scan","level":"info","msg":"收到Git扫描任务","repository_id":69,"task_id":"scan_1_69_1753428638","tenant_id":1,"time":"2025-07-25 15:30:38"}
{"level":"info","msg":"扫描完成，结果已存入Redis","task_id":"scan_1_69_1753428638","template_count":2,"time":"2025-07-25 15:30:38"}
{"level":"info","master_url":"http://localhost:8080","msg":"启动AHOP Worker","time":"2025-07-25 15:31:59","version":"1.0.0","worker_name":"AHOP Worker on development"}
{"level":"info","msg":"使用配置的worker_id","time":"2025-07-25 15:31:59","worker_id":"test-worker-001"}
{"error":"向Master认证失败: 认证失败: Worker ID 'test-worker-001' 已经被其他实例使用（IP: ::1） (HTTP 200, Code 409)","level":"fatal","msg":"创建Worker失败","time":"2025-07-25 15:31:59"}
{"level":"info","master_url":"http://localhost:8080","msg":"启动AHOP Worker","time":"2025-07-25 15:54:03","version":"1.0.0","worker_name":"AHOP Worker on development"}
{"level":"info","msg":"使用配置的worker_id","time":"2025-07-25 15:54:03","worker_id":"test-worker-001"}
{"level":"info","master_url":"http://localhost:8080","msg":"Worker认证成功，获得数据库和Redis凭据","time":"2025-07-25 15:54:03","worker_id":"test-worker-001"}
{"executors":2,"level":"info","msg":"已注册任务执行器","time":"2025-07-25 15:54:03"}
{"concurrency":2,"level":"info","msg":"Worker启动成功","time":"2025-07-25 15:54:03","worker_id":"test-worker-001"}
{"level":"info","msg":"Worker启动成功，正在等待任务...","time":"2025-07-25 15:54:03"}
{"consumer_id":0,"level":"info","msg":"任务消费者启动","time":"2025-07-25 15:54:03","worker_id":"test-worker-001"}
{"consumer_id":1,"level":"info","msg":"任务消费者启动","time":"2025-07-25 15:54:03","worker_id":"test-worker-001"}
{"level":"info","msg":"Git扫描队列消费者已启动","time":"2025-07-25 15:54:03"}
{"level":"info","msg":"Git同步订阅服务已启动","time":"2025-07-25 15:54:03"}
{"action":"scan","level":"info","msg":"收到Git扫描任务","repository_id":69,"task_id":"scan_1_69_1753430046","tenant_id":1,"time":"2025-07-25 15:54:06"}
{"level":"info","msg":"扫描完成，结果已存入Redis","task_id":"scan_1_69_1753430046","template_count":2,"time":"2025-07-25 15:54:06"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-25 15:56:03"}
{"level":"info","msg":"收到退出信号，正在停止Worker...","time":"2025-07-25 15:57:40"}
{"level":"info","msg":"开始停止Worker","time":"2025-07-25 15:57:40"}
{"level":"info","msg":"Git同步订阅服务收到退出信号","time":"2025-07-25 15:57:40"}
{"consumer_id":0,"level":"info","msg":"任务消费者收到退出信号","time":"2025-07-25 15:57:45","worker_id":"test-worker-001"}
{"consumer_id":1,"level":"info","msg":"任务消费者收到退出信号","time":"2025-07-25 15:57:45","worker_id":"test-worker-001"}
{"level":"info","msg":"所有任务已完成","time":"2025-07-25 15:57:45"}
{"level":"info","msg":"已通知Master断开连接","time":"2025-07-25 15:57:45"}
{"level":"info","msg":"Worker已停止","time":"2025-07-25 15:57:45"}
{"level":"info","msg":"Worker已优雅停止","time":"2025-07-25 15:57:45"}
{"level":"info","master_url":"http://localhost:8080","msg":"启动AHOP Worker","time":"2025-07-25 15:57:51","version":"1.0.0","worker_name":"AHOP Worker on development"}
{"level":"info","msg":"使用配置的worker_id","time":"2025-07-25 15:57:51","worker_id":"test-worker-001"}
{"level":"info","master_url":"http://localhost:8080","msg":"Worker认证成功，获得数据库和Redis凭据","time":"2025-07-25 15:57:51","worker_id":"test-worker-001"}
{"executors":2,"level":"info","msg":"已注册任务执行器","time":"2025-07-25 15:57:51"}
{"concurrency":2,"level":"info","msg":"Worker启动成功","time":"2025-07-25 15:57:51","worker_id":"test-worker-001"}
{"level":"info","msg":"Worker启动成功，正在等待任务...","time":"2025-07-25 15:57:51"}
{"consumer_id":0,"level":"info","msg":"任务消费者启动","time":"2025-07-25 15:57:51","worker_id":"test-worker-001"}
{"consumer_id":1,"level":"info","msg":"任务消费者启动","time":"2025-07-25 15:57:51","worker_id":"test-worker-001"}
{"level":"info","msg":"Git扫描队列消费者已启动","time":"2025-07-25 15:57:51"}
{"level":"info","msg":"Git同步订阅服务已启动","time":"2025-07-25 15:57:51"}
{"action":"scan","level":"info","msg":"收到Git扫描任务","repository_id":69,"task_id":"scan_1_69_1753430285","tenant_id":1,"time":"2025-07-25 15:58:05"}
{"level":"info","msg":"扫描完成，结果已存入Redis","task_id":"scan_1_69_1753430285","template_count":2,"time":"2025-07-25 15:58:05"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-25 15:59:51"}
{"level":"info","msg":"收到退出信号，正在停止Worker...","time":"2025-07-25 16:01:21"}
{"level":"info","msg":"开始停止Worker","time":"2025-07-25 16:01:21"}
{"level":"info","msg":"Git同步订阅服务收到退出信号","time":"2025-07-25 16:01:21"}
{"consumer_id":1,"level":"info","msg":"任务消费者收到退出信号","time":"2025-07-25 16:01:24","worker_id":"test-worker-001"}
{"consumer_id":0,"level":"info","msg":"任务消费者收到退出信号","time":"2025-07-25 16:01:24","worker_id":"test-worker-001"}
{"level":"info","msg":"所有任务已完成","time":"2025-07-25 16:01:24"}
{"level":"info","msg":"已通知Master断开连接","time":"2025-07-25 16:01:24"}
{"level":"info","msg":"Worker已停止","time":"2025-07-25 16:01:24"}
{"level":"info","msg":"Worker已优雅停止","time":"2025-07-25 16:01:24"}
{"level":"info","master_url":"http://localhost:8080","msg":"启动AHOP Worker","time":"2025-07-25 16:02:39","version":"1.0.0","worker_name":"AHOP Worker on development"}
{"level":"info","msg":"使用配置的worker_id","time":"2025-07-25 16:02:39","worker_id":"test-worker-001"}
{"level":"info","master_url":"http://localhost:8080","msg":"Worker认证成功，获得数据库和Redis凭据","time":"2025-07-25 16:02:39","worker_id":"test-worker-001"}
{"executors":2,"level":"info","msg":"已注册任务执行器","time":"2025-07-25 16:02:39"}
{"concurrency":2,"level":"info","msg":"Worker启动成功","time":"2025-07-25 16:02:39","worker_id":"test-worker-001"}
{"level":"info","msg":"Worker启动成功，正在等待任务...","time":"2025-07-25 16:02:39"}
{"level":"info","msg":"Git扫描队列消费者已启动","time":"2025-07-25 16:02:39"}
{"consumer_id":1,"level":"info","msg":"任务消费者启动","time":"2025-07-25 16:02:39","worker_id":"test-worker-001"}
{"action":"scan","level":"info","msg":"收到Git扫描任务","repository_id":69,"task_id":"scan_1_69_1753430496","tenant_id":1,"time":"2025-07-25 16:02:39"}
{"level":"info","msg":"Git同步订阅服务已启动","time":"2025-07-25 16:02:39"}
{"consumer_id":0,"level":"info","msg":"任务消费者启动","time":"2025-07-25 16:02:39","worker_id":"test-worker-001"}
{"level":"info","msg":"扫描完成，结果已存入Redis","task_id":"scan_1_69_1753430496","template_count":2,"time":"2025-07-25 16:02:39"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-25 16:04:39"}
{"action":"scan","level":"info","msg":"收到Git扫描任务","repository_id":69,"task_id":"scan_1_69_1753430694","tenant_id":1,"time":"2025-07-25 16:04:54"}
{"level":"info","msg":"扫描完成，结果已存入Redis","task_id":"scan_1_69_1753430694","template_count":2,"time":"2025-07-25 16:04:54"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-25 16:06:39"}
{"level":"info","msg":"收到退出信号，正在停止Worker...","time":"2025-07-25 16:07:36"}
{"level":"info","msg":"开始停止Worker","time":"2025-07-25 16:07:36"}
{"level":"info","msg":"Git同步订阅服务收到退出信号","time":"2025-07-25 16:07:36"}
{"level":"info","master_url":"http://localhost:8080","msg":"启动AHOP Worker","time":"2025-07-25 16:09:08","version":"1.0.0","worker_name":"AHOP Worker on development"}
{"level":"info","msg":"使用配置的worker_id","time":"2025-07-25 16:09:08","worker_id":"test-worker-001"}
{"level":"info","master_url":"http://localhost:8080","msg":"Worker认证成功，获得数据库和Redis凭据","time":"2025-07-25 16:09:08","worker_id":"test-worker-001"}
{"executors":2,"level":"info","msg":"已注册任务执行器","time":"2025-07-25 16:09:08"}
{"level":"info","msg":"Git扫描队列消费者已启动","time":"2025-07-25 16:09:08"}
{"concurrency":2,"level":"info","msg":"Worker启动成功","time":"2025-07-25 16:09:08","worker_id":"test-worker-001"}
{"level":"info","msg":"Worker启动成功，正在等待任务...","time":"2025-07-25 16:09:08"}
{"consumer_id":1,"level":"info","msg":"任务消费者启动","time":"2025-07-25 16:09:08","worker_id":"test-worker-001"}
{"consumer_id":0,"level":"info","msg":"任务消费者启动","time":"2025-07-25 16:09:08","worker_id":"test-worker-001"}
{"action":"scan","level":"info","msg":"收到Git扫描任务","repository_id":69,"task_id":"scan_1_69_1753430875","tenant_id":1,"time":"2025-07-25 16:09:08"}
{"level":"info","msg":"Git同步订阅服务已启动","time":"2025-07-25 16:09:08"}
{"level":"info","msg":"扫描完成，结果已存入Redis","task_id":"scan_1_69_1753430875","template_count":2,"time":"2025-07-25 16:09:08"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-25 16:11:08"}
{"action":"scan","level":"info","msg":"收到Git扫描任务","repository_id":69,"task_id":"scan_1_69_1753431081","tenant_id":1,"time":"2025-07-25 16:11:21"}
{"level":"info","msg":"扫描完成，结果已存入Redis","task_id":"scan_1_69_1753431081","template_count":2,"time":"2025-07-25 16:11:21"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-25 16:13:08"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-25 16:15:08"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-25 16:17:08"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-25 16:19:08"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-25 16:21:08"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-25 16:23:08"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-25 16:25:08"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-25 16:27:08"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-25 16:29:08"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-25 16:31:08"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-25 16:33:08"}
{"level":"info","msg":"收到退出信号，正在停止Worker...","time":"2025-07-25 16:33:48"}
{"level":"info","msg":"开始停止Worker","time":"2025-07-25 16:33:48"}
{"level":"info","master_url":"http://localhost:8080","msg":"启动AHOP Worker","time":"2025-07-25 16:34:59","version":"1.0.0","worker_name":"AHOP Worker on development"}
{"error":"worker_id未配置，请在配置文件中设置worker.worker_id","level":"fatal","msg":"创建Worker失败","time":"2025-07-25 16:34:59"}
{"level":"info","master_url":"http://localhost:8080","msg":"启动AHOP Worker","time":"2025-07-25 16:35:12","version":"1.0.0","worker_name":"AHOP Worker on development"}
{"error":"worker_id未配置，请在配置文件中设置worker.worker_id","level":"fatal","msg":"创建Worker失败","time":"2025-07-25 16:35:12"}
{"level":"info","master_url":"http://localhost:8080","msg":"启动AHOP Worker","time":"2025-07-25 16:36:21","version":"1.0.0","worker_name":"AHOP Worker on development"}
{"level":"info","msg":"使用配置的worker_id","time":"2025-07-25 16:36:21","worker_id":"test-worker-001"}
{"level":"info","master_url":"http://localhost:8080","msg":"Worker认证成功，获得数据库和Redis凭据","time":"2025-07-25 16:36:21","worker_id":"test-worker-001"}
{"executors":2,"level":"info","msg":"已注册任务执行器","time":"2025-07-25 16:36:22"}
{"concurrency":2,"level":"info","msg":"Worker启动成功","time":"2025-07-25 16:36:22","worker_id":"test-worker-001"}
{"level":"info","msg":"Worker启动成功，正在等待任务...","time":"2025-07-25 16:36:22"}
{"level":"info","msg":"Git扫描队列消费者已启动","time":"2025-07-25 16:36:22"}
{"consumer_id":1,"level":"info","msg":"任务消费者启动","time":"2025-07-25 16:36:22","worker_id":"test-worker-001"}
{"consumer_id":0,"level":"info","msg":"任务消费者启动","time":"2025-07-25 16:36:22","worker_id":"test-worker-001"}
{"level":"info","msg":"Git同步订阅服务已启动","time":"2025-07-25 16:36:22"}
{"action":"scan","level":"info","msg":"收到Git扫描任务","repository_id":69,"task_id":"scan_1_69_1753432659","tenant_id":1,"time":"2025-07-25 16:37:39"}
{"level":"info","msg":"扫描完成，结果已存入Redis","task_id":"scan_1_69_1753432659","template_count":2,"time":"2025-07-25 16:37:39"}
{"action":"scan","level":"info","msg":"收到Git扫描任务","repository_id":69,"task_id":"scan_1_69_1753432671","tenant_id":1,"time":"2025-07-25 16:37:51"}
{"level":"info","msg":"扫描完成，结果已存入Redis","task_id":"scan_1_69_1753432671","template_count":2,"time":"2025-07-25 16:37:51"}
{"level":"info","msg":"收到退出信号，正在停止Worker...","time":"2025-07-25 16:41:11"}
{"level":"info","msg":"开始停止Worker","time":"2025-07-25 16:41:11"}
{"level":"info","msg":"Git同步订阅服务收到退出信号","time":"2025-07-25 16:41:11"}
{"consumer_id":1,"level":"info","msg":"任务消费者收到退出信号","time":"2025-07-25 16:41:15","worker_id":"test-worker-001"}
{"consumer_id":0,"level":"info","msg":"任务消费者收到退出信号","time":"2025-07-25 16:41:15","worker_id":"test-worker-001"}
{"level":"info","msg":"所有任务已完成","time":"2025-07-25 16:41:15"}
{"level":"info","msg":"已通知Master断开连接","time":"2025-07-25 16:41:15"}
{"level":"info","msg":"Worker已停止","time":"2025-07-25 16:41:15"}
{"level":"info","msg":"Worker已优雅停止","time":"2025-07-25 16:41:15"}
{"level":"info","master_url":"http://localhost:8080","msg":"启动AHOP Worker","time":"2025-07-25 16:41:36","version":"1.0.0","worker_name":"AHOP Worker on development"}
{"level":"info","msg":"使用配置的worker_id","time":"2025-07-25 16:41:36","worker_id":"test-worker-001"}
{"level":"info","master_url":"http://localhost:8080","msg":"Worker认证成功，获得数据库和Redis凭据","time":"2025-07-25 16:41:36","worker_id":"test-worker-001"}
{"executors":2,"level":"info","msg":"已注册任务执行器","time":"2025-07-25 16:41:36"}
{"concurrency":2,"level":"info","msg":"Worker启动成功","time":"2025-07-25 16:41:36","worker_id":"test-worker-001"}
{"level":"info","msg":"Worker启动成功，正在等待任务...","time":"2025-07-25 16:41:36"}
{"consumer_id":0,"level":"info","msg":"任务消费者启动","time":"2025-07-25 16:41:36","worker_id":"test-worker-001"}
{"level":"info","msg":"Git扫描队列消费者已启动","time":"2025-07-25 16:41:36"}
{"consumer_id":1,"level":"info","msg":"任务消费者启动","time":"2025-07-25 16:41:36","worker_id":"test-worker-001"}
{"level":"info","msg":"Git同步订阅服务已启动","time":"2025-07-25 16:41:36"}
{"action":"scan","level":"info","msg":"收到Git扫描任务","repository_id":69,"task_id":"scan_1_69_1753432926","tenant_id":1,"time":"2025-07-25 16:42:06"}
{"level":"info","msg":"扫描完成，结果已存入Redis","task_id":"scan_1_69_1753432926","template_count":1,"time":"2025-07-25 16:42:06"}
{"action":"scan","level":"info","msg":"收到Git扫描任务","repository_id":69,"task_id":"scan_1_69_1753432954","tenant_id":1,"time":"2025-07-25 16:42:34"}
{"level":"info","msg":"扫描完成，结果已存入Redis","task_id":"scan_1_69_1753432954","template_count":1,"time":"2025-07-25 16:42:34"}
{"level":"info","msg":"收到退出信号，正在停止Worker...","time":"2025-07-25 16:45:37"}
{"level":"info","msg":"开始停止Worker","time":"2025-07-25 16:45:37"}
{"level":"info","msg":"Git同步订阅服务收到退出信号","time":"2025-07-25 16:45:37"}
{"consumer_id":0,"level":"info","msg":"任务消费者收到退出信号","time":"2025-07-25 16:45:39","worker_id":"test-worker-001"}
{"consumer_id":1,"level":"info","msg":"任务消费者收到退出信号","time":"2025-07-25 16:45:39","worker_id":"test-worker-001"}
{"level":"info","msg":"所有任务已完成","time":"2025-07-25 16:45:39"}
{"level":"info","msg":"已通知Master断开连接","time":"2025-07-25 16:45:39"}
{"level":"info","msg":"Worker已停止","time":"2025-07-25 16:45:39"}
{"level":"info","msg":"Worker已优雅停止","time":"2025-07-25 16:45:39"}
{"level":"info","master_url":"http://localhost:8080","msg":"启动AHOP Worker","time":"2025-07-25 16:46:02","version":"1.0.0","worker_name":"AHOP Worker on development"}
{"level":"info","msg":"使用配置的worker_id","time":"2025-07-25 16:46:02","worker_id":"test-worker-001"}
{"level":"info","master_url":"http://localhost:8080","msg":"Worker认证成功，获得数据库和Redis凭据","time":"2025-07-25 16:46:02","worker_id":"test-worker-001"}
{"executors":2,"level":"info","msg":"已注册任务执行器","time":"2025-07-25 16:46:02"}
{"concurrency":2,"level":"info","msg":"Worker启动成功","time":"2025-07-25 16:46:02","worker_id":"test-worker-001"}
{"level":"info","msg":"Worker启动成功，正在等待任务...","time":"2025-07-25 16:46:02"}
{"consumer_id":0,"level":"info","msg":"任务消费者启动","time":"2025-07-25 16:46:02","worker_id":"test-worker-001"}
{"consumer_id":1,"level":"info","msg":"任务消费者启动","time":"2025-07-25 16:46:02","worker_id":"test-worker-001"}
{"level":"info","msg":"Git扫描队列消费者已启动","time":"2025-07-25 16:46:02"}
{"level":"info","msg":"Git同步订阅服务已启动","time":"2025-07-25 16:46:02"}
{"action":"scan","level":"info","msg":"收到Git扫描任务","repository_id":69,"task_id":"scan_1_69_1753433183","tenant_id":1,"time":"2025-07-25 16:46:23"}
{"level":"info","msg":"扫描完成，结果已存入Redis","task_id":"scan_1_69_1753433183","template_count":2,"time":"2025-07-25 16:46:23"}
{"action":"scan","level":"info","msg":"收到Git扫描任务","repository_id":69,"task_id":"scan_1_69_1753433217","tenant_id":1,"time":"2025-07-25 16:46:57"}
{"level":"info","msg":"扫描完成，结果已存入Redis","task_id":"scan_1_69_1753433217","template_count":2,"time":"2025-07-25 16:46:57"}
{"level":"info","msg":"收到退出信号，正在停止Worker...","time":"2025-07-25 16:48:09"}
{"level":"info","msg":"开始停止Worker","time":"2025-07-25 16:48:09"}
{"level":"info","msg":"Git同步订阅服务收到退出信号","time":"2025-07-25 16:48:09"}
{"consumer_id":0,"level":"info","msg":"任务消费者收到退出信号","time":"2025-07-25 16:48:13","worker_id":"test-worker-001"}
{"consumer_id":1,"level":"info","msg":"任务消费者收到退出信号","time":"2025-07-25 16:48:13","worker_id":"test-worker-001"}
{"level":"info","msg":"所有任务已完成","time":"2025-07-25 16:48:13"}
{"level":"info","msg":"已通知Master断开连接","time":"2025-07-25 16:48:13"}
{"level":"info","msg":"Worker已停止","time":"2025-07-25 16:48:13"}
{"level":"info","msg":"Worker已优雅停止","time":"2025-07-25 16:48:13"}
{"level":"info","master_url":"http://localhost:8080","msg":"启动AHOP Worker","time":"2025-07-25 16:48:36","version":"1.0.0","worker_name":"AHOP Worker on development"}
{"level":"info","msg":"使用配置的worker_id","time":"2025-07-25 16:48:36","worker_id":"test-worker-001"}
{"level":"info","master_url":"http://localhost:8080","msg":"Worker认证成功，获得数据库和Redis凭据","time":"2025-07-25 16:48:36","worker_id":"test-worker-001"}
{"executors":2,"level":"info","msg":"已注册任务执行器","time":"2025-07-25 16:48:36"}
{"concurrency":2,"level":"info","msg":"Worker启动成功","time":"2025-07-25 16:48:36","worker_id":"test-worker-001"}
{"level":"info","msg":"Git扫描队列消费者已启动","time":"2025-07-25 16:48:36"}
{"level":"info","msg":"Worker启动成功，正在等待任务...","time":"2025-07-25 16:48:36"}
{"consumer_id":1,"level":"info","msg":"任务消费者启动","time":"2025-07-25 16:48:36","worker_id":"test-worker-001"}
{"level":"info","msg":"Git同步订阅服务已启动","time":"2025-07-25 16:48:36"}
{"consumer_id":0,"level":"info","msg":"任务消费者启动","time":"2025-07-25 16:48:36","worker_id":"test-worker-001"}
{"action":"scan","level":"info","msg":"收到Git扫描任务","repository_id":69,"task_id":"scan_1_69_1753433330","tenant_id":1,"time":"2025-07-25 16:48:50"}
{"level":"info","msg":"扫描完成，结果已存入Redis","task_id":"scan_1_69_1753433330","template_count":2,"time":"2025-07-25 16:48:50"}
{"action":"scan","level":"info","msg":"收到Git扫描任务","repository_id":69,"task_id":"scan_1_69_1753433727","tenant_id":1,"time":"2025-07-25 16:55:27"}
{"level":"info","msg":"扫描完成，结果已存入Redis","task_id":"scan_1_69_1753433727","template_count":2,"time":"2025-07-25 16:55:27"}
{"action":"scan","level":"info","msg":"收到Git扫描任务","repository_id":69,"task_id":"scan_1_69_1753434919","tenant_id":1,"time":"2025-07-25 17:15:19"}
{"level":"info","msg":"扫描完成，结果已存入Redis","task_id":"scan_1_69_1753434919","template_count":2,"time":"2025-07-25 17:15:19"}
{"action":"scan","level":"info","msg":"收到Git扫描任务","repository_id":69,"task_id":"scan_1_69_1753439194","tenant_id":1,"time":"2025-07-25 18:26:34"}
{"level":"info","msg":"扫描完成，结果已存入Redis","task_id":"scan_1_69_1753439194","template_count":2,"time":"2025-07-25 18:26:34"}
{"action":"scan","level":"info","msg":"收到Git扫描任务","repository_id":68,"task_id":"scan_1_68_1753439208","tenant_id":1,"time":"2025-07-25 18:26:48"}
{"error":"识别项目结构失败: lstat /data/ahop/repos/1/68: no such file or directory","level":"error","msg":"扫描仓库失败","time":"2025-07-25 18:26:48"}
{"level":"info","msg":"未找到属于本 Worker 的同步日志，创建新日志","time":"2025-07-25 18:28:25"}
{"level":"info","msg":"成功创建同步日志","sync_log_id":113,"time":"2025-07-25 18:28:25","worker_id":"test-worker-001"}
{"level":"info","msg":"开始处理Git同步任务","time":"2025-07-25 18:28:25"}
{"action":"sync","level":"info","msg":"仓库不存在，将克隆到: /data/ahop/repos/1/68","repository_id":68,"tenant_id":1,"time":"2025-07-25 18:28:25","worker_id":"test-worker-001"}
{"level":"info","msg":"成功克隆仓库到: /data/ahop/repos/1/68","time":"2025-07-25 18:28:34"}
{"level":"info","msg":"成功更新同步日志","status":"success","sync_log_id":113,"time":"2025-07-25 18:28:34"}
{"level":"info","msg":"Git仓库同步成功，耗时: 8.701416257s","time":"2025-07-25 18:28:34"}
{"action":"scan","level":"info","msg":"收到Git扫描任务","repository_id":68,"task_id":"scan_1_68_1753439346","tenant_id":1,"time":"2025-07-25 18:29:06"}
{"level":"info","msg":"扫描完成，结果已存入Redis","task_id":"scan_1_68_1753439346","template_count":1,"time":"2025-07-25 18:29:06"}
{"action":"scan","level":"info","msg":"收到Git扫描任务","repository_id":68,"task_id":"scan_1_68_1753439375","tenant_id":1,"time":"2025-07-25 18:29:35"}
{"level":"info","msg":"扫描完成，结果已存入Redis","task_id":"scan_1_68_1753439375","template_count":1,"time":"2025-07-25 18:29:35"}
{"action":"scan","level":"info","msg":"收到Git扫描任务","repository_id":68,"task_id":"scan_1_68_1753439472","tenant_id":1,"time":"2025-07-25 18:31:12"}
{"level":"info","msg":"扫描完成，结果已存入Redis","task_id":"scan_1_68_1753439472","template_count":1,"time":"2025-07-25 18:31:12"}
{"level":"info","msg":"未找到属于本 Worker 的同步日志，创建新日志","time":"2025-07-25 18:37:12"}
{"level":"info","msg":"成功创建同步日志","sync_log_id":114,"time":"2025-07-25 18:37:12","worker_id":"test-worker-001"}
{"level":"info","msg":"开始处理Git同步任务","time":"2025-07-25 18:37:12"}
{"action":"sync","level":"info","msg":"仓库不存在，将克隆到: /data/ahop/repos/1/71","repository_id":71,"tenant_id":1,"time":"2025-07-25 18:37:12","worker_id":"test-worker-001"}
{"level":"info","msg":"开始处理Git同步任务","time":"2025-07-25 18:37:14"}
{"action":"sync","level":"info","msg":"仓库已存在，将拉取更新: /data/ahop/repos/1/71","repository_id":71,"tenant_id":1,"time":"2025-07-25 18:37:14","worker_id":"test-worker-001"}
{"level":"info","msg":"成功克隆仓库到: /data/ahop/repos/1/71","time":"2025-07-25 18:37:16"}
{"level":"info","msg":"成功更新同步日志","status":"success","sync_log_id":114,"time":"2025-07-25 18:37:16"}
{"level":"info","msg":"Git仓库同步成功，耗时: 4.285477884s","time":"2025-07-25 18:37:16"}
{"level":"info","msg":"成功更新仓库","time":"2025-07-25 18:37:18"}
{"level":"info","msg":"成功更新同步日志","status":"success","sync_log_id":114,"time":"2025-07-25 18:37:18"}
{"level":"info","msg":"Git仓库同步成功，耗时: 3.423334401s","time":"2025-07-25 18:37:18"}
{"level":"info","msg":"未找到属于本 Worker 的同步日志，创建新日志","time":"2025-07-25 18:38:16"}
{"level":"info","msg":"成功创建同步日志","sync_log_id":115,"time":"2025-07-25 18:38:16","worker_id":"test-worker-001"}
{"level":"info","msg":"开始处理Git同步任务","time":"2025-07-25 18:38:16"}
{"action":"sync","level":"info","msg":"仓库已存在，将拉取更新: /data/ahop/repos/1/71","repository_id":71,"tenant_id":1,"time":"2025-07-25 18:38:16","worker_id":"test-worker-001"}
{"level":"info","msg":"成功更新仓库","time":"2025-07-25 18:38:18"}
{"level":"info","msg":"成功更新同步日志","status":"success","sync_log_id":115,"time":"2025-07-25 18:38:18"}
{"level":"info","msg":"Git仓库同步成功，耗时: 2.373861009s","time":"2025-07-25 18:38:18"}
{"level":"info","msg":"收到退出信号，正在停止Worker...","time":"2025-07-25 18:42:54"}
{"level":"info","msg":"开始停止Worker","time":"2025-07-25 18:42:54"}
{"level":"info","msg":"Git同步订阅服务收到退出信号","time":"2025-07-25 18:42:54"}
{"consumer_id":1,"level":"info","msg":"任务消费者收到退出信号","time":"2025-07-25 18:42:57","worker_id":"test-worker-001"}
{"consumer_id":0,"level":"info","msg":"任务消费者收到退出信号","time":"2025-07-25 18:42:57","worker_id":"test-worker-001"}
{"level":"info","msg":"所有任务已完成","time":"2025-07-25 18:42:57"}
{"level":"info","msg":"已通知Master断开连接","time":"2025-07-25 18:42:57"}
{"level":"info","msg":"Worker已停止","time":"2025-07-25 18:42:57"}
{"level":"info","msg":"Worker已优雅停止","time":"2025-07-25 18:42:57"}
{"level":"info","master_url":"http://localhost:8080","msg":"启动AHOP Worker","time":"2025-07-25 18:49:23","version":"1.0.0","worker_name":"AHOP Worker on development"}
{"level":"info","msg":"使用配置的worker_id","time":"2025-07-25 18:49:23","worker_id":"test-worker-002"}
{"error":"向Master认证失败: 认证失败: Worker ID 'test-worker-002' 已经被其他实例使用（IP: ::1） (HTTP 200, Code 409)","level":"fatal","msg":"创建Worker失败","time":"2025-07-25 18:49:23"}
{"level":"info","master_url":"http://localhost:8080","msg":"启动AHOP Worker","time":"2025-07-25 18:49:33","version":"1.0.0","worker_name":"AHOP Worker on development"}
{"level":"info","msg":"使用配置的worker_id","time":"2025-07-25 18:49:33","worker_id":"test-worker-001"}
{"level":"info","master_url":"http://localhost:8080","msg":"Worker认证成功，获得数据库和Redis凭据","time":"2025-07-25 18:49:33","worker_id":"test-worker-001"}
{"executors":2,"level":"info","msg":"已注册任务执行器","time":"2025-07-25 18:49:33"}
{"concurrency":2,"level":"info","msg":"Worker启动成功","time":"2025-07-25 18:49:33","worker_id":"test-worker-001"}
{"level":"info","msg":"Worker启动成功，正在等待任务...","time":"2025-07-25 18:49:33"}
{"level":"info","msg":"Git扫描队列消费者已启动","time":"2025-07-25 18:49:33"}
{"consumer_id":1,"level":"info","msg":"任务消费者启动","time":"2025-07-25 18:49:33","worker_id":"test-worker-001"}
{"consumer_id":0,"level":"info","msg":"任务消费者启动","time":"2025-07-25 18:49:33","worker_id":"test-worker-001"}
{"level":"info","msg":"Git同步订阅服务已启动","time":"2025-07-25 18:49:33"}
{"action":"scan","level":"info","msg":"收到Git扫描任务","repository_id":68,"task_id":"scan_1_68_1753440579","tenant_id":1,"time":"2025-07-25 18:49:39"}
{"error":"识别项目结构失败: lstat /data/ahop/repos/1/68: no such file or directory","level":"error","msg":"扫描仓库失败","time":"2025-07-25 18:49:39"}
{"action":"scan","level":"info","msg":"收到Git扫描任务","repository_id":69,"task_id":"scan_1_69_1753440583","tenant_id":1,"time":"2025-07-25 18:49:43"}
{"error":"识别项目结构失败: lstat /data/ahop/repos/1/69: no such file or directory","level":"error","msg":"扫描仓库失败","time":"2025-07-25 18:49:43"}
{"level":"info","msg":"收到退出信号，正在停止Worker...","time":"2025-07-25 18:51:17"}
{"level":"info","msg":"开始停止Worker","time":"2025-07-25 18:51:17"}
{"level":"info","msg":"Git同步订阅服务收到退出信号","time":"2025-07-25 18:51:17"}
{"consumer_id":1,"level":"info","msg":"任务消费者收到退出信号","time":"2025-07-25 18:51:24","worker_id":"test-worker-001"}
{"consumer_id":0,"level":"info","msg":"任务消费者收到退出信号","time":"2025-07-25 18:51:24","worker_id":"test-worker-001"}
{"level":"info","msg":"所有任务已完成","time":"2025-07-25 18:51:24"}
{"level":"info","msg":"已通知Master断开连接","time":"2025-07-25 18:51:24"}
{"level":"info","msg":"Worker已停止","time":"2025-07-25 18:51:24"}
{"level":"info","msg":"Worker已优雅停止","time":"2025-07-25 18:51:24"}
{"level":"info","master_url":"http://localhost:8080","msg":"启动AHOP Worker","time":"2025-07-25 18:51:41","version":"1.0.0","worker_name":"AHOP Worker on development"}
{"level":"info","msg":"使用配置的worker_id","time":"2025-07-25 18:51:41","worker_id":"test-worker-001"}
{"level":"info","master_url":"http://localhost:8080","msg":"Worker认证成功，获得数据库和Redis凭据","time":"2025-07-25 18:51:41","worker_id":"test-worker-001"}
{"executors":2,"level":"info","msg":"已注册任务执行器","time":"2025-07-25 18:51:41"}
{"concurrency":2,"level":"info","msg":"Worker启动成功","time":"2025-07-25 18:51:41","worker_id":"test-worker-001"}
{"level":"info","msg":"Worker启动成功，正在等待任务...","time":"2025-07-25 18:51:41"}
{"consumer_id":1,"level":"info","msg":"任务消费者启动","time":"2025-07-25 18:51:41","worker_id":"test-worker-001"}
{"level":"info","msg":"Git扫描队列消费者已启动","time":"2025-07-25 18:51:41"}
{"consumer_id":0,"level":"info","msg":"任务消费者启动","time":"2025-07-25 18:51:41","worker_id":"test-worker-001"}
{"level":"info","msg":"Git同步订阅服务已启动","time":"2025-07-25 18:51:41"}
{"action":"scan","level":"info","msg":"收到Git扫描任务","repository_id":69,"task_id":"scan_1_69_1753440704","tenant_id":1,"time":"2025-07-25 18:51:44"}
{"error":"识别项目结构失败: lstat /data/ahop/repos/1/69: no such file or directory","level":"error","msg":"扫描仓库失败","time":"2025-07-25 18:51:44"}
{"level":"debug","msg":"开始查找pending状态的同步日志","repository_id":68,"tenant_id":1,"time":"2025-07-25 18:53:24"}
{"count":3,"level":"debug","logs":[{"ID":107,"RepositoryID":68,"TenantID":1,"TaskID":"","TaskType":"scheduled","WorkerID":"test-worker-001","OperatorID":null,"StartedAt":"2025-07-25T02:40:32.604431+08:00","FinishedAt":"2025-07-25T02:40:37.173082+08:00","Duration":4583,"Status":"success","FromCommit":"","ToCommit":"43e82dd990a7e3fb5137ad64eb8124671944ab38","ErrorMessage":"","LocalPath":"/data/ahop/repos/1/68","CommandOutput":"","CreatedAt":"2025-07-25T02:40:32.604432+08:00"},{"ID":108,"RepositoryID":68,"TenantID":1,"TaskID":"","TaskType":"manual","WorkerID":"test-worker-001","OperatorID":1,"StartedAt":"2025-07-25T02:40:40.371522+08:00","FinishedAt":"2025-07-25T02:40:40.88419+08:00","Duration":516,"Status":"success","FromCommit":"43e82dd990a7e3fb5137ad64eb8124671944ab38","ToCommit":"43e82dd990a7e3fb5137ad64eb8124671944ab38","ErrorMessage":"","LocalPath":"/data/ahop/repos/1/68","CommandOutput":"","CreatedAt":"2025-07-25T02:40:40.371522+08:00"},{"ID":113,"RepositoryID":68,"TenantID":1,"TaskID":"","TaskType":"manual","WorkerID":"test-worker-001","OperatorID":1,"StartedAt":"2025-07-25T18:28:25.328596+08:00","FinishedAt":"2025-07-25T18:28:34.024299+08:00","Duration":8701,"Status":"success","FromCommit":"","ToCommit":"43e82dd990a7e3fb5137ad64eb8124671944ab38","ErrorMessage":"","LocalPath":"/data/ahop/repos/1/68","CommandOutput":"","CreatedAt":"2025-07-25T18:28:25.328596+08:00"}],"msg":"查询到的所有同步日志","time":"2025-07-25 18:53:24"}
{"level":"info","msg":"未找到属于本 Worker 的同步日志，创建新日志","time":"2025-07-25 18:53:24"}
{"level":"info","msg":"成功创建同步日志","sync_log_id":116,"time":"2025-07-25 18:53:24","worker_id":"test-worker-001"}
{"level":"info","msg":"开始处理Git同步任务","time":"2025-07-25 18:53:24"}
{"action":"sync","level":"info","msg":"仓库不存在，将克隆到: /data/ahop/repos/1/68","repository_id":68,"tenant_id":1,"time":"2025-07-25 18:53:24","worker_id":"test-worker-001"}
{"level":"debug","msg":"开始查找pending状态的同步日志","repository_id":69,"tenant_id":1,"time":"2025-07-25 18:53:28"}
{"count":2,"level":"debug","logs":[{"ID":109,"RepositoryID":69,"TenantID":1,"TaskID":"","TaskType":"scheduled","WorkerID":"test-worker-001","OperatorID":null,"StartedAt":"2025-07-25T02:48:40.605712+08:00","FinishedAt":"2025-07-25T02:48:41.340434+08:00","Duration":738,"Status":"success","FromCommit":"","ToCommit":"5fd8da2b06e986a794aae267d77c1979a9e5750f","ErrorMessage":"","LocalPath":"/data/ahop/repos/1/69","CommandOutput":"","CreatedAt":"2025-07-25T02:48:40.605712+08:00"},{"ID":112,"RepositoryID":69,"TenantID":1,"TaskID":"","TaskType":"manual","WorkerID":"test-worker-001","OperatorID":1,"StartedAt":"2025-07-25T15:10:47.592168+08:00","FinishedAt":"2025-07-25T15:10:48.135888+08:00","Duration":547,"Status":"success","FromCommit":"","ToCommit":"5fd8da2b06e986a794aae267d77c1979a9e5750f","ErrorMessage":"","LocalPath":"/data/ahop/repos/1/69","CommandOutput":"","CreatedAt":"2025-07-25T15:10:47.592168+08:00"}],"msg":"查询到的所有同步日志","time":"2025-07-25 18:53:28"}
{"level":"info","msg":"未找到属于本 Worker 的同步日志，创建新日志","time":"2025-07-25 18:53:28"}
{"level":"info","msg":"成功创建同步日志","sync_log_id":117,"time":"2025-07-25 18:53:28","worker_id":"test-worker-001"}
{"level":"info","msg":"开始处理Git同步任务","time":"2025-07-25 18:53:28"}
{"action":"sync","level":"info","msg":"仓库不存在，将克隆到: /data/ahop/repos/1/69","repository_id":69,"tenant_id":1,"time":"2025-07-25 18:53:28","worker_id":"test-worker-001"}
{"level":"info","msg":"成功克隆仓库到: /data/ahop/repos/1/69","time":"2025-07-25 18:53:28"}
{"level":"debug","msg":"准备更新同步日志","sync_log_id":117,"time":"2025-07-25 18:53:28","update_data":{"duration":614,"error_message":"","finished_at":"2025-07-25T18:53:28.877756266+08:00","local_path":"/data/ahop/repos/1/69","status":"success","to_commit":"5fd8da2b06e986a794aae267d77c1979a9e5750f","worker_id":"test-worker-001"}}
{"level":"info","msg":"成功更新同步日志","status":"success","sync_log_id":117,"time":"2025-07-25 18:53:28"}
{"level":"info","msg":"Git仓库同步成功，耗时: 614.362346ms","time":"2025-07-25 18:53:28"}
{"level":"info","msg":"成功克隆仓库到: /data/ahop/repos/1/68","time":"2025-07-25 18:53:32"}
{"level":"debug","msg":"准备更新同步日志","sync_log_id":116,"time":"2025-07-25 18:53:32","update_data":{"duration":7618,"error_message":"","finished_at":"2025-07-25T18:53:32.180145973+08:00","local_path":"/data/ahop/repos/1/68","status":"success","to_commit":"43e82dd990a7e3fb5137ad64eb8124671944ab38","worker_id":"test-worker-001"}}
{"level":"info","msg":"成功更新同步日志","status":"success","sync_log_id":116,"time":"2025-07-25 18:53:32"}
{"level":"info","msg":"Git仓库同步成功，耗时: 7.618865994s","time":"2025-07-25 18:53:32"}
{"action":"scan","level":"info","msg":"收到Git扫描任务","repository_id":69,"task_id":"scan_1_69_1753440816","tenant_id":1,"time":"2025-07-25 18:53:36"}
{"level":"info","msg":"扫描完成，结果已存入Redis","task_id":"scan_1_69_1753440816","template_count":2,"time":"2025-07-25 18:53:36"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-25 18:53:41"}
{"action":"scan","level":"info","msg":"收到Git扫描任务","repository_id":68,"task_id":"scan_1_68_1753440826","tenant_id":1,"time":"2025-07-25 18:53:46"}
{"level":"info","msg":"扫描完成，结果已存入Redis","task_id":"scan_1_68_1753440826","template_count":17,"time":"2025-07-25 18:53:46"}
{"level":"info","msg":"收到退出信号，正在停止Worker...","time":"2025-07-25 18:54:08"}
{"level":"info","msg":"开始停止Worker","time":"2025-07-25 18:54:08"}
{"level":"info","msg":"Git同步订阅服务收到退出信号","time":"2025-07-25 18:54:08"}
{"consumer_id":0,"level":"info","msg":"任务消费者收到退出信号","time":"2025-07-25 18:54:13","worker_id":"test-worker-001"}
{"consumer_id":1,"level":"info","msg":"任务消费者收到退出信号","time":"2025-07-25 18:54:13","worker_id":"test-worker-001"}
{"level":"info","msg":"所有任务已完成","time":"2025-07-25 18:54:13"}
{"level":"info","msg":"已通知Master断开连接","time":"2025-07-25 18:54:13"}
{"level":"info","msg":"Worker已停止","time":"2025-07-25 18:54:13"}
{"level":"info","msg":"Worker已优雅停止","time":"2025-07-25 18:54:13"}
{"level":"info","master_url":"http://localhost:8080","msg":"启动AHOP Worker","time":"2025-07-25 18:54:16","version":"1.0.0","worker_name":"AHOP Worker on development"}
{"level":"info","msg":"使用配置的worker_id","time":"2025-07-25 18:54:16","worker_id":"test-worker-001"}
{"level":"info","master_url":"http://localhost:8080","msg":"Worker认证成功，获得数据库和Redis凭据","time":"2025-07-25 18:54:16","worker_id":"test-worker-001"}
{"executors":2,"level":"info","msg":"已注册任务执行器","time":"2025-07-25 18:54:16"}
{"concurrency":2,"level":"info","msg":"Worker启动成功","time":"2025-07-25 18:54:16","worker_id":"test-worker-001"}
{"level":"info","msg":"Worker启动成功，正在等待任务...","time":"2025-07-25 18:54:16"}
{"consumer_id":1,"level":"info","msg":"任务消费者启动","time":"2025-07-25 18:54:16","worker_id":"test-worker-001"}
{"consumer_id":0,"level":"info","msg":"任务消费者启动","time":"2025-07-25 18:54:16","worker_id":"test-worker-001"}
{"level":"info","msg":"Git扫描队列消费者已启动","time":"2025-07-25 18:54:16"}
{"level":"info","msg":"Git同步订阅服务已启动","time":"2025-07-25 18:54:16"}
{"action":"scan","level":"info","msg":"收到Git扫描任务","repository_id":68,"task_id":"scan_1_68_1753440860","tenant_id":1,"time":"2025-07-25 18:54:20"}
{"level":"info","msg":"扫描完成，结果已存入Redis","task_id":"scan_1_68_1753440860","template_count":17,"time":"2025-07-25 18:54:20"}
{"action":"scan","level":"info","msg":"收到Git扫描任务","repository_id":69,"task_id":"scan_1_69_1753440899","tenant_id":1,"time":"2025-07-25 18:54:59"}
{"level":"info","msg":"扫描完成，结果已存入Redis","task_id":"scan_1_69_1753440899","template_count":2,"time":"2025-07-25 18:54:59"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-25 18:56:16"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-25 18:58:16"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-25 19:00:16"}
{"level":"info","msg":"收到退出信号，正在停止Worker...","time":"2025-07-25 19:00:39"}
{"level":"info","msg":"开始停止Worker","time":"2025-07-25 19:00:39"}
{"level":"info","msg":"Git同步订阅服务收到退出信号","time":"2025-07-25 19:00:39"}
{"consumer_id":1,"level":"info","msg":"任务消费者收到退出信号","time":"2025-07-25 19:00:40","worker_id":"test-worker-001"}
{"consumer_id":0,"level":"info","msg":"任务消费者收到退出信号","time":"2025-07-25 19:00:40","worker_id":"test-worker-001"}
{"level":"info","msg":"所有任务已完成","time":"2025-07-25 19:00:40"}
{"level":"info","msg":"已通知Master断开连接","time":"2025-07-25 19:00:40"}
{"level":"info","msg":"Worker已停止","time":"2025-07-25 19:00:40"}
{"level":"info","msg":"Worker已优雅停止","time":"2025-07-25 19:00:40"}
{"level":"info","master_url":"http://localhost:8080","msg":"启动AHOP Worker","time":"2025-07-25 19:01:02","version":"1.0.0","worker_name":"AHOP Worker on development"}
{"level":"info","msg":"使用配置的worker_id","time":"2025-07-25 19:01:02","worker_id":"test-worker-001"}
{"level":"info","master_url":"http://localhost:8080","msg":"Worker认证成功，获得数据库和Redis凭据","time":"2025-07-25 19:01:02","worker_id":"test-worker-001"}
{"executors":2,"level":"info","msg":"已注册任务执行器","time":"2025-07-25 19:01:02"}
{"concurrency":2,"level":"info","msg":"Worker启动成功","time":"2025-07-25 19:01:02","worker_id":"test-worker-001"}
{"level":"info","msg":"Worker启动成功，正在等待任务...","time":"2025-07-25 19:01:02"}
{"level":"info","msg":"Git扫描队列消费者已启动","time":"2025-07-25 19:01:02"}
{"consumer_id":1,"level":"info","msg":"任务消费者启动","time":"2025-07-25 19:01:02","worker_id":"test-worker-001"}
{"consumer_id":0,"level":"info","msg":"任务消费者启动","time":"2025-07-25 19:01:02","worker_id":"test-worker-001"}
{"level":"info","msg":"Git同步订阅服务已启动","time":"2025-07-25 19:01:02"}
{"action":"scan","level":"info","msg":"收到Git扫描任务","repository_id":69,"task_id":"scan_1_69_1753441265","tenant_id":1,"time":"2025-07-25 19:01:05"}
{"level":"info","msg":"扫描完成，结果已存入Redis","task_id":"scan_1_69_1753441265","template_count":2,"time":"2025-07-25 19:01:05"}
{"level":"info","msg":"收到退出信号，正在停止Worker...","time":"2025-07-25 19:01:36"}
{"level":"info","msg":"开始停止Worker","time":"2025-07-25 19:01:36"}
{"level":"info","msg":"Git同步订阅服务收到退出信号","time":"2025-07-25 19:01:36"}
{"consumer_id":1,"level":"info","msg":"任务消费者收到退出信号","time":"2025-07-25 19:01:43","worker_id":"test-worker-001"}
{"consumer_id":0,"level":"info","msg":"任务消费者收到退出信号","time":"2025-07-25 19:01:43","worker_id":"test-worker-001"}
{"level":"info","msg":"所有任务已完成","time":"2025-07-25 19:01:43"}
{"level":"info","msg":"已通知Master断开连接","time":"2025-07-25 19:01:43"}
{"level":"info","msg":"Worker已停止","time":"2025-07-25 19:01:43"}
{"level":"info","msg":"Worker已优雅停止","time":"2025-07-25 19:01:43"}
{"level":"info","master_url":"http://localhost:8080","msg":"启动AHOP Worker","time":"2025-07-25 19:10:01","version":"1.0.0","worker_name":"AHOP Worker on development"}
{"level":"info","msg":"使用配置的worker_id","time":"2025-07-25 19:10:01","worker_id":"test-worker-001"}
{"level":"info","master_url":"http://localhost:8080","msg":"Worker认证成功，获得数据库和Redis凭据","time":"2025-07-25 19:10:01","worker_id":"test-worker-001"}
{"executors":2,"level":"info","msg":"已注册任务执行器","time":"2025-07-25 19:10:01"}
{"concurrency":2,"level":"info","msg":"Worker启动成功","time":"2025-07-25 19:10:01","worker_id":"test-worker-001"}
{"level":"info","msg":"Worker启动成功，正在等待任务...","time":"2025-07-25 19:10:01"}
{"consumer_id":0,"level":"info","msg":"任务消费者启动","time":"2025-07-25 19:10:01","worker_id":"test-worker-001"}
{"consumer_id":1,"level":"info","msg":"任务消费者启动","time":"2025-07-25 19:10:01","worker_id":"test-worker-001"}
{"level":"info","msg":"Git扫描队列消费者已启动","time":"2025-07-25 19:10:01"}
{"level":"info","msg":"Git同步订阅服务已启动","time":"2025-07-25 19:10:01"}
{"action":"scan","level":"info","msg":"收到Git扫描任务","repository_id":69,"task_id":"scan_1_69_1753441806","tenant_id":1,"time":"2025-07-25 19:10:06"}
{"level":"info","msg":"扫描完成，结果已存入Redis","task_id":"scan_1_69_1753441806","template_count":2,"time":"2025-07-25 19:10:06"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-25 19:12:01"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-25 19:14:01"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-25 19:16:01"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-25 19:18:01"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-25 19:20:01"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-25 19:22:01"}
{"level":"info","msg":"收到退出信号，正在停止Worker...","time":"2025-07-25 19:23:34"}
{"level":"info","msg":"开始停止Worker","time":"2025-07-25 19:23:34"}
{"level":"info","msg":"Git同步订阅服务收到退出信号","time":"2025-07-25 19:23:34"}
{"consumer_id":1,"level":"info","msg":"任务消费者收到退出信号","time":"2025-07-25 19:23:39","worker_id":"test-worker-001"}
{"consumer_id":0,"level":"info","msg":"任务消费者收到退出信号","time":"2025-07-25 19:23:39","worker_id":"test-worker-001"}
{"level":"info","msg":"所有任务已完成","time":"2025-07-25 19:23:39"}
{"level":"info","msg":"已通知Master断开连接","time":"2025-07-25 19:23:39"}
{"level":"info","msg":"Worker已停止","time":"2025-07-25 19:23:39"}
{"level":"info","msg":"Worker已优雅停止","time":"2025-07-25 19:23:39"}
{"level":"info","master_url":"http://localhost:8080","msg":"启动AHOP Worker","time":"2025-07-25 19:23:40","version":"1.0.0","worker_name":"AHOP Worker on development"}
{"level":"info","msg":"使用配置的worker_id","time":"2025-07-25 19:23:40","worker_id":"test-worker-001"}
{"level":"info","master_url":"http://localhost:8080","msg":"Worker认证成功，获得数据库和Redis凭据","time":"2025-07-25 19:23:40","worker_id":"test-worker-001"}
{"executors":2,"level":"info","msg":"已注册任务执行器","time":"2025-07-25 19:23:40"}
{"concurrency":2,"level":"info","msg":"Worker启动成功","time":"2025-07-25 19:23:40","worker_id":"test-worker-001"}
{"level":"info","msg":"Worker启动成功，正在等待任务...","time":"2025-07-25 19:23:40"}
{"level":"info","msg":"Git扫描队列消费者已启动","time":"2025-07-25 19:23:40"}
{"consumer_id":0,"level":"info","msg":"任务消费者启动","time":"2025-07-25 19:23:40","worker_id":"test-worker-001"}
{"consumer_id":1,"level":"info","msg":"任务消费者启动","time":"2025-07-25 19:23:40","worker_id":"test-worker-001"}
{"level":"info","msg":"Git同步订阅服务已启动","time":"2025-07-25 19:23:40"}
{"action":"scan","level":"info","msg":"收到Git扫描任务","repository_id":69,"task_id":"scan_1_69_1753442624","tenant_id":1,"time":"2025-07-25 19:23:44"}
{"level":"info","msg":"扫描完成，结果已存入Redis","task_id":"scan_1_69_1753442624","template_count":2,"time":"2025-07-25 19:23:44"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-25 19:25:40"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-25 19:27:40"}
{"level":"info","msg":"收到退出信号，正在停止Worker...","time":"2025-07-25 19:27:41"}
{"level":"info","msg":"开始停止Worker","time":"2025-07-25 19:27:41"}
{"level":"info","msg":"Git同步订阅服务收到退出信号","time":"2025-07-25 19:27:41"}
{"consumer_id":1,"level":"info","msg":"任务消费者收到退出信号","time":"2025-07-25 19:27:43","worker_id":"test-worker-001"}
{"consumer_id":0,"level":"info","msg":"任务消费者收到退出信号","time":"2025-07-25 19:27:43","worker_id":"test-worker-001"}
{"level":"info","msg":"所有任务已完成","time":"2025-07-25 19:27:43"}
{"level":"info","msg":"已通知Master断开连接","time":"2025-07-25 19:27:43"}
{"level":"info","msg":"Worker已停止","time":"2025-07-25 19:27:43"}
{"level":"info","msg":"Worker已优雅停止","time":"2025-07-25 19:27:43"}
{"level":"info","master_url":"http://localhost:8080","msg":"启动AHOP Worker","time":"2025-07-25 19:27:43","version":"1.0.0","worker_name":"AHOP Worker on development"}
{"level":"info","msg":"使用配置的worker_id","time":"2025-07-25 19:27:43","worker_id":"test-worker-001"}
{"level":"info","master_url":"http://localhost:8080","msg":"Worker认证成功，获得数据库和Redis凭据","time":"2025-07-25 19:27:43","worker_id":"test-worker-001"}
{"executors":2,"level":"info","msg":"已注册任务执行器","time":"2025-07-25 19:27:43"}
{"concurrency":2,"level":"info","msg":"Worker启动成功","time":"2025-07-25 19:27:43","worker_id":"test-worker-001"}
{"level":"info","msg":"Git扫描队列消费者已启动","time":"2025-07-25 19:27:43"}
{"level":"info","msg":"Worker启动成功，正在等待任务...","time":"2025-07-25 19:27:43"}
{"consumer_id":1,"level":"info","msg":"任务消费者启动","time":"2025-07-25 19:27:43","worker_id":"test-worker-001"}
{"consumer_id":0,"level":"info","msg":"任务消费者启动","time":"2025-07-25 19:27:43","worker_id":"test-worker-001"}
{"level":"info","msg":"Git同步订阅服务已启动","time":"2025-07-25 19:27:43"}
{"action":"scan","level":"info","msg":"收到Git扫描任务","repository_id":69,"task_id":"scan_1_69_1753442867","tenant_id":1,"time":"2025-07-25 19:27:47"}
{"level":"info","msg":"扫描完成，结果已存入Redis","task_id":"scan_1_69_1753442867","template_count":2,"time":"2025-07-25 19:27:47"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-25 19:29:43"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-25 19:31:43"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-25 19:33:43"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-25 19:35:43"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-25 19:37:43"}
{"level":"info","msg":"收到退出信号，正在停止Worker...","time":"2025-07-25 19:39:28"}
{"level":"info","msg":"开始停止Worker","time":"2025-07-25 19:39:28"}
{"level":"info","msg":"Git同步订阅服务收到退出信号","time":"2025-07-25 19:39:28"}
{"consumer_id":0,"level":"info","msg":"任务消费者收到退出信号","time":"2025-07-25 19:39:31","worker_id":"test-worker-001"}
{"consumer_id":1,"level":"info","msg":"任务消费者收到退出信号","time":"2025-07-25 19:39:31","worker_id":"test-worker-001"}
{"level":"info","msg":"所有任务已完成","time":"2025-07-25 19:39:31"}
{"level":"info","msg":"已通知Master断开连接","time":"2025-07-25 19:39:31"}
{"level":"info","msg":"Worker已停止","time":"2025-07-25 19:39:31"}
{"level":"info","msg":"Worker已优雅停止","time":"2025-07-25 19:39:31"}
{"level":"info","master_url":"http://localhost:8080","msg":"启动AHOP Worker","time":"2025-07-25 19:39:32","version":"1.0.0","worker_name":"AHOP Worker on development"}
{"level":"info","msg":"使用配置的worker_id","time":"2025-07-25 19:39:32","worker_id":"test-worker-001"}
{"level":"info","master_url":"http://localhost:8080","msg":"Worker认证成功，获得数据库和Redis凭据","time":"2025-07-25 19:39:32","worker_id":"test-worker-001"}
{"executors":2,"level":"info","msg":"已注册任务执行器","time":"2025-07-25 19:39:32"}
{"concurrency":2,"level":"info","msg":"Worker启动成功","time":"2025-07-25 19:39:32","worker_id":"test-worker-001"}
{"level":"info","msg":"Worker启动成功，正在等待任务...","time":"2025-07-25 19:39:32"}
{"consumer_id":0,"level":"info","msg":"任务消费者启动","time":"2025-07-25 19:39:32","worker_id":"test-worker-001"}
{"level":"info","msg":"Git扫描队列消费者已启动","time":"2025-07-25 19:39:32"}
{"consumer_id":1,"level":"info","msg":"任务消费者启动","time":"2025-07-25 19:39:32","worker_id":"test-worker-001"}
{"level":"info","msg":"Git同步订阅服务已启动","time":"2025-07-25 19:39:32"}
{"action":"scan","level":"info","msg":"收到Git扫描任务","repository_id":69,"task_id":"scan_1_69_1753443575","tenant_id":1,"time":"2025-07-25 19:39:35"}
{"level":"info","msg":"扫描完成，结果已存入Redis","task_id":"scan_1_69_1753443575","template_count":2,"time":"2025-07-25 19:39:35"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-25 19:41:32"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-25 19:43:32"}
{"level":"info","master_url":"http://localhost:8080","msg":"启动AHOP Worker","time":"2025-07-25 19:45:06","version":"1.0.0","worker_name":"AHOP Worker on development"}
{"level":"info","msg":"使用配置的worker_id","time":"2025-07-25 19:45:06","worker_id":"test-worker-001"}
{"error":"向Master认证失败: 认证失败: Worker ID 'test-worker-001' 已经被其他实例使用（IP: ::1） (HTTP 200, Code 409)","level":"fatal","msg":"创建Worker失败","time":"2025-07-25 19:45:06"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-25 19:45:32"}
{"level":"debug","msg":"开始查找pending状态的同步日志","repository_id":72,"tenant_id":1,"time":"2025-07-25 19:45:35"}
{"count":0,"level":"debug","logs":[],"msg":"查询到的所有同步日志","time":"2025-07-25 19:45:35"}
{"level":"info","msg":"未找到属于本 Worker 的同步日志，创建新日志","time":"2025-07-25 19:45:35"}
{"level":"info","msg":"成功创建同步日志","sync_log_id":118,"time":"2025-07-25 19:45:35","worker_id":"test-worker-001"}
{"level":"info","msg":"开始处理Git同步任务","time":"2025-07-25 19:45:35"}
{"action":"sync","level":"info","msg":"仓库不存在，将克隆到: /data/ahop/repos/1/72","repository_id":72,"tenant_id":1,"time":"2025-07-25 19:45:35","worker_id":"test-worker-001"}
{"level":"debug","msg":"开始查找pending状态的同步日志","repository_id":72,"tenant_id":1,"time":"2025-07-25 19:45:37"}
{"count":1,"level":"debug","logs":[{"ID":118,"RepositoryID":72,"TenantID":1,"TaskID":"","TaskType":"scheduled","WorkerID":"test-worker-001","OperatorID":null,"StartedAt":"2025-07-25T19:45:35.694606+08:00","FinishedAt":null,"Duration":0,"Status":"pending","FromCommit":"","ToCommit":"","ErrorMessage":"","LocalPath":"","CommandOutput":"","CreatedAt":"2025-07-25T19:45:35.694606+08:00"}],"msg":"查询到的所有同步日志","time":"2025-07-25 19:45:37"}
{"level":"debug","msg":"找到pending状态的同步日志","sync_log_id":118,"time":"2025-07-25 19:45:37","worker_id":"test-worker-001"}
{"level":"info","msg":"开始处理Git同步任务","time":"2025-07-25 19:45:37"}
{"action":"sync","level":"info","msg":"仓库已存在，将拉取更新: /data/ahop/repos/1/72","repository_id":72,"tenant_id":1,"time":"2025-07-25 19:45:37","worker_id":"test-worker-001"}
{"level":"info","msg":"成功克隆仓库到: /data/ahop/repos/1/72","time":"2025-07-25 19:45:40"}
{"level":"debug","msg":"准备更新同步日志","sync_log_id":118,"time":"2025-07-25 19:45:40","update_data":{"duration":4875,"error_message":"","finished_at":"2025-07-25T19:45:40.564231765+08:00","local_path":"/data/ahop/repos/1/72","status":"success","to_commit":"dab5944a7bca8ae37d947dda02ac591afc1177d3","worker_id":"test-worker-001"}}
{"level":"info","msg":"成功更新同步日志","status":"success","sync_log_id":118,"time":"2025-07-25 19:45:40"}
{"level":"info","msg":"Git仓库同步成功，耗时: 4.875631859s","time":"2025-07-25 19:45:40"}
{"level":"info","msg":"成功更新仓库","time":"2025-07-25 19:45:40"}
{"level":"debug","msg":"准备更新同步日志","sync_log_id":118,"time":"2025-07-25 19:45:40","update_data":{"duration":3238,"error_message":"","finished_at":"2025-07-25T19:45:40.98436763+08:00","from_commit":"HEAD","local_path":"/data/ahop/repos/1/72","status":"success","to_commit":"dab5944a7bca8ae37d947dda02ac591afc1177d3","worker_id":"test-worker-001"}}
{"level":"info","msg":"成功更新同步日志","status":"success","sync_log_id":118,"time":"2025-07-25 19:45:40"}
{"level":"info","msg":"Git仓库同步成功，耗时: 3.238460181s","time":"2025-07-25 19:45:40"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-25 19:47:32"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-25 19:49:32"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-25 19:51:32"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-25 19:53:32"}
{"action":"scan","level":"info","msg":"收到Git扫描任务","repository_id":69,"task_id":"scan_1_69_1753444467","tenant_id":1,"time":"2025-07-25 19:54:27"}
{"error":"识别项目结构失败: lstat /data/ahop/repos/1/69: no such file or directory","level":"error","msg":"扫描仓库失败","time":"2025-07-25 19:54:27"}
{"level":"info","msg":"收到退出信号，正在停止Worker...","time":"2025-07-25 19:54:39"}
{"level":"info","msg":"开始停止Worker","time":"2025-07-25 19:54:39"}
{"level":"info","msg":"Git同步订阅服务收到退出信号","time":"2025-07-25 19:54:39"}
{"consumer_id":1,"level":"info","msg":"任务消费者收到退出信号","time":"2025-07-25 19:54:40","worker_id":"test-worker-001"}
{"consumer_id":0,"level":"info","msg":"任务消费者收到退出信号","time":"2025-07-25 19:54:40","worker_id":"test-worker-001"}
{"level":"info","msg":"所有任务已完成","time":"2025-07-25 19:54:40"}
{"level":"info","msg":"已通知Master断开连接","time":"2025-07-25 19:54:40"}
{"level":"info","msg":"Worker已停止","time":"2025-07-25 19:54:40"}
{"level":"info","msg":"Worker已优雅停止","time":"2025-07-25 19:54:40"}
{"level":"info","master_url":"http://localhost:8080","msg":"启动AHOP Worker","time":"2025-07-25 19:54:49","version":"1.0.0","worker_name":"AHOP Worker on development"}
{"level":"info","msg":"使用配置的worker_id","time":"2025-07-25 19:54:49","worker_id":"test-worker-001"}
{"level":"info","master_url":"http://localhost:8080","msg":"Worker认证成功，获得数据库和Redis凭据","time":"2025-07-25 19:54:49","worker_id":"test-worker-001"}
{"executors":2,"level":"info","msg":"已注册任务执行器","time":"2025-07-25 19:54:49"}
{"concurrency":2,"level":"info","msg":"Worker启动成功","time":"2025-07-25 19:54:49","worker_id":"test-worker-001"}
{"level":"info","msg":"Worker启动成功，正在等待任务...","time":"2025-07-25 19:54:49"}
{"consumer_id":0,"level":"info","msg":"任务消费者启动","time":"2025-07-25 19:54:49","worker_id":"test-worker-001"}
{"consumer_id":1,"level":"info","msg":"任务消费者启动","time":"2025-07-25 19:54:49","worker_id":"test-worker-001"}
{"level":"info","msg":"Git扫描队列消费者已启动","time":"2025-07-25 19:54:49"}
{"level":"info","msg":"Git同步订阅服务已启动","time":"2025-07-25 19:54:49"}
{"action":"scan","level":"info","msg":"收到Git扫描任务","repository_id":69,"task_id":"scan_1_69_1753444492","tenant_id":1,"time":"2025-07-25 19:54:52"}
{"error":"识别项目结构失败: lstat /data/ahop/repos/1/69: no such file or directory","level":"error","msg":"扫描仓库失败","time":"2025-07-25 19:54:52"}
{"action":"scan","level":"info","msg":"收到Git扫描任务","repository_id":68,"task_id":"scan_1_68_1753444498","tenant_id":1,"time":"2025-07-25 19:54:58"}
{"error":"识别项目结构失败: lstat /data/ahop/repos/1/68: no such file or directory","level":"error","msg":"扫描仓库失败","time":"2025-07-25 19:54:58"}
{"level":"debug","msg":"开始查找pending状态的同步日志","repository_id":69,"tenant_id":1,"time":"2025-07-25 19:55:03"}
{"count":3,"level":"debug","logs":[{"ID":109,"RepositoryID":69,"TenantID":1,"TaskID":"","TaskType":"scheduled","WorkerID":"test-worker-001","OperatorID":null,"StartedAt":"2025-07-25T02:48:40.605712+08:00","FinishedAt":"2025-07-25T02:48:41.340434+08:00","Duration":738,"Status":"success","FromCommit":"","ToCommit":"5fd8da2b06e986a794aae267d77c1979a9e5750f","ErrorMessage":"","LocalPath":"/data/ahop/repos/1/69","CommandOutput":"","CreatedAt":"2025-07-25T02:48:40.605712+08:00"},{"ID":112,"RepositoryID":69,"TenantID":1,"TaskID":"","TaskType":"manual","WorkerID":"test-worker-001","OperatorID":1,"StartedAt":"2025-07-25T15:10:47.592168+08:00","FinishedAt":"2025-07-25T15:10:48.135888+08:00","Duration":547,"Status":"success","FromCommit":"","ToCommit":"5fd8da2b06e986a794aae267d77c1979a9e5750f","ErrorMessage":"","LocalPath":"/data/ahop/repos/1/69","CommandOutput":"","CreatedAt":"2025-07-25T15:10:47.592168+08:00"},{"ID":117,"RepositoryID":69,"TenantID":1,"TaskID":"","TaskType":"manual","WorkerID":"test-worker-001","OperatorID":1,"StartedAt":"2025-07-25T18:53:28.267316+08:00","FinishedAt":"2025-07-25T18:53:28.877756+08:00","Duration":614,"Status":"success","FromCommit":"","ToCommit":"5fd8da2b06e986a794aae267d77c1979a9e5750f","ErrorMessage":"","LocalPath":"/data/ahop/repos/1/69","CommandOutput":"","CreatedAt":"2025-07-25T18:53:28.267316+08:00"}],"msg":"查询到的所有同步日志","time":"2025-07-25 19:55:03"}
{"level":"info","msg":"未找到属于本 Worker 的同步日志，创建新日志","time":"2025-07-25 19:55:03"}
{"level":"info","msg":"成功创建同步日志","sync_log_id":119,"time":"2025-07-25 19:55:03","worker_id":"test-worker-001"}
{"level":"info","msg":"开始处理Git同步任务","time":"2025-07-25 19:55:03"}
{"action":"sync","level":"info","msg":"仓库不存在，将克隆到: /data/ahop/repos/1/69","repository_id":69,"tenant_id":1,"time":"2025-07-25 19:55:03","worker_id":"test-worker-001"}
{"level":"info","msg":"成功克隆仓库到: /data/ahop/repos/1/69","time":"2025-07-25 19:55:04"}
{"level":"debug","msg":"准备更新同步日志","sync_log_id":119,"time":"2025-07-25 19:55:04","update_data":{"duration":620,"error_message":"","finished_at":"2025-07-25T19:55:04.58793521+08:00","local_path":"/data/ahop/repos/1/69","status":"success","to_commit":"5fd8da2b06e986a794aae267d77c1979a9e5750f","worker_id":"test-worker-001"}}
{"level":"info","msg":"成功更新同步日志","status":"success","sync_log_id":119,"time":"2025-07-25 19:55:04"}
{"level":"info","msg":"Git仓库同步成功，耗时: 620.072947ms","time":"2025-07-25 19:55:04"}
{"level":"debug","msg":"开始查找pending状态的同步日志","repository_id":68,"tenant_id":1,"time":"2025-07-25 19:55:06"}
{"count":4,"level":"debug","logs":[{"ID":107,"RepositoryID":68,"TenantID":1,"TaskID":"","TaskType":"scheduled","WorkerID":"test-worker-001","OperatorID":null,"StartedAt":"2025-07-25T02:40:32.604431+08:00","FinishedAt":"2025-07-25T02:40:37.173082+08:00","Duration":4583,"Status":"success","FromCommit":"","ToCommit":"43e82dd990a7e3fb5137ad64eb8124671944ab38","ErrorMessage":"","LocalPath":"/data/ahop/repos/1/68","CommandOutput":"","CreatedAt":"2025-07-25T02:40:32.604432+08:00"},{"ID":108,"RepositoryID":68,"TenantID":1,"TaskID":"","TaskType":"manual","WorkerID":"test-worker-001","OperatorID":1,"StartedAt":"2025-07-25T02:40:40.371522+08:00","FinishedAt":"2025-07-25T02:40:40.88419+08:00","Duration":516,"Status":"success","FromCommit":"43e82dd990a7e3fb5137ad64eb8124671944ab38","ToCommit":"43e82dd990a7e3fb5137ad64eb8124671944ab38","ErrorMessage":"","LocalPath":"/data/ahop/repos/1/68","CommandOutput":"","CreatedAt":"2025-07-25T02:40:40.371522+08:00"},{"ID":113,"RepositoryID":68,"TenantID":1,"TaskID":"","TaskType":"manual","WorkerID":"test-worker-001","OperatorID":1,"StartedAt":"2025-07-25T18:28:25.328596+08:00","FinishedAt":"2025-07-25T18:28:34.024299+08:00","Duration":8701,"Status":"success","FromCommit":"","ToCommit":"43e82dd990a7e3fb5137ad64eb8124671944ab38","ErrorMessage":"","LocalPath":"/data/ahop/repos/1/68","CommandOutput":"","CreatedAt":"2025-07-25T18:28:25.328596+08:00"},{"ID":116,"RepositoryID":68,"TenantID":1,"TaskID":"","TaskType":"manual","WorkerID":"test-worker-001","OperatorID":1,"StartedAt":"2025-07-25T18:53:24.567222+08:00","FinishedAt":"2025-07-25T18:53:32.180145+08:00","Duration":7618,"Status":"success","FromCommit":"","ToCommit":"43e82dd990a7e3fb5137ad64eb8124671944ab38","ErrorMessage":"","LocalPath":"/data/ahop/repos/1/68","CommandOutput":"","CreatedAt":"2025-07-25T18:53:24.567222+08:00"}],"msg":"查询到的所有同步日志","time":"2025-07-25 19:55:06"}
{"level":"info","msg":"未找到属于本 Worker 的同步日志，创建新日志","time":"2025-07-25 19:55:06"}
{"level":"info","msg":"成功创建同步日志","sync_log_id":120,"time":"2025-07-25 19:55:06","worker_id":"test-worker-001"}
{"level":"info","msg":"开始处理Git同步任务","time":"2025-07-25 19:55:06"}
{"action":"sync","level":"info","msg":"仓库不存在，将克隆到: /data/ahop/repos/1/68","repository_id":68,"tenant_id":1,"time":"2025-07-25 19:55:06","worker_id":"test-worker-001"}
{"action":"scan","level":"info","msg":"收到Git扫描任务","repository_id":68,"task_id":"scan_1_68_1753444511","tenant_id":1,"time":"2025-07-25 19:55:11"}
{"level":"info","msg":"扫描完成，结果已存入Redis","task_id":"scan_1_68_1753444511","template_count":0,"time":"2025-07-25 19:55:11"}
{"action":"scan","level":"info","msg":"收到Git扫描任务","repository_id":68,"task_id":"scan_1_68_1753444512","tenant_id":1,"time":"2025-07-25 19:55:12"}
{"level":"info","msg":"扫描完成，结果已存入Redis","task_id":"scan_1_68_1753444512","template_count":0,"time":"2025-07-25 19:55:12"}
{"level":"info","msg":"成功克隆仓库到: /data/ahop/repos/1/68","time":"2025-07-25 19:55:13"}
{"level":"debug","msg":"准备更新同步日志","sync_log_id":120,"time":"2025-07-25 19:55:13","update_data":{"duration":6902,"error_message":"","finished_at":"2025-07-25T19:55:13.438454297+08:00","local_path":"/data/ahop/repos/1/68","status":"success","to_commit":"43e82dd990a7e3fb5137ad64eb8124671944ab38","worker_id":"test-worker-001"}}
{"level":"info","msg":"成功更新同步日志","status":"success","sync_log_id":120,"time":"2025-07-25 19:55:13"}
{"level":"info","msg":"Git仓库同步成功，耗时: 6.90277738s","time":"2025-07-25 19:55:13"}
{"action":"scan","level":"info","msg":"收到Git扫描任务","repository_id":68,"task_id":"scan_1_68_1753444516","tenant_id":1,"time":"2025-07-25 19:55:16"}
{"level":"info","msg":"扫描完成，结果已存入Redis","task_id":"scan_1_68_1753444516","template_count":17,"time":"2025-07-25 19:55:16"}
{"action":"scan","level":"info","msg":"收到Git扫描任务","repository_id":69,"task_id":"scan_1_69_1753444536","tenant_id":1,"time":"2025-07-25 19:55:36"}
{"level":"info","msg":"扫描完成，结果已存入Redis","task_id":"scan_1_69_1753444536","template_count":2,"time":"2025-07-25 19:55:36"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-25 19:56:49"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-25 19:58:49"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-25 20:00:49"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-25 20:02:49"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-25 20:04:49"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-25 20:06:49"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-25 20:08:49"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-25 20:10:49"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-25 20:12:49"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-25 20:14:49"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-25 20:16:49"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-25 20:18:49"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-25 20:20:49"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-25 20:22:49"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-25 20:24:49"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-25 20:26:49"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-25 20:28:49"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-25 20:30:49"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-25 20:32:49"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-25 20:34:49"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-25 20:36:49"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-25 20:38:49"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-25 20:40:49"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-25 20:42:49"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-25 20:44:49"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-25 20:46:49"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-25 20:48:49"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-25 20:50:49"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-25 20:52:49"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-25 20:54:49"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-25 20:56:49"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-25 20:58:49"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-25 21:00:49"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-25 21:02:49"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-25 21:04:49"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-25 21:06:49"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-25 21:08:49"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-25 21:10:49"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-25 21:12:49"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-25 21:14:49"}
{"level":"info","msg":"收到退出信号，正在停止Worker...","time":"2025-07-25 21:15:16"}
{"level":"info","msg":"开始停止Worker","time":"2025-07-25 21:15:16"}
{"level":"info","msg":"Git同步订阅服务收到退出信号","time":"2025-07-25 21:15:16"}
{"consumer_id":1,"level":"info","msg":"任务消费者收到退出信号","time":"2025-07-25 21:15:19","worker_id":"test-worker-001"}
{"consumer_id":0,"level":"info","msg":"任务消费者收到退出信号","time":"2025-07-25 21:15:19","worker_id":"test-worker-001"}
{"level":"info","msg":"所有任务已完成","time":"2025-07-25 21:15:19"}
{"level":"info","msg":"已通知Master断开连接","time":"2025-07-25 21:15:19"}
{"level":"info","msg":"Worker已停止","time":"2025-07-25 21:15:19"}
{"level":"info","msg":"Worker已优雅停止","time":"2025-07-25 21:15:19"}
{"level":"info","master_url":"http://localhost:8080","msg":"启动AHOP Worker","time":"2025-07-25 21:15:20","version":"1.0.0","worker_name":"AHOP Worker on development"}
{"level":"info","msg":"使用配置的worker_id","time":"2025-07-25 21:15:20","worker_id":"test-worker-001"}
{"level":"info","master_url":"http://localhost:8080","msg":"Worker认证成功，获得数据库和Redis凭据","time":"2025-07-25 21:15:20","worker_id":"test-worker-001"}
{"executors":2,"level":"info","msg":"已注册任务执行器","time":"2025-07-25 21:15:20"}
{"concurrency":2,"level":"info","msg":"Worker启动成功","time":"2025-07-25 21:15:20","worker_id":"test-worker-001"}
{"level":"info","msg":"Worker启动成功，正在等待任务...","time":"2025-07-25 21:15:20"}
{"consumer_id":0,"level":"info","msg":"任务消费者启动","time":"2025-07-25 21:15:20","worker_id":"test-worker-001"}
{"level":"info","msg":"Git扫描队列消费者已启动","time":"2025-07-25 21:15:20"}
{"consumer_id":1,"level":"info","msg":"任务消费者启动","time":"2025-07-25 21:15:20","worker_id":"test-worker-001"}
{"level":"info","msg":"Git同步订阅服务已启动","time":"2025-07-25 21:15:20"}
{"action":"scan","level":"info","msg":"收到Git扫描任务","repository_id":69,"task_id":"scan_1_69_1753449323","tenant_id":1,"time":"2025-07-25 21:15:23"}
{"level":"info","msg":"扫描完成，结果已存入Redis","task_id":"scan_1_69_1753449323","template_count":0,"time":"2025-07-25 21:15:23"}
{"action":"scan","level":"info","msg":"收到Git扫描任务","repository_id":68,"task_id":"scan_1_68_1753449331","tenant_id":1,"time":"2025-07-25 21:15:31"}
{"level":"info","msg":"扫描完成，结果已存入Redis","task_id":"scan_1_68_1753449331","template_count":0,"time":"2025-07-25 21:15:31"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-25 21:17:20"}
{"action":"scan","level":"info","msg":"收到Git扫描任务","repository_id":68,"task_id":"scan_1_68_1753449475","tenant_id":1,"time":"2025-07-25 21:17:55"}
{"level":"info","msg":"扫描完成，结果已存入Redis","task_id":"scan_1_68_1753449475","template_count":0,"time":"2025-07-25 21:17:55"}
{"action":"scan","level":"info","msg":"收到Git扫描任务","repository_id":69,"task_id":"scan_1_69_1753449480","tenant_id":1,"time":"2025-07-25 21:18:00"}
{"level":"info","msg":"扫描完成，结果已存入Redis","task_id":"scan_1_69_1753449480","template_count":0,"time":"2025-07-25 21:18:00"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-25 21:19:20"}
{"action":"scan","level":"info","msg":"收到Git扫描任务","repository_id":68,"task_id":"scan_1_68_1753449641","tenant_id":1,"time":"2025-07-25 21:20:41"}
{"level":"info","msg":"扫描完成，结果已存入Redis","task_id":"scan_1_68_1753449641","template_count":0,"time":"2025-07-25 21:20:41"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-25 21:21:20"}
{"level":"info","msg":"收到退出信号，正在停止Worker...","time":"2025-07-25 21:22:55"}
{"level":"info","msg":"开始停止Worker","time":"2025-07-25 21:22:55"}
{"level":"info","msg":"Git同步订阅服务收到退出信号","time":"2025-07-25 21:22:55"}
{"consumer_id":1,"level":"info","msg":"任务消费者收到退出信号","time":"2025-07-25 21:23:05","worker_id":"test-worker-001"}
{"consumer_id":0,"level":"info","msg":"任务消费者收到退出信号","time":"2025-07-25 21:23:05","worker_id":"test-worker-001"}
{"level":"info","msg":"所有任务已完成","time":"2025-07-25 21:23:05"}
{"level":"info","msg":"已通知Master断开连接","time":"2025-07-25 21:23:05"}
{"level":"info","msg":"Worker已停止","time":"2025-07-25 21:23:05"}
{"level":"info","msg":"Worker已优雅停止","time":"2025-07-25 21:23:05"}
{"level":"info","master_url":"http://localhost:8080","msg":"启动AHOP Worker","time":"2025-07-25 21:23:05","version":"1.0.0","worker_name":"AHOP Worker on development"}
{"level":"info","msg":"使用配置的worker_id","time":"2025-07-25 21:23:05","worker_id":"test-worker-001"}
{"level":"info","master_url":"http://localhost:8080","msg":"Worker认证成功，获得数据库和Redis凭据","time":"2025-07-25 21:23:05","worker_id":"test-worker-001"}
{"executors":2,"level":"info","msg":"已注册任务执行器","time":"2025-07-25 21:23:05"}
{"concurrency":2,"level":"info","msg":"Worker启动成功","time":"2025-07-25 21:23:05","worker_id":"test-worker-001"}
{"level":"info","msg":"Worker启动成功，正在等待任务...","time":"2025-07-25 21:23:05"}
{"level":"info","msg":"Git扫描队列消费者已启动","time":"2025-07-25 21:23:05"}
{"consumer_id":0,"level":"info","msg":"任务消费者启动","time":"2025-07-25 21:23:05","worker_id":"test-worker-001"}
{"consumer_id":1,"level":"info","msg":"任务消费者启动","time":"2025-07-25 21:23:05","worker_id":"test-worker-001"}
{"level":"info","msg":"Git同步订阅服务已启动","time":"2025-07-25 21:23:05"}
{"action":"scan","level":"info","msg":"收到Git扫描任务","repository_id":68,"task_id":"scan_1_68_1753449788","tenant_id":1,"time":"2025-07-25 21:23:08"}
{"level":"info","msg":"扫描完成，结果已存入Redis","task_id":"scan_1_68_1753449788","template_count":2,"time":"2025-07-25 21:23:09"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-25 21:25:05"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-25 21:27:05"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-25 21:29:05"}
{"level":"info","msg":"收到退出信号，正在停止Worker...","time":"2025-07-25 21:30:32"}
{"level":"info","msg":"开始停止Worker","time":"2025-07-25 21:30:32"}
{"level":"info","msg":"Git同步订阅服务收到退出信号","time":"2025-07-25 21:30:32"}
{"consumer_id":0,"level":"info","msg":"任务消费者收到退出信号","time":"2025-07-25 21:30:40","worker_id":"test-worker-001"}
{"consumer_id":1,"level":"info","msg":"任务消费者收到退出信号","time":"2025-07-25 21:30:40","worker_id":"test-worker-001"}
{"level":"info","msg":"所有任务已完成","time":"2025-07-25 21:30:40"}
{"level":"info","msg":"已通知Master断开连接","time":"2025-07-25 21:30:40"}
{"level":"info","msg":"Worker已停止","time":"2025-07-25 21:30:40"}
{"level":"info","msg":"Worker已优雅停止","time":"2025-07-25 21:30:40"}
{"level":"info","master_url":"http://localhost:8080","msg":"启动AHOP Worker","time":"2025-07-25 21:30:41","version":"1.0.0","worker_name":"AHOP Worker on development"}
{"level":"info","msg":"使用配置的worker_id","time":"2025-07-25 21:30:41","worker_id":"test-worker-001"}
{"level":"info","master_url":"http://localhost:8080","msg":"Worker认证成功，获得数据库和Redis凭据","time":"2025-07-25 21:30:41","worker_id":"test-worker-001"}
{"executors":2,"level":"info","msg":"已注册任务执行器","time":"2025-07-25 21:30:41"}
{"concurrency":2,"level":"info","msg":"Worker启动成功","time":"2025-07-25 21:30:41","worker_id":"test-worker-001"}
{"level":"info","msg":"Worker启动成功，正在等待任务...","time":"2025-07-25 21:30:41"}
{"level":"info","msg":"Git扫描队列消费者已启动","time":"2025-07-25 21:30:41"}
{"consumer_id":0,"level":"info","msg":"任务消费者启动","time":"2025-07-25 21:30:41","worker_id":"test-worker-001"}
{"consumer_id":1,"level":"info","msg":"任务消费者启动","time":"2025-07-25 21:30:41","worker_id":"test-worker-001"}
{"level":"info","msg":"Git同步订阅服务已启动","time":"2025-07-25 21:30:41"}
{"action":"scan","level":"info","msg":"收到Git扫描任务","repository_id":68,"task_id":"scan_1_68_1753450244","tenant_id":1,"time":"2025-07-25 21:30:44"}
{"level":"info","msg":"扫描完成，结果已存入Redis","task_id":"scan_1_68_1753450244","template_count":2,"time":"2025-07-25 21:30:44"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-25 21:32:41"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-25 21:34:41"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-25 21:36:41"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-25 21:38:41"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-25 21:40:41"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-25 21:42:41"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-25 21:44:41"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-25 21:46:41"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-25 21:48:41"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-25 21:50:41"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-25 21:52:41"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-25 21:54:41"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-25 21:56:41"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-25 21:58:41"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-25 22:00:41"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-25 22:02:41"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-25 22:04:41"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-25 22:06:41"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-25 22:08:41"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-25 22:10:41"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-25 22:12:41"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-25 22:14:41"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-25 22:16:41"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-25 22:18:41"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-25 22:20:41"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-25 22:22:41"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-25 22:24:41"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-25 22:26:41"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-25 22:28:41"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-25 22:30:41"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-25 22:32:41"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-25 22:34:41"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-25 22:36:41"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-25 22:38:41"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-25 22:40:41"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-25 22:42:41"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-25 22:44:41"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-25 22:46:41"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-25 22:48:41"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-25 22:50:41"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-25 22:52:41"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-25 22:54:41"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-25 22:56:41"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-25 22:58:41"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-25 23:00:41"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-25 23:02:41"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-25 23:04:41"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-25 23:06:41"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-25 23:08:41"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-25 23:10:41"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-25 23:12:41"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-25 23:14:41"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-25 23:16:41"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-25 23:18:41"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-25 23:20:41"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-25 23:22:41"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-25 23:24:41"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-25 23:26:41"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-25 23:28:41"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-25 23:30:41"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-25 23:32:41"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-25 23:34:41"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-25 23:36:41"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-25 23:38:41"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-25 23:40:41"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-25 23:42:41"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-25 23:44:41"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-25 23:46:41"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-25 23:48:41"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-25 23:50:41"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-25 23:52:41"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-25 23:54:41"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-25 23:56:41"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-25 23:58:41"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-26 00:00:41"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-26 00:02:41"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-26 00:04:41"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-26 00:06:41"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-26 00:08:41"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-26 00:10:41"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-26 00:12:41"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-26 00:14:41"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-26 00:16:41"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-26 00:18:41"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-26 00:20:41"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-26 00:22:41"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-26 00:24:41"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-26 00:26:41"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-26 00:28:41"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-26 00:30:41"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-26 00:32:41"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-26 00:34:41"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-26 00:36:41"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-26 00:38:41"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-26 00:40:41"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-26 00:42:41"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-26 00:44:41"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-26 00:46:41"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-26 00:48:41"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-26 00:50:41"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-26 00:52:41"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-26 00:54:41"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-26 00:56:41"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-26 00:58:41"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-26 01:00:41"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-26 01:02:41"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-26 01:04:41"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-26 01:06:41"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-26 01:08:41"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-26 01:10:41"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-26 01:12:41"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-26 01:14:41"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-26 01:16:41"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-26 01:18:41"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-26 01:20:41"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-26 01:22:41"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-26 01:24:41"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-26 01:26:41"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-26 01:28:41"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-26 01:30:41"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-26 01:32:41"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-26 01:34:41"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-26 01:36:41"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-26 01:38:41"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-26 01:40:41"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-26 01:42:41"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-26 01:44:41"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-26 01:46:41"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-26 01:48:41"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-26 01:50:41"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-26 01:52:41"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-26 01:54:41"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-26 01:56:41"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-26 01:58:41"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-26 02:00:41"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-26 02:02:41"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-26 02:04:41"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-26 02:06:41"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-26 02:08:41"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-26 02:10:41"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-26 02:12:41"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-26 02:14:41"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-26 02:16:41"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-26 02:18:41"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-26 02:20:41"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-26 02:22:41"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-26 02:24:41"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-26 02:26:41"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-26 02:28:41"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-26 02:30:41"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-26 02:32:41"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-26 02:34:41"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-26 02:36:41"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-26 02:38:41"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-26 02:40:41"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-26 02:42:41"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-26 02:44:41"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-26 02:46:41"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-26 02:48:41"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-26 02:50:41"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-26 02:52:41"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-26 02:54:41"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-26 02:56:41"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-26 02:58:41"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-26 03:00:41"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-26 03:02:41"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-26 03:04:41"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-26 03:06:41"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-26 03:08:41"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-26 03:10:41"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-26 03:12:41"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-26 03:14:41"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-26 03:16:41"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-26 03:18:41"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-26 03:20:41"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-26 03:22:41"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-26 03:24:41"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-26 03:26:41"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-26 03:28:41"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-26 03:30:41"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-26 03:32:41"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-26 03:34:41"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-26 03:36:41"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-26 03:38:41"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-26 03:40:41"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-26 03:42:41"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-26 03:44:41"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-26 03:46:41"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-26 03:48:41"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-26 03:50:41"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-26 03:52:41"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-26 03:54:41"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-26 03:56:41"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-26 03:58:41"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-26 04:00:41"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-26 04:02:41"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-26 04:04:41"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-26 04:06:41"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-26 04:08:41"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-26 04:10:41"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-26 04:12:41"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-26 04:14:41"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-26 04:16:41"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-26 04:18:41"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-26 04:20:41"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-26 04:22:41"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-26 04:24:41"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-26 04:26:41"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-26 04:28:41"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-26 04:30:41"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-26 04:32:41"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-26 04:34:41"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-26 04:36:41"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-26 04:38:41"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-26 04:40:41"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-26 04:42:41"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-26 04:44:41"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-26 04:46:41"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-26 04:48:41"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-26 04:50:41"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-26 04:52:41"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-26 04:54:41"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-26 04:56:41"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-26 04:58:41"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-26 05:00:41"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-26 05:02:41"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-26 05:04:41"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-26 05:06:41"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-26 05:08:41"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-26 05:10:41"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-26 05:12:41"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-26 05:14:41"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-26 05:16:41"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-26 05:18:41"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-26 05:20:41"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-26 05:22:41"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-26 05:24:41"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-26 05:26:41"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-26 05:28:41"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-26 05:30:41"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-26 05:32:41"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-26 05:34:41"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-26 05:36:41"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-26 05:38:41"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-26 05:40:41"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-26 05:42:41"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-26 05:44:41"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-26 05:46:41"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-26 05:48:41"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-26 05:50:41"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-26 05:52:41"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-26 05:54:41"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-26 05:56:41"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-26 05:58:41"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-26 06:00:41"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-26 06:02:41"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-26 06:04:41"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-26 06:06:41"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-26 06:08:41"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-26 06:10:41"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-26 06:12:41"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-26 06:14:41"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-26 06:16:41"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-26 06:18:41"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-26 06:20:41"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-26 06:22:41"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-26 06:24:41"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-26 06:26:41"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-26 06:28:41"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-26 06:30:41"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-26 06:32:41"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-26 06:34:41"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-26 06:36:41"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-26 06:38:41"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-26 06:40:41"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-26 06:42:41"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-26 06:44:41"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-26 06:46:41"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-26 06:48:41"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-26 06:50:41"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-26 06:52:41"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-26 06:54:41"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-26 06:56:41"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-26 06:58:41"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-26 07:00:41"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-26 07:02:41"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-26 07:04:41"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-26 07:06:41"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-26 07:08:41"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-26 07:10:41"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-26 07:12:41"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-26 07:14:41"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-26 07:16:41"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-26 07:18:41"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-26 07:20:41"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-26 07:22:41"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-26 07:24:41"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-26 07:26:41"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-26 07:28:41"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-26 07:30:41"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-26 07:32:41"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-26 07:34:41"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-26 07:36:41"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-26 07:38:41"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-26 07:40:41"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-26 07:42:41"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-26 07:44:41"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-26 07:46:41"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-26 07:48:41"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-26 07:50:41"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-26 07:52:41"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-26 07:54:41"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-26 07:56:41"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-26 07:58:41"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-26 08:00:41"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-26 08:02:41"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-26 08:04:41"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-26 08:06:41"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-26 08:08:41"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-26 08:10:41"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-26 08:12:41"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-26 08:14:41"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-26 08:16:41"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-26 08:18:41"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-26 08:20:41"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-26 08:22:41"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-26 08:24:41"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-26 08:26:41"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-26 08:28:41"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-26 08:30:41"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-26 08:32:41"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-26 08:34:41"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-26 08:36:41"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-26 08:38:41"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-26 08:40:41"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-26 08:42:41"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-26 08:44:41"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-26 08:46:41"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-26 08:48:41"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-26 08:50:41"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-26 08:52:41"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-26 08:54:41"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-26 08:56:41"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-26 08:58:41"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-26 09:00:41"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-26 09:02:41"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-26 09:04:41"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-26 09:06:41"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-26 09:08:41"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-26 09:10:41"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-26 09:12:41"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-26 09:14:41"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-26 09:16:41"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-26 09:18:41"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-26 09:20:41"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-26 09:22:41"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-26 09:24:41"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-26 09:26:41"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-26 09:28:41"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-26 09:30:41"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-26 09:32:41"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-26 09:34:41"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-26 09:36:41"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-26 09:38:41"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-26 09:40:41"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-26 09:42:41"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-26 09:44:41"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-26 09:46:41"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-26 09:48:41"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-26 09:50:41"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-26 09:52:41"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-26 09:54:41"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-26 09:56:41"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-26 09:58:41"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-26 10:00:41"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-26 10:02:41"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-26 10:04:41"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-26 10:06:41"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-26 10:08:41"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-26 10:10:41"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-26 10:12:41"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-26 10:14:41"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-26 10:16:41"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-26 10:18:41"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-26 10:20:41"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-26 10:22:41"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-26 10:24:41"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-26 10:26:41"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-26 10:28:41"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-26 10:30:41"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-26 10:32:41"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-26 10:34:41"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-26 10:36:41"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-26 10:38:41"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-26 10:40:41"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-26 10:42:41"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-26 10:44:41"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-26 10:46:41"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-26 10:48:41"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-26 10:50:41"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-26 10:52:41"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-26 10:54:41"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-26 10:56:41"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-26 10:58:41"}
{"level":"info","master_url":"http://localhost:8080","msg":"启动AHOP Worker","time":"2025-07-26 10:59:05","version":"1.0.0","worker_name":"AHOP Worker on development"}
{"level":"info","msg":"使用配置的worker_id","time":"2025-07-26 10:59:05","worker_id":"test-worker-001"}
{"error":"向Master认证失败: 认证失败: Worker ID 'test-worker-001' 已经被其他实例使用（IP: ::1） (HTTP 200, Code 409)","level":"fatal","msg":"创建Worker失败","time":"2025-07-26 10:59:05"}
{"level":"info","master_url":"http://localhost:8080","msg":"启动AHOP Worker","time":"2025-07-26 10:59:27","version":"1.0.0","worker_name":"AHOP Worker on development"}
{"level":"info","msg":"使用配置的worker_id","time":"2025-07-26 10:59:27","worker_id":"test-worker-enhanced-001"}
{"level":"info","master_url":"http://localhost:8080","msg":"Worker认证成功，获得数据库和Redis凭据","time":"2025-07-26 10:59:27","worker_id":"test-worker-enhanced-001"}
{"executors":2,"level":"info","msg":"已注册任务执行器","time":"2025-07-26 10:59:27"}
{"concurrency":2,"level":"info","msg":"Worker启动成功","time":"2025-07-26 10:59:27","worker_id":"test-worker-enhanced-001"}
{"level":"info","msg":"Worker启动成功，正在等待任务...","time":"2025-07-26 10:59:27"}
{"level":"info","msg":"Git扫描队列消费者已启动","time":"2025-07-26 10:59:27"}
{"consumer_id":0,"level":"info","msg":"任务消费者启动","time":"2025-07-26 10:59:27","worker_id":"test-worker-enhanced-001"}
{"consumer_id":1,"level":"info","msg":"任务消费者启动","time":"2025-07-26 10:59:27","worker_id":"test-worker-enhanced-001"}
{"level":"info","msg":"Git同步订阅服务已启动","time":"2025-07-26 10:59:27"}
{"action":"scan","level":"info","msg":"收到Git扫描任务","repository_id":72,"task_id":"scan_1_72_1753498822","tenant_id":1,"time":"2025-07-26 11:00:22"}
{"level":"info","msg":"执行增强扫描（包含文件树）","time":"2025-07-26 11:00:22"}
{"id":72,"level":"info","msg":"开始增强扫描","name":"Test Public Git Repo","path":"/data/ahop/repos/1/72","time":"2025-07-26 11:00:22"}
{"level":"info","msg":"开始扫描文件树","path":"/data/ahop/repos/1/72","time":"2025-07-26 11:00:22"}
{"level":"info","msg":"文件树扫描完成","path":"/data/ahop/repos/1/72","time":"2025-07-26 11:00:22"}
{"level":"info","msg":"开始扫描survey文件","path":"/data/ahop/repos/1/72","time":"2025-07-26 11:00:22"}
{"count":0,"level":"info","msg":"survey文件扫描完成","time":"2025-07-26 11:00:22"}
{"level":"info","msg":"增强扫描完成","playbook_files":7,"surveys":0,"time":"2025-07-26 11:00:22","total_dirs":17,"total_files":124}
{"level":"info","msg":"增强扫描完成，结果已存入Redis","survey_count":0,"task_id":"scan_1_72_1753498822","time":"2025-07-26 11:00:22","total_files":124}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-26 11:00:41"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-26 11:01:27"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-26 11:02:41"}
{"level":"info","msg":"收到退出信号，正在停止Worker...","time":"2025-07-26 11:02:50"}
{"level":"info","msg":"开始停止Worker","time":"2025-07-26 11:02:50"}
{"level":"info","msg":"Git同步订阅服务收到退出信号","time":"2025-07-26 11:02:50"}
{"consumer_id":1,"level":"info","msg":"任务消费者收到退出信号","time":"2025-07-26 11:02:56","worker_id":"test-worker-001"}
{"consumer_id":0,"level":"info","msg":"任务消费者收到退出信号","time":"2025-07-26 11:02:56","worker_id":"test-worker-001"}
{"level":"info","msg":"所有任务已完成","time":"2025-07-26 11:02:56"}
{"level":"info","msg":"已通知Master断开连接","time":"2025-07-26 11:02:56"}
{"level":"info","msg":"Worker已停止","time":"2025-07-26 11:02:56"}
{"level":"info","msg":"Worker已优雅停止","time":"2025-07-26 11:02:56"}
{"level":"info","master_url":"http://localhost:8080","msg":"启动AHOP Worker","time":"2025-07-26 11:04:10","version":"1.0.0","worker_name":"AHOP Worker on development"}
{"level":"info","msg":"使用配置的worker_id","time":"2025-07-26 11:04:10","worker_id":"test-worker-enhanced-001"}
{"level":"info","master_url":"http://localhost:8080","msg":"Worker认证成功，获得数据库和Redis凭据","time":"2025-07-26 11:04:10","worker_id":"test-worker-enhanced-001"}
{"executors":2,"level":"info","msg":"已注册任务执行器","time":"2025-07-26 11:04:10"}
{"concurrency":2,"level":"info","msg":"Worker启动成功","time":"2025-07-26 11:04:10","worker_id":"test-worker-enhanced-001"}
{"level":"info","msg":"Worker启动成功，正在等待任务...","time":"2025-07-26 11:04:10"}
{"level":"info","msg":"Git扫描队列消费者已启动","time":"2025-07-26 11:04:10"}
{"consumer_id":0,"level":"info","msg":"任务消费者启动","time":"2025-07-26 11:04:10","worker_id":"test-worker-enhanced-001"}
{"consumer_id":1,"level":"info","msg":"任务消费者启动","time":"2025-07-26 11:04:10","worker_id":"test-worker-enhanced-001"}
{"level":"info","msg":"Git同步订阅服务已启动","time":"2025-07-26 11:04:10"}
{"action":"scan","level":"info","msg":"收到Git扫描任务","repository_id":72,"task_id":"scan_1_72_1753499062","tenant_id":1,"time":"2025-07-26 11:04:22"}
{"level":"info","msg":"执行增强扫描（包含文件树）","time":"2025-07-26 11:04:22"}
{"id":72,"level":"info","msg":"开始增强扫描","name":"Test Public Git Repo","path":"/data/ahop/repos/1/72","time":"2025-07-26 11:04:22"}
{"level":"info","msg":"开始扫描文件树","path":"/data/ahop/repos/1/72","time":"2025-07-26 11:04:22"}
{"level":"info","msg":"文件树扫描完成","path":"/data/ahop/repos/1/72","time":"2025-07-26 11:04:22"}
{"level":"info","msg":"开始扫描survey文件","path":"/data/ahop/repos/1/72","time":"2025-07-26 11:04:22"}
{"count":0,"level":"info","msg":"survey文件扫描完成","time":"2025-07-26 11:04:22"}
{"level":"info","msg":"增强扫描完成","playbook_files":7,"surveys":0,"time":"2025-07-26 11:04:22","total_dirs":17,"total_files":124}
{"level":"info","msg":"增强扫描完成，结果已存入Redis","survey_count":0,"task_id":"scan_1_72_1753499062","time":"2025-07-26 11:04:22","total_files":124}
{"action":"scan","level":"info","msg":"收到Git扫描任务","repository_id":72,"task_id":"scan_1_72_1753499108","tenant_id":1,"time":"2025-07-26 11:05:08"}
{"level":"info","msg":"执行增强扫描（包含文件树）","time":"2025-07-26 11:05:08"}
{"id":72,"level":"info","msg":"开始增强扫描","name":"Test Public Git Repo","path":"/data/ahop/repos/1/72","time":"2025-07-26 11:05:08"}
{"level":"info","msg":"开始扫描文件树","path":"/data/ahop/repos/1/72","time":"2025-07-26 11:05:08"}
{"level":"info","msg":"文件树扫描完成","path":"/data/ahop/repos/1/72","time":"2025-07-26 11:05:08"}
{"level":"info","msg":"开始扫描survey文件","path":"/data/ahop/repos/1/72","time":"2025-07-26 11:05:08"}
{"count":0,"level":"info","msg":"survey文件扫描完成","time":"2025-07-26 11:05:08"}
{"level":"info","msg":"增强扫描完成","playbook_files":7,"surveys":0,"time":"2025-07-26 11:05:08","total_dirs":17,"total_files":124}
{"level":"info","msg":"增强扫描完成，结果已存入Redis","survey_count":0,"task_id":"scan_1_72_1753499108","time":"2025-07-26 11:05:08","total_files":124}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-26 11:06:10"}
{"action":"scan","level":"info","msg":"收到Git扫描任务","repository_id":68,"task_id":"scan_1_68_1753499198","tenant_id":1,"time":"2025-07-26 11:06:38"}
{"level":"info","msg":"执行增强扫描（包含文件树）","time":"2025-07-26 11:06:38"}
{"id":68,"level":"info","msg":"开始增强扫描","name":"Private Repo","path":"/data/ahop/repos/1/68","time":"2025-07-26 11:06:38"}
{"level":"info","msg":"开始扫描文件树","path":"/data/ahop/repos/1/68","time":"2025-07-26 11:06:38"}
{"level":"info","msg":"文件树扫描完成","path":"/data/ahop/repos/1/68","time":"2025-07-26 11:06:38"}
{"level":"info","msg":"开始扫描survey文件","path":"/data/ahop/repos/1/68","time":"2025-07-26 11:06:38"}
{"level":"info","msg":"找到survey文件","name":"自动化运维脚本集","parameters":3,"path":"survey.yml","time":"2025-07-26 11:06:38"}
{"count":1,"level":"info","msg":"survey文件扫描完成","time":"2025-07-26 11:06:38"}
{"level":"info","msg":"增强扫描完成","playbook_files":9,"surveys":1,"time":"2025-07-26 11:06:38","total_dirs":9,"total_files":76}
{"level":"info","msg":"增强扫描完成，结果已存入Redis","survey_count":1,"task_id":"scan_1_68_1753499198","time":"2025-07-26 11:06:38","total_files":76}
{"action":"scan","level":"info","msg":"收到Git扫描任务","repository_id":68,"task_id":"scan_1_68_1753499247","tenant_id":1,"time":"2025-07-26 11:07:27"}
{"level":"info","msg":"执行增强扫描（包含文件树）","time":"2025-07-26 11:07:27"}
{"id":68,"level":"info","msg":"开始增强扫描","name":"Private Repo","path":"/data/ahop/repos/1/68","time":"2025-07-26 11:07:27"}
{"level":"info","msg":"开始扫描文件树","path":"/data/ahop/repos/1/68","time":"2025-07-26 11:07:27"}
{"level":"info","msg":"文件树扫描完成","path":"/data/ahop/repos/1/68","time":"2025-07-26 11:07:27"}
{"level":"info","msg":"开始扫描survey文件","path":"/data/ahop/repos/1/68","time":"2025-07-26 11:07:27"}
{"level":"info","msg":"找到survey文件","name":"自动化运维脚本集","parameters":3,"path":"survey.yml","time":"2025-07-26 11:07:27"}
{"count":1,"level":"info","msg":"survey文件扫描完成","time":"2025-07-26 11:07:27"}
{"level":"info","msg":"增强扫描完成","playbook_files":9,"surveys":1,"time":"2025-07-26 11:07:27","total_dirs":9,"total_files":76}
{"level":"info","msg":"增强扫描完成，结果已存入Redis","survey_count":1,"task_id":"scan_1_68_1753499247","time":"2025-07-26 11:07:27","total_files":76}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-26 11:08:10"}
{"action":"scan","level":"info","msg":"收到Git扫描任务","repository_id":68,"task_id":"scan_1_68_1753499343","tenant_id":1,"time":"2025-07-26 11:09:03"}
{"level":"info","msg":"执行增强扫描（包含文件树）","time":"2025-07-26 11:09:03"}
{"id":68,"level":"info","msg":"开始增强扫描","name":"Private Repo","path":"/data/ahop/repos/1/68","time":"2025-07-26 11:09:03"}
{"level":"info","msg":"开始扫描文件树","path":"/data/ahop/repos/1/68","time":"2025-07-26 11:09:03"}
{"level":"info","msg":"文件树扫描完成","path":"/data/ahop/repos/1/68","time":"2025-07-26 11:09:03"}
{"level":"info","msg":"开始扫描survey文件","path":"/data/ahop/repos/1/68","time":"2025-07-26 11:09:03"}
{"level":"info","msg":"找到survey文件","name":"自动化运维脚本集","parameters":3,"path":"survey.yml","time":"2025-07-26 11:09:03"}
{"count":1,"level":"info","msg":"survey文件扫描完成","time":"2025-07-26 11:09:03"}
{"level":"info","msg":"增强扫描完成","playbook_files":9,"surveys":1,"time":"2025-07-26 11:09:03","total_dirs":9,"total_files":76}
{"level":"info","msg":"增强扫描完成，结果已存入Redis","survey_count":1,"task_id":"scan_1_68_1753499343","time":"2025-07-26 11:09:03","total_files":76}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-26 11:10:10"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-26 11:12:10"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-26 11:14:10"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-26 11:16:10"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-26 11:18:10"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-26 11:20:10"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-26 11:22:10"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-26 11:24:10"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-26 11:26:10"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-26 11:28:10"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-26 11:30:10"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-26 11:32:10"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-26 11:34:10"}
{"level":"info","msg":"收到退出信号，正在停止Worker...","time":"2025-07-26 11:34:16"}
{"level":"info","msg":"开始停止Worker","time":"2025-07-26 11:34:16"}
{"level":"info","msg":"Git同步订阅服务收到退出信号","time":"2025-07-26 11:34:16"}
{"consumer_id":1,"level":"info","msg":"任务消费者收到退出信号","time":"2025-07-26 11:34:19","worker_id":"test-worker-enhanced-001"}
{"consumer_id":0,"level":"info","msg":"任务消费者收到退出信号","time":"2025-07-26 11:34:19","worker_id":"test-worker-enhanced-001"}
{"level":"info","msg":"所有任务已完成","time":"2025-07-26 11:34:19"}
{"level":"info","msg":"已通知Master断开连接","time":"2025-07-26 11:34:19"}
{"level":"info","msg":"Worker已停止","time":"2025-07-26 11:34:19"}
{"level":"info","msg":"Worker已优雅停止","time":"2025-07-26 11:34:19"}
{"level":"info","master_url":"http://localhost:8080","msg":"启动AHOP Worker","time":"2025-07-26 11:34:25","version":"1.0.0","worker_name":"AHOP Worker on development"}
{"level":"info","msg":"使用配置的worker_id","time":"2025-07-26 11:34:25","worker_id":"test-worker-enhanced-001"}
{"level":"info","master_url":"http://localhost:8080","msg":"Worker认证成功，获得数据库和Redis凭据","time":"2025-07-26 11:34:25","worker_id":"test-worker-enhanced-001"}
{"executors":2,"level":"info","msg":"已注册任务执行器","time":"2025-07-26 11:34:25"}
{"concurrency":2,"level":"info","msg":"Worker启动成功","time":"2025-07-26 11:34:25","worker_id":"test-worker-enhanced-001"}
{"level":"info","msg":"Worker启动成功，正在等待任务...","time":"2025-07-26 11:34:25"}
{"consumer_id":0,"level":"info","msg":"任务消费者启动","time":"2025-07-26 11:34:25","worker_id":"test-worker-enhanced-001"}
{"consumer_id":1,"level":"info","msg":"任务消费者启动","time":"2025-07-26 11:34:25","worker_id":"test-worker-enhanced-001"}
{"level":"info","msg":"Git同步订阅服务已启动","time":"2025-07-26 11:34:25"}
{"level":"info","msg":"Git扫描队列消费者已启动","time":"2025-07-26 11:34:25"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-26 11:36:25"}
{"action":"scan","level":"info","msg":"收到Git扫描任务","repository_id":68,"task_id":"scan_1_68_1753501009","tenant_id":1,"time":"2025-07-26 11:36:49"}
{"level":"info","msg":"执行增强扫描（包含文件树）","time":"2025-07-26 11:36:49"}
{"id":68,"level":"info","msg":"开始增强扫描","name":"Private Repo","path":"/data/ahop/repos/1/68","time":"2025-07-26 11:36:49"}
{"level":"info","msg":"开始扫描相关文件","path":"/data/ahop/repos/1/68","time":"2025-07-26 11:36:49"}
{"level":"info","msg":"相关文件扫描完成","path":"/data/ahop/repos/1/68","time":"2025-07-26 11:36:49"}
{"level":"info","msg":"开始扫描survey文件","path":"/data/ahop/repos/1/68","time":"2025-07-26 11:36:49"}
{"level":"info","msg":"找到survey文件","name":"自动化运维脚本集","parameters":3,"path":"survey.yml","time":"2025-07-26 11:36:49"}
{"count":1,"level":"info","msg":"survey文件扫描完成","time":"2025-07-26 11:36:49"}
{"ansible_files":8,"level":"info","msg":"增强扫描完成","shell_files":10,"surveys":1,"template_files":0,"time":"2025-07-26 11:36:49","total_files":19}
{"level":"info","msg":"增强扫描完成，结果已存入Redis","survey_count":1,"task_id":"scan_1_68_1753501009","time":"2025-07-26 11:36:49","total_files":19}
{"action":"scan","level":"info","msg":"收到Git扫描任务","repository_id":68,"task_id":"scan_1_68_1753501056","tenant_id":1,"time":"2025-07-26 11:37:36"}
{"level":"info","msg":"执行增强扫描（包含文件树）","time":"2025-07-26 11:37:36"}
{"id":68,"level":"info","msg":"开始增强扫描","name":"Private Repo","path":"/data/ahop/repos/1/68","time":"2025-07-26 11:37:36"}
{"level":"info","msg":"开始扫描相关文件","path":"/data/ahop/repos/1/68","time":"2025-07-26 11:37:36"}
{"level":"info","msg":"相关文件扫描完成","path":"/data/ahop/repos/1/68","time":"2025-07-26 11:37:36"}
{"level":"info","msg":"开始扫描survey文件","path":"/data/ahop/repos/1/68","time":"2025-07-26 11:37:36"}
{"level":"info","msg":"找到survey文件","name":"自动化运维脚本集","parameters":3,"path":"survey.yml","time":"2025-07-26 11:37:36"}
{"count":1,"level":"info","msg":"survey文件扫描完成","time":"2025-07-26 11:37:36"}
{"ansible_files":8,"level":"info","msg":"增强扫描完成","shell_files":10,"surveys":1,"template_files":0,"time":"2025-07-26 11:37:36","total_files":19}
{"level":"info","msg":"增强扫描完成，结果已存入Redis","survey_count":1,"task_id":"scan_1_68_1753501056","time":"2025-07-26 11:37:36","total_files":19}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-26 11:38:25"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-26 11:40:25"}
{"level":"info","msg":"收到退出信号，正在停止Worker...","time":"2025-07-26 11:41:17"}
{"level":"info","msg":"开始停止Worker","time":"2025-07-26 11:41:17"}
{"level":"info","msg":"Git同步订阅服务收到退出信号","time":"2025-07-26 11:41:17"}
{"consumer_id":0,"level":"info","msg":"任务消费者收到退出信号","time":"2025-07-26 11:41:19","worker_id":"test-worker-enhanced-001"}
{"consumer_id":1,"level":"info","msg":"任务消费者收到退出信号","time":"2025-07-26 11:41:19","worker_id":"test-worker-enhanced-001"}
{"level":"info","msg":"所有任务已完成","time":"2025-07-26 11:41:19"}
{"level":"info","msg":"已通知Master断开连接","time":"2025-07-26 11:41:19"}
{"level":"info","msg":"Worker已停止","time":"2025-07-26 11:41:19"}
{"level":"info","msg":"Worker已优雅停止","time":"2025-07-26 11:41:19"}
{"level":"info","master_url":"http://localhost:8080","msg":"启动AHOP Worker","time":"2025-07-26 11:44:36","version":"1.0.0","worker_name":"AHOP Worker on development"}
{"level":"info","msg":"使用配置的worker_id","time":"2025-07-26 11:44:36","worker_id":"test-worker-enhanced-001"}
{"level":"info","master_url":"http://localhost:8080","msg":"Worker认证成功，获得数据库和Redis凭据","time":"2025-07-26 11:44:36","worker_id":"test-worker-enhanced-001"}
{"executors":2,"level":"info","msg":"已注册任务执行器","time":"2025-07-26 11:44:36"}
{"concurrency":2,"level":"info","msg":"Worker启动成功","time":"2025-07-26 11:44:36","worker_id":"test-worker-enhanced-001"}
{"level":"info","msg":"Worker启动成功，正在等待任务...","time":"2025-07-26 11:44:36"}
{"level":"info","msg":"Git扫描队列消费者已启动","time":"2025-07-26 11:44:36"}
{"consumer_id":1,"level":"info","msg":"任务消费者启动","time":"2025-07-26 11:44:36","worker_id":"test-worker-enhanced-001"}
{"action":"scan","level":"info","msg":"收到Git扫描任务","repository_id":68,"task_id":"scan_1_68_1753501401","tenant_id":1,"time":"2025-07-26 11:44:36"}
{"level":"info","msg":"执行增强扫描（包含文件树）","time":"2025-07-26 11:44:36"}
{"id":68,"level":"info","msg":"开始增强扫描","name":"Private Repo","path":"/data/ahop/repos/1/68","time":"2025-07-26 11:44:36"}
{"level":"info","msg":"开始扫描相关文件","path":"/data/ahop/repos/1/68","time":"2025-07-26 11:44:36"}
{"file_type":"shell","id":"node_2","level":"debug","msg":"添加文件节点","name":"install_ansible.sh","time":"2025-07-26 11:44:36"}
{"file_type":"ansible","id":"node_4","level":"debug","msg":"添加文件节点","name":"cleanup_disk.yml","time":"2025-07-26 11:44:36"}
{"file_type":"ansible","id":"node_5","level":"debug","msg":"添加文件节点","name":"fix_nginx_config.yml","time":"2025-07-26 11:44:36"}
{"consumer_id":0,"level":"info","msg":"任务消费者启动","time":"2025-07-26 11:44:36","worker_id":"test-worker-enhanced-001"}
{"file_type":"ansible","id":"node_6","level":"debug","msg":"添加文件节点","name":"nginx_port_config.yml","time":"2025-07-26 11:44:36"}
{"file_type":"ansible","id":"node_7","level":"debug","msg":"添加文件节点","name":"restart_firewall.yml","time":"2025-07-26 11:44:36"}
{"file_type":"ansible","id":"node_8","level":"debug","msg":"添加文件节点","name":"restart_httpd.yml","time":"2025-07-26 11:44:36"}
{"file_type":"ansible","id":"node_9","level":"debug","msg":"添加文件节点","name":"restart_mysql.yml","time":"2025-07-26 11:44:36"}
{"file_type":"ansible","id":"node_10","level":"debug","msg":"添加文件节点","name":"restart_zabbix_agent.yml","time":"2025-07-26 11:44:36"}
{"file_type":"shell","id":"node_11","level":"debug","msg":"添加文件节点","name":"set_environment.sh","time":"2025-07-26 11:44:36"}
{"file_type":"shell","id":"node_12","level":"debug","msg":"添加文件节点","name":"setup_itop.sh","time":"2025-07-26 11:44:36"}
{"file_type":"shell","id":"node_13","level":"debug","msg":"添加文件节点","name":"setup_linux.sh","time":"2025-07-26 11:44:36"}
{"file_type":"shell","id":"node_14","level":"debug","msg":"添加文件节点","name":"setup_services.sh","time":"2025-07-26 11:44:36"}
{"file_type":"shell","id":"node_15","level":"debug","msg":"添加文件节点","name":"start.sh","time":"2025-07-26 11:44:36"}
{"file_type":"shell","id":"node_16","level":"debug","msg":"添加文件节点","name":"start_dev.sh","time":"2025-07-26 11:44:36"}
{"file_type":"shell","id":"node_17","level":"debug","msg":"添加文件节点","name":"start_platform.sh","time":"2025-07-26 11:44:36"}
{"file_type":"shell","id":"node_18","level":"debug","msg":"添加文件节点","name":"start_prod.sh","time":"2025-07-26 11:44:36"}
{"file_type":"survey","id":"node_23","level":"debug","msg":"添加文件节点","name":"survey.yml","time":"2025-07-26 11:44:36"}
{"file_type":"ansible","id":"node_25","level":"debug","msg":"添加文件节点","name":"cleanup_disk.yml","time":"2025-07-26 11:44:36"}
{"level":"info","msg":"Git同步订阅服务已启动","time":"2025-07-26 11:44:36"}
{"file_type":"shell","id":"node_28","level":"debug","msg":"添加文件节点","name":"test_healing.sh","time":"2025-07-26 11:44:36"}
{"level":"debug","msg":"根节点信息","root_id":"node_1","root_name":"68","root_type":"directory","time":"2025-07-26 11:44:36"}
{"level":"info","msg":"相关文件扫描完成","path":"/data/ahop/repos/1/68","time":"2025-07-26 11:44:36"}
{"level":"info","msg":"开始扫描survey文件","path":"/data/ahop/repos/1/68","time":"2025-07-26 11:44:36"}
{"level":"info","msg":"找到survey文件","name":"自动化运维脚本集","parameters":3,"path":"survey.yml","time":"2025-07-26 11:44:36"}
{"count":1,"level":"info","msg":"survey文件扫描完成","time":"2025-07-26 11:44:36"}
{"ansible_files":8,"level":"info","msg":"增强扫描完成","shell_files":10,"surveys":1,"template_files":0,"time":"2025-07-26 11:44:36","total_files":19}
{"children_count":13,"file_tree_id":"node_1","file_tree_name":"68","file_tree_type":"directory","level":"debug","msg":"增强扫描结果文件树信息","time":"2025-07-26 11:44:36"}
{"first_child_file_type":"shell","first_child_id":"node_2","first_child_name":"install_ansible.sh","level":"debug","msg":"第一个子节点信息","time":"2025-07-26 11:44:36"}
{"data_length":3720,"level":"debug","msg":"序列化成功","time":"2025-07-26 11:44:36"}
{"level":"info","msg":"增强扫描完成，结果已存入Redis","survey_count":1,"task_id":"scan_1_68_1753501401","time":"2025-07-26 11:44:36","total_files":19}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-26 11:46:36"}
{"action":"scan","level":"info","msg":"收到Git扫描任务","repository_id":68,"task_id":"scan_1_68_1753501609","tenant_id":1,"time":"2025-07-26 11:46:49"}
{"level":"info","msg":"执行增强扫描（包含文件树）","time":"2025-07-26 11:46:49"}
{"id":68,"level":"info","msg":"开始增强扫描","name":"Private Repo","path":"/data/ahop/repos/1/68","time":"2025-07-26 11:46:49"}
{"level":"info","msg":"开始扫描相关文件","path":"/data/ahop/repos/1/68","time":"2025-07-26 11:46:49"}
{"file_type":"shell","id":"node_2","level":"debug","msg":"添加文件节点","name":"install_ansible.sh","time":"2025-07-26 11:46:49"}
{"file_type":"ansible","id":"node_4","level":"debug","msg":"添加文件节点","name":"cleanup_disk.yml","time":"2025-07-26 11:46:49"}
{"file_type":"ansible","id":"node_5","level":"debug","msg":"添加文件节点","name":"fix_nginx_config.yml","time":"2025-07-26 11:46:49"}
{"file_type":"ansible","id":"node_6","level":"debug","msg":"添加文件节点","name":"nginx_port_config.yml","time":"2025-07-26 11:46:49"}
{"file_type":"ansible","id":"node_7","level":"debug","msg":"添加文件节点","name":"restart_firewall.yml","time":"2025-07-26 11:46:49"}
{"file_type":"ansible","id":"node_8","level":"debug","msg":"添加文件节点","name":"restart_httpd.yml","time":"2025-07-26 11:46:49"}
{"file_type":"ansible","id":"node_9","level":"debug","msg":"添加文件节点","name":"restart_mysql.yml","time":"2025-07-26 11:46:49"}
{"file_type":"ansible","id":"node_10","level":"debug","msg":"添加文件节点","name":"restart_zabbix_agent.yml","time":"2025-07-26 11:46:49"}
{"file_type":"shell","id":"node_11","level":"debug","msg":"添加文件节点","name":"set_environment.sh","time":"2025-07-26 11:46:49"}
{"file_type":"shell","id":"node_12","level":"debug","msg":"添加文件节点","name":"setup_itop.sh","time":"2025-07-26 11:46:49"}
{"file_type":"shell","id":"node_13","level":"debug","msg":"添加文件节点","name":"setup_linux.sh","time":"2025-07-26 11:46:49"}
{"file_type":"shell","id":"node_14","level":"debug","msg":"添加文件节点","name":"setup_services.sh","time":"2025-07-26 11:46:49"}
{"file_type":"shell","id":"node_15","level":"debug","msg":"添加文件节点","name":"start.sh","time":"2025-07-26 11:46:49"}
{"file_type":"shell","id":"node_16","level":"debug","msg":"添加文件节点","name":"start_dev.sh","time":"2025-07-26 11:46:49"}
{"file_type":"shell","id":"node_17","level":"debug","msg":"添加文件节点","name":"start_platform.sh","time":"2025-07-26 11:46:49"}
{"file_type":"shell","id":"node_18","level":"debug","msg":"添加文件节点","name":"start_prod.sh","time":"2025-07-26 11:46:49"}
{"file_type":"survey","id":"node_23","level":"debug","msg":"添加文件节点","name":"survey.yml","time":"2025-07-26 11:46:49"}
{"file_type":"ansible","id":"node_25","level":"debug","msg":"添加文件节点","name":"cleanup_disk.yml","time":"2025-07-26 11:46:49"}
{"file_type":"shell","id":"node_28","level":"debug","msg":"添加文件节点","name":"test_healing.sh","time":"2025-07-26 11:46:49"}
{"level":"debug","msg":"根节点信息","root_id":"node_1","root_name":"68","root_type":"directory","time":"2025-07-26 11:46:49"}
{"level":"info","msg":"相关文件扫描完成","path":"/data/ahop/repos/1/68","time":"2025-07-26 11:46:49"}
{"level":"info","msg":"开始扫描survey文件","path":"/data/ahop/repos/1/68","time":"2025-07-26 11:46:49"}
{"level":"info","msg":"找到survey文件","name":"自动化运维脚本集","parameters":3,"path":"survey.yml","time":"2025-07-26 11:46:49"}
{"count":1,"level":"info","msg":"survey文件扫描完成","time":"2025-07-26 11:46:49"}
{"ansible_files":8,"level":"info","msg":"增强扫描完成","shell_files":10,"surveys":1,"template_files":0,"time":"2025-07-26 11:46:49","total_files":19}
{"children_count":13,"file_tree_id":"node_1","file_tree_name":"68","file_tree_type":"directory","level":"debug","msg":"增强扫描结果文件树信息","time":"2025-07-26 11:46:49"}
{"first_child_file_type":"shell","first_child_id":"node_2","first_child_name":"install_ansible.sh","level":"debug","msg":"第一个子节点信息","time":"2025-07-26 11:46:49"}
{"data_length":3720,"level":"debug","msg":"序列化成功","time":"2025-07-26 11:46:49"}
{"level":"info","msg":"增强扫描完成，结果已存入Redis","survey_count":1,"task_id":"scan_1_68_1753501609","time":"2025-07-26 11:46:49","total_files":19}
{"level":"info","master_url":"http://localhost:8080","msg":"启动AHOP Worker","time":"2025-07-26 11:48:53","version":"1.0.0","worker_name":"AHOP Worker on development"}
{"level":"info","msg":"使用配置的worker_id","time":"2025-07-26 11:48:53","worker_id":"test-worker-enhanced-001"}
{"level":"info","master_url":"http://localhost:8080","msg":"Worker认证成功，获得数据库和Redis凭据","time":"2025-07-26 11:48:53","worker_id":"test-worker-enhanced-001"}
{"executors":2,"level":"info","msg":"已注册任务执行器","time":"2025-07-26 11:48:53"}
{"concurrency":2,"level":"info","msg":"Worker启动成功","time":"2025-07-26 11:48:53","worker_id":"test-worker-enhanced-001"}
{"level":"info","msg":"Worker启动成功，正在等待任务...","time":"2025-07-26 11:48:53"}
{"level":"info","msg":"Git扫描队列消费者已启动","time":"2025-07-26 11:48:53"}
{"consumer_id":1,"level":"info","msg":"任务消费者启动","time":"2025-07-26 11:48:53","worker_id":"test-worker-enhanced-001"}
{"consumer_id":0,"level":"info","msg":"任务消费者启动","time":"2025-07-26 11:48:53","worker_id":"test-worker-enhanced-001"}
{"level":"info","msg":"Git同步订阅服务已启动","time":"2025-07-26 11:48:53"}
{"action":"scan","level":"info","msg":"收到Git扫描任务","repository_id":68,"task_id":"scan_1_68_1753501766","tenant_id":1,"time":"2025-07-26 11:49:26"}
{"level":"info","msg":"执行增强扫描（包含文件树）","time":"2025-07-26 11:49:26"}
{"id":68,"level":"info","msg":"开始增强扫描","name":"Private Repo","path":"/data/ahop/repos/1/68","time":"2025-07-26 11:49:26"}
{"level":"info","msg":"开始扫描相关文件","path":"/data/ahop/repos/1/68","time":"2025-07-26 11:49:26"}
{"file_type":"shell","id":"node_2","level":"debug","msg":"添加文件节点","name":"install_ansible.sh","time":"2025-07-26 11:49:26"}
{"file_type":"ansible","id":"node_4","level":"debug","msg":"添加文件节点","name":"cleanup_disk.yml","time":"2025-07-26 11:49:26"}
{"file_type":"ansible","id":"node_5","level":"debug","msg":"添加文件节点","name":"fix_nginx_config.yml","time":"2025-07-26 11:49:26"}
{"file_type":"ansible","id":"node_6","level":"debug","msg":"添加文件节点","name":"nginx_port_config.yml","time":"2025-07-26 11:49:26"}
{"file_type":"ansible","id":"node_7","level":"debug","msg":"添加文件节点","name":"restart_firewall.yml","time":"2025-07-26 11:49:26"}
{"file_type":"ansible","id":"node_8","level":"debug","msg":"添加文件节点","name":"restart_httpd.yml","time":"2025-07-26 11:49:26"}
{"file_type":"ansible","id":"node_9","level":"debug","msg":"添加文件节点","name":"restart_mysql.yml","time":"2025-07-26 11:49:26"}
{"file_type":"ansible","id":"node_10","level":"debug","msg":"添加文件节点","name":"restart_zabbix_agent.yml","time":"2025-07-26 11:49:26"}
{"file_type":"shell","id":"node_11","level":"debug","msg":"添加文件节点","name":"set_environment.sh","time":"2025-07-26 11:49:26"}
{"file_type":"shell","id":"node_12","level":"debug","msg":"添加文件节点","name":"setup_itop.sh","time":"2025-07-26 11:49:26"}
{"file_type":"shell","id":"node_13","level":"debug","msg":"添加文件节点","name":"setup_linux.sh","time":"2025-07-26 11:49:26"}
{"file_type":"shell","id":"node_14","level":"debug","msg":"添加文件节点","name":"setup_services.sh","time":"2025-07-26 11:49:26"}
{"file_type":"shell","id":"node_15","level":"debug","msg":"添加文件节点","name":"start.sh","time":"2025-07-26 11:49:26"}
{"file_type":"shell","id":"node_16","level":"debug","msg":"添加文件节点","name":"start_dev.sh","time":"2025-07-26 11:49:26"}
{"file_type":"shell","id":"node_17","level":"debug","msg":"添加文件节点","name":"start_platform.sh","time":"2025-07-26 11:49:26"}
{"file_type":"shell","id":"node_18","level":"debug","msg":"添加文件节点","name":"start_prod.sh","time":"2025-07-26 11:49:26"}
{"file_type":"survey","id":"node_23","level":"debug","msg":"添加文件节点","name":"survey.yml","time":"2025-07-26 11:49:26"}
{"file_type":"ansible","id":"node_25","level":"debug","msg":"添加文件节点","name":"cleanup_disk.yml","time":"2025-07-26 11:49:26"}
{"file_type":"shell","id":"node_28","level":"debug","msg":"添加文件节点","name":"test_healing.sh","time":"2025-07-26 11:49:26"}
{"level":"debug","msg":"根节点信息","root_id":"node_1","root_name":"68","root_type":"directory","time":"2025-07-26 11:49:26"}
{"level":"info","msg":"相关文件扫描完成","path":"/data/ahop/repos/1/68","time":"2025-07-26 11:49:26"}
{"level":"info","msg":"开始扫描survey文件","path":"/data/ahop/repos/1/68","time":"2025-07-26 11:49:26"}
{"level":"info","msg":"找到survey文件","name":"自动化运维脚本集","parameters":3,"path":"survey.yml","time":"2025-07-26 11:49:26"}
{"count":1,"level":"info","msg":"survey文件扫描完成","time":"2025-07-26 11:49:26"}
{"ansible_files":8,"level":"info","msg":"增强扫描完成","shell_files":10,"surveys":1,"template_files":0,"time":"2025-07-26 11:49:26","total_files":19}
{"children_count":13,"file_tree_id":"node_1","file_tree_name":"68","file_tree_type":"directory","level":"debug","msg":"增强扫描结果文件树信息","time":"2025-07-26 11:49:26"}
{"first_child_file_type":"shell","first_child_id":"node_2","first_child_name":"install_ansible.sh","level":"debug","msg":"第一个子节点信息","time":"2025-07-26 11:49:26"}
{"data_length":3720,"level":"debug","msg":"序列化成功","time":"2025-07-26 11:49:26"}
{"level":"info","msg":"增强扫描完成，结果已存入Redis","survey_count":1,"task_id":"scan_1_68_1753501766","time":"2025-07-26 11:49:26","total_files":19}
{"level":"info","msg":"收到退出信号，正在停止Worker...","time":"2025-07-26 11:50:51"}
{"level":"info","msg":"开始停止Worker","time":"2025-07-26 11:50:51"}
{"level":"info","msg":"Git同步订阅服务收到退出信号","time":"2025-07-26 11:50:51"}
{"consumer_id":0,"level":"info","msg":"任务消费者收到退出信号","time":"2025-07-26 11:50:54","worker_id":"test-worker-enhanced-001"}
{"consumer_id":1,"level":"info","msg":"任务消费者收到退出信号","time":"2025-07-26 11:50:54","worker_id":"test-worker-enhanced-001"}
{"level":"info","msg":"所有任务已完成","time":"2025-07-26 11:50:54"}
{"level":"info","msg":"已通知Master断开连接","time":"2025-07-26 11:50:54"}
{"level":"info","msg":"Worker已停止","time":"2025-07-26 11:50:54"}
{"level":"info","msg":"Worker已优雅停止","time":"2025-07-26 11:50:54"}
{"level":"info","master_url":"http://localhost:8080","msg":"启动AHOP Worker","time":"2025-07-26 11:52:33","version":"1.0.0","worker_name":"AHOP Worker on development"}
{"level":"info","msg":"使用配置的worker_id","time":"2025-07-26 11:52:33","worker_id":"test-worker-enhanced-001"}
{"level":"info","master_url":"http://localhost:8080","msg":"Worker认证成功，获得数据库和Redis凭据","time":"2025-07-26 11:52:33","worker_id":"test-worker-enhanced-001"}
{"executors":2,"level":"info","msg":"已注册任务执行器","time":"2025-07-26 11:52:33"}
{"concurrency":2,"level":"info","msg":"Worker启动成功","time":"2025-07-26 11:52:33","worker_id":"test-worker-enhanced-001"}
{"level":"info","msg":"Worker启动成功，正在等待任务...","time":"2025-07-26 11:52:33"}
{"level":"info","msg":"Git扫描队列消费者已启动","time":"2025-07-26 11:52:33"}
{"consumer_id":0,"level":"info","msg":"任务消费者启动","time":"2025-07-26 11:52:33","worker_id":"test-worker-enhanced-001"}
{"consumer_id":1,"level":"info","msg":"任务消费者启动","time":"2025-07-26 11:52:33","worker_id":"test-worker-enhanced-001"}
{"level":"info","msg":"Git同步订阅服务已启动","time":"2025-07-26 11:52:33"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-26 11:54:33"}
{"action":"scan","level":"info","msg":"收到Git扫描任务","repository_id":68,"task_id":"scan_1_68_1753502099","tenant_id":1,"time":"2025-07-26 11:54:59"}
{"level":"info","msg":"执行增强扫描（包含文件树）","time":"2025-07-26 11:54:59"}
{"id":68,"level":"info","msg":"开始增强扫描","name":"Private Repo","path":"/data/ahop/repos/1/68","time":"2025-07-26 11:54:59"}
{"level":"info","msg":"开始扫描相关文件","path":"/data/ahop/repos/1/68","time":"2025-07-26 11:54:59"}
{"file_type":"shell","id":"node_2","level":"debug","msg":"添加文件节点","name":"install_ansible.sh","time":"2025-07-26 11:54:59"}
{"file_type":"ansible","id":"node_4","level":"debug","msg":"添加文件节点","name":"cleanup_disk.yml","time":"2025-07-26 11:54:59"}
{"file_type":"ansible","id":"node_5","level":"debug","msg":"添加文件节点","name":"fix_nginx_config.yml","time":"2025-07-26 11:54:59"}
{"file_type":"ansible","id":"node_6","level":"debug","msg":"添加文件节点","name":"nginx_port_config.yml","time":"2025-07-26 11:54:59"}
{"file_type":"ansible","id":"node_7","level":"debug","msg":"添加文件节点","name":"restart_firewall.yml","time":"2025-07-26 11:54:59"}
{"file_type":"ansible","id":"node_8","level":"debug","msg":"添加文件节点","name":"restart_httpd.yml","time":"2025-07-26 11:54:59"}
{"file_type":"ansible","id":"node_9","level":"debug","msg":"添加文件节点","name":"restart_mysql.yml","time":"2025-07-26 11:54:59"}
{"file_type":"ansible","id":"node_10","level":"debug","msg":"添加文件节点","name":"restart_zabbix_agent.yml","time":"2025-07-26 11:54:59"}
{"file_type":"shell","id":"node_11","level":"debug","msg":"添加文件节点","name":"set_environment.sh","time":"2025-07-26 11:54:59"}
{"file_type":"shell","id":"node_12","level":"debug","msg":"添加文件节点","name":"setup_itop.sh","time":"2025-07-26 11:54:59"}
{"file_type":"shell","id":"node_13","level":"debug","msg":"添加文件节点","name":"setup_linux.sh","time":"2025-07-26 11:54:59"}
{"file_type":"shell","id":"node_14","level":"debug","msg":"添加文件节点","name":"setup_services.sh","time":"2025-07-26 11:54:59"}
{"file_type":"shell","id":"node_15","level":"debug","msg":"添加文件节点","name":"start.sh","time":"2025-07-26 11:54:59"}
{"file_type":"shell","id":"node_16","level":"debug","msg":"添加文件节点","name":"start_dev.sh","time":"2025-07-26 11:54:59"}
{"file_type":"shell","id":"node_17","level":"debug","msg":"添加文件节点","name":"start_platform.sh","time":"2025-07-26 11:54:59"}
{"file_type":"shell","id":"node_18","level":"debug","msg":"添加文件节点","name":"start_prod.sh","time":"2025-07-26 11:54:59"}
{"file_type":"survey","id":"node_23","level":"debug","msg":"添加文件节点","name":"survey.yml","time":"2025-07-26 11:54:59"}
{"file_type":"ansible","id":"node_25","level":"debug","msg":"添加文件节点","name":"cleanup_disk.yml","time":"2025-07-26 11:54:59"}
{"file_type":"shell","id":"node_28","level":"debug","msg":"添加文件节点","name":"test_healing.sh","time":"2025-07-26 11:54:59"}
{"level":"debug","msg":"根节点信息","root_id":"node_1","root_name":"68","root_type":"directory","time":"2025-07-26 11:54:59"}
{"level":"info","msg":"相关文件扫描完成","path":"/data/ahop/repos/1/68","time":"2025-07-26 11:54:59"}
{"level":"info","msg":"开始扫描survey文件","path":"/data/ahop/repos/1/68","time":"2025-07-26 11:54:59"}
{"level":"info","msg":"找到survey文件","name":"自动化运维脚本集","parameters":3,"path":"survey.yml","time":"2025-07-26 11:54:59"}
{"count":1,"level":"info","msg":"survey文件扫描完成","time":"2025-07-26 11:54:59"}
{"ansible_files":8,"level":"info","msg":"增强扫描完成","shell_files":10,"surveys":1,"template_files":0,"time":"2025-07-26 11:54:59","total_files":19}
{"children_count":13,"file_tree_id":"node_1","file_tree_name":"68","file_tree_type":"directory","level":"debug","msg":"增强扫描结果文件树信息","time":"2025-07-26 11:54:59"}
{"first_child_file_type":"shell","first_child_id":"node_2","first_child_name":"install_ansible.sh","level":"debug","msg":"第一个子节点信息","time":"2025-07-26 11:54:59"}
{"data_length":3720,"level":"debug","msg":"序列化成功","time":"2025-07-26 11:54:59"}
{"level":"info","msg":"增强扫描完成，结果已存入Redis","survey_count":1,"task_id":"scan_1_68_1753502099","time":"2025-07-26 11:54:59","total_files":19}
{"action":"scan","level":"info","msg":"收到Git扫描任务","repository_id":68,"task_id":"scan_1_68_1753502168","tenant_id":1,"time":"2025-07-26 11:56:08"}
{"level":"info","msg":"执行增强扫描（包含文件树）","time":"2025-07-26 11:56:08"}
{"id":68,"level":"info","msg":"开始增强扫描","name":"Private Repo","path":"/data/ahop/repos/1/68","time":"2025-07-26 11:56:08"}
{"level":"info","msg":"开始扫描相关文件","path":"/data/ahop/repos/1/68","time":"2025-07-26 11:56:08"}
{"file_type":"shell","id":"node_2","level":"debug","msg":"添加文件节点","name":"install_ansible.sh","time":"2025-07-26 11:56:08"}
{"file_type":"ansible","id":"node_4","level":"debug","msg":"添加文件节点","name":"cleanup_disk.yml","time":"2025-07-26 11:56:08"}
{"file_type":"ansible","id":"node_5","level":"debug","msg":"添加文件节点","name":"fix_nginx_config.yml","time":"2025-07-26 11:56:08"}
{"file_type":"ansible","id":"node_6","level":"debug","msg":"添加文件节点","name":"nginx_port_config.yml","time":"2025-07-26 11:56:08"}
{"file_type":"ansible","id":"node_7","level":"debug","msg":"添加文件节点","name":"restart_firewall.yml","time":"2025-07-26 11:56:08"}
{"file_type":"ansible","id":"node_8","level":"debug","msg":"添加文件节点","name":"restart_httpd.yml","time":"2025-07-26 11:56:08"}
{"file_type":"ansible","id":"node_9","level":"debug","msg":"添加文件节点","name":"restart_mysql.yml","time":"2025-07-26 11:56:08"}
{"file_type":"ansible","id":"node_10","level":"debug","msg":"添加文件节点","name":"restart_zabbix_agent.yml","time":"2025-07-26 11:56:08"}
{"file_type":"shell","id":"node_11","level":"debug","msg":"添加文件节点","name":"set_environment.sh","time":"2025-07-26 11:56:08"}
{"file_type":"shell","id":"node_12","level":"debug","msg":"添加文件节点","name":"setup_itop.sh","time":"2025-07-26 11:56:08"}
{"file_type":"shell","id":"node_13","level":"debug","msg":"添加文件节点","name":"setup_linux.sh","time":"2025-07-26 11:56:08"}
{"file_type":"shell","id":"node_14","level":"debug","msg":"添加文件节点","name":"setup_services.sh","time":"2025-07-26 11:56:08"}
{"file_type":"shell","id":"node_15","level":"debug","msg":"添加文件节点","name":"start.sh","time":"2025-07-26 11:56:08"}
{"file_type":"shell","id":"node_16","level":"debug","msg":"添加文件节点","name":"start_dev.sh","time":"2025-07-26 11:56:08"}
{"file_type":"shell","id":"node_17","level":"debug","msg":"添加文件节点","name":"start_platform.sh","time":"2025-07-26 11:56:08"}
{"file_type":"shell","id":"node_18","level":"debug","msg":"添加文件节点","name":"start_prod.sh","time":"2025-07-26 11:56:08"}
{"file_type":"survey","id":"node_23","level":"debug","msg":"添加文件节点","name":"survey.yml","time":"2025-07-26 11:56:08"}
{"file_type":"ansible","id":"node_25","level":"debug","msg":"添加文件节点","name":"cleanup_disk.yml","time":"2025-07-26 11:56:08"}
{"file_type":"shell","id":"node_28","level":"debug","msg":"添加文件节点","name":"test_healing.sh","time":"2025-07-26 11:56:08"}
{"level":"debug","msg":"根节点信息","root_id":"node_1","root_name":"68","root_type":"directory","time":"2025-07-26 11:56:08"}
{"level":"info","msg":"相关文件扫描完成","path":"/data/ahop/repos/1/68","time":"2025-07-26 11:56:08"}
{"level":"info","msg":"开始扫描survey文件","path":"/data/ahop/repos/1/68","time":"2025-07-26 11:56:08"}
{"level":"info","msg":"找到survey文件","name":"自动化运维脚本集","parameters":3,"path":"survey.yml","time":"2025-07-26 11:56:08"}
{"count":1,"level":"info","msg":"survey文件扫描完成","time":"2025-07-26 11:56:08"}
{"ansible_files":8,"level":"info","msg":"增强扫描完成","shell_files":10,"surveys":1,"template_files":0,"time":"2025-07-26 11:56:08","total_files":19}
{"children_count":13,"file_tree_id":"node_1","file_tree_name":"68","file_tree_type":"directory","level":"debug","msg":"增强扫描结果文件树信息","time":"2025-07-26 11:56:08"}
{"first_child_file_type":"shell","first_child_id":"node_2","first_child_name":"install_ansible.sh","level":"debug","msg":"第一个子节点信息","time":"2025-07-26 11:56:08"}
{"data_length":3720,"level":"debug","msg":"序列化成功","time":"2025-07-26 11:56:08"}
{"level":"info","msg":"增强扫描完成，结果已存入Redis","survey_count":1,"task_id":"scan_1_68_1753502168","time":"2025-07-26 11:56:08","total_files":19}
{"action":"scan","level":"info","msg":"收到Git扫描任务","repository_id":68,"task_id":"scan_1_68_1753502171","tenant_id":1,"time":"2025-07-26 11:56:11"}
{"level":"info","msg":"执行增强扫描（包含文件树）","time":"2025-07-26 11:56:11"}
{"id":68,"level":"info","msg":"开始增强扫描","name":"Private Repo","path":"/data/ahop/repos/1/68","time":"2025-07-26 11:56:11"}
{"level":"info","msg":"开始扫描相关文件","path":"/data/ahop/repos/1/68","time":"2025-07-26 11:56:11"}
{"file_type":"shell","id":"node_2","level":"debug","msg":"添加文件节点","name":"install_ansible.sh","time":"2025-07-26 11:56:11"}
{"file_type":"ansible","id":"node_4","level":"debug","msg":"添加文件节点","name":"cleanup_disk.yml","time":"2025-07-26 11:56:11"}
{"file_type":"ansible","id":"node_5","level":"debug","msg":"添加文件节点","name":"fix_nginx_config.yml","time":"2025-07-26 11:56:11"}
{"file_type":"ansible","id":"node_6","level":"debug","msg":"添加文件节点","name":"nginx_port_config.yml","time":"2025-07-26 11:56:11"}
{"file_type":"ansible","id":"node_7","level":"debug","msg":"添加文件节点","name":"restart_firewall.yml","time":"2025-07-26 11:56:11"}
{"file_type":"ansible","id":"node_8","level":"debug","msg":"添加文件节点","name":"restart_httpd.yml","time":"2025-07-26 11:56:11"}
{"file_type":"ansible","id":"node_9","level":"debug","msg":"添加文件节点","name":"restart_mysql.yml","time":"2025-07-26 11:56:11"}
{"file_type":"ansible","id":"node_10","level":"debug","msg":"添加文件节点","name":"restart_zabbix_agent.yml","time":"2025-07-26 11:56:11"}
{"file_type":"shell","id":"node_11","level":"debug","msg":"添加文件节点","name":"set_environment.sh","time":"2025-07-26 11:56:11"}
{"file_type":"shell","id":"node_12","level":"debug","msg":"添加文件节点","name":"setup_itop.sh","time":"2025-07-26 11:56:11"}
{"file_type":"shell","id":"node_13","level":"debug","msg":"添加文件节点","name":"setup_linux.sh","time":"2025-07-26 11:56:11"}
{"file_type":"shell","id":"node_14","level":"debug","msg":"添加文件节点","name":"setup_services.sh","time":"2025-07-26 11:56:11"}
{"file_type":"shell","id":"node_15","level":"debug","msg":"添加文件节点","name":"start.sh","time":"2025-07-26 11:56:11"}
{"file_type":"shell","id":"node_16","level":"debug","msg":"添加文件节点","name":"start_dev.sh","time":"2025-07-26 11:56:11"}
{"file_type":"shell","id":"node_17","level":"debug","msg":"添加文件节点","name":"start_platform.sh","time":"2025-07-26 11:56:11"}
{"file_type":"shell","id":"node_18","level":"debug","msg":"添加文件节点","name":"start_prod.sh","time":"2025-07-26 11:56:11"}
{"file_type":"survey","id":"node_23","level":"debug","msg":"添加文件节点","name":"survey.yml","time":"2025-07-26 11:56:11"}
{"file_type":"ansible","id":"node_25","level":"debug","msg":"添加文件节点","name":"cleanup_disk.yml","time":"2025-07-26 11:56:11"}
{"file_type":"shell","id":"node_28","level":"debug","msg":"添加文件节点","name":"test_healing.sh","time":"2025-07-26 11:56:11"}
{"level":"debug","msg":"根节点信息","root_id":"node_1","root_name":"68","root_type":"directory","time":"2025-07-26 11:56:11"}
{"level":"info","msg":"相关文件扫描完成","path":"/data/ahop/repos/1/68","time":"2025-07-26 11:56:11"}
{"level":"info","msg":"开始扫描survey文件","path":"/data/ahop/repos/1/68","time":"2025-07-26 11:56:11"}
{"level":"info","msg":"找到survey文件","name":"自动化运维脚本集","parameters":3,"path":"survey.yml","time":"2025-07-26 11:56:11"}
{"count":1,"level":"info","msg":"survey文件扫描完成","time":"2025-07-26 11:56:11"}
{"ansible_files":8,"level":"info","msg":"增强扫描完成","shell_files":10,"surveys":1,"template_files":0,"time":"2025-07-26 11:56:11","total_files":19}
{"children_count":13,"file_tree_id":"node_1","file_tree_name":"68","file_tree_type":"directory","level":"debug","msg":"增强扫描结果文件树信息","time":"2025-07-26 11:56:11"}
{"first_child_file_type":"shell","first_child_id":"node_2","first_child_name":"install_ansible.sh","level":"debug","msg":"第一个子节点信息","time":"2025-07-26 11:56:11"}
{"data_length":3720,"level":"debug","msg":"序列化成功","time":"2025-07-26 11:56:11"}
{"level":"info","msg":"增强扫描完成，结果已存入Redis","survey_count":1,"task_id":"scan_1_68_1753502171","time":"2025-07-26 11:56:11","total_files":19}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-26 11:56:33"}
{"level":"info","msg":"收到退出信号，正在停止Worker...","time":"2025-07-26 11:56:45"}
{"level":"info","msg":"开始停止Worker","time":"2025-07-26 11:56:45"}
{"level":"info","msg":"Git同步订阅服务收到退出信号","time":"2025-07-26 11:56:45"}
{"consumer_id":1,"level":"info","msg":"任务消费者收到退出信号","time":"2025-07-26 11:56:46","worker_id":"test-worker-enhanced-001"}
{"consumer_id":0,"level":"info","msg":"任务消费者收到退出信号","time":"2025-07-26 11:56:46","worker_id":"test-worker-enhanced-001"}
{"level":"info","msg":"所有任务已完成","time":"2025-07-26 11:56:46"}
{"level":"info","msg":"已通知Master断开连接","time":"2025-07-26 11:56:46"}
{"level":"info","msg":"Worker已停止","time":"2025-07-26 11:56:46"}
{"level":"info","msg":"Worker已优雅停止","time":"2025-07-26 11:56:46"}
{"level":"info","master_url":"http://localhost:8080","msg":"启动AHOP Worker","time":"2025-07-26 12:00:05","version":"1.0.0","worker_name":"AHOP Worker on development"}
{"level":"info","msg":"使用配置的worker_id","time":"2025-07-26 12:00:05","worker_id":"test-worker-enhanced-001"}
{"level":"info","master_url":"http://localhost:8080","msg":"Worker认证成功，获得数据库和Redis凭据","time":"2025-07-26 12:00:05","worker_id":"test-worker-enhanced-001"}
{"executors":2,"level":"info","msg":"已注册任务执行器","time":"2025-07-26 12:00:05"}
{"level":"info","msg":"Git扫描队列消费者已启动","time":"2025-07-26 12:00:05"}
{"concurrency":2,"level":"info","msg":"Worker启动成功","time":"2025-07-26 12:00:05","worker_id":"test-worker-enhanced-001"}
{"action":"scan","level":"info","msg":"收到Git扫描任务","repository_id":68,"task_id":"scan_1_68_1753502339","tenant_id":1,"time":"2025-07-26 12:00:05"}
{"level":"info","msg":"执行增强扫描（包含文件树）","time":"2025-07-26 12:00:05"}
{"consumer_id":1,"level":"info","msg":"任务消费者启动","time":"2025-07-26 12:00:05","worker_id":"test-worker-enhanced-001"}
{"id":68,"level":"info","msg":"开始增强扫描","name":"Private Repo","path":"/data/ahop/repos/1/68","time":"2025-07-26 12:00:05"}
{"level":"info","msg":"开始扫描相关文件","path":"/data/ahop/repos/1/68","time":"2025-07-26 12:00:05"}
{"consumer_id":0,"level":"info","msg":"任务消费者启动","time":"2025-07-26 12:00:05","worker_id":"test-worker-enhanced-001"}
{"level":"info","msg":"Git同步订阅服务已启动","time":"2025-07-26 12:00:05"}
{"file_type":"shell","id":"node_2","level":"debug","msg":"添加文件节点","name":"install_ansible.sh","time":"2025-07-26 12:00:05"}
{"level":"info","msg":"Worker启动成功，正在等待任务...","time":"2025-07-26 12:00:05"}
{"file_type":"ansible","id":"node_4","level":"debug","msg":"添加文件节点","name":"cleanup_disk.yml","time":"2025-07-26 12:00:05"}
{"file_type":"ansible","id":"node_5","level":"debug","msg":"添加文件节点","name":"fix_nginx_config.yml","time":"2025-07-26 12:00:05"}
{"file_type":"ansible","id":"node_6","level":"debug","msg":"添加文件节点","name":"nginx_port_config.yml","time":"2025-07-26 12:00:05"}
{"file_type":"ansible","id":"node_7","level":"debug","msg":"添加文件节点","name":"restart_firewall.yml","time":"2025-07-26 12:00:05"}
{"file_type":"ansible","id":"node_8","level":"debug","msg":"添加文件节点","name":"restart_httpd.yml","time":"2025-07-26 12:00:05"}
{"file_type":"ansible","id":"node_9","level":"debug","msg":"添加文件节点","name":"restart_mysql.yml","time":"2025-07-26 12:00:05"}
{"file_type":"ansible","id":"node_10","level":"debug","msg":"添加文件节点","name":"restart_zabbix_agent.yml","time":"2025-07-26 12:00:05"}
{"file_type":"shell","id":"node_11","level":"debug","msg":"添加文件节点","name":"set_environment.sh","time":"2025-07-26 12:00:05"}
{"file_type":"shell","id":"node_12","level":"debug","msg":"添加文件节点","name":"setup_itop.sh","time":"2025-07-26 12:00:05"}
{"file_type":"shell","id":"node_13","level":"debug","msg":"添加文件节点","name":"setup_linux.sh","time":"2025-07-26 12:00:05"}
{"file_type":"shell","id":"node_14","level":"debug","msg":"添加文件节点","name":"setup_services.sh","time":"2025-07-26 12:00:05"}
{"file_type":"shell","id":"node_15","level":"debug","msg":"添加文件节点","name":"start.sh","time":"2025-07-26 12:00:05"}
{"file_type":"shell","id":"node_16","level":"debug","msg":"添加文件节点","name":"start_dev.sh","time":"2025-07-26 12:00:05"}
{"file_type":"shell","id":"node_17","level":"debug","msg":"添加文件节点","name":"start_platform.sh","time":"2025-07-26 12:00:05"}
{"file_type":"shell","id":"node_18","level":"debug","msg":"添加文件节点","name":"start_prod.sh","time":"2025-07-26 12:00:05"}
{"file_type":"survey","id":"node_23","level":"debug","msg":"添加文件节点","name":"survey.yml","time":"2025-07-26 12:00:05"}
{"file_type":"ansible","id":"node_25","level":"debug","msg":"添加文件节点","name":"cleanup_disk.yml","time":"2025-07-26 12:00:05"}
{"file_type":"shell","id":"node_28","level":"debug","msg":"添加文件节点","name":"test_healing.sh","time":"2025-07-26 12:00:05"}
{"level":"debug","msg":"根节点信息","root_id":"node_1","root_name":"68","root_type":"directory","time":"2025-07-26 12:00:05"}
{"level":"info","msg":"相关文件扫描完成","path":"/data/ahop/repos/1/68","time":"2025-07-26 12:00:05"}
{"level":"info","msg":"开始扫描survey文件","path":"/data/ahop/repos/1/68","time":"2025-07-26 12:00:05"}
{"level":"info","msg":"找到survey文件","name":"自动化运维脚本集","parameters":3,"path":"survey.yml","time":"2025-07-26 12:00:05"}
{"count":1,"level":"info","msg":"survey文件扫描完成","time":"2025-07-26 12:00:05"}
{"ansible_files":8,"level":"info","msg":"增强扫描完成","shell_files":10,"surveys":1,"template_files":0,"time":"2025-07-26 12:00:05","total_files":19}
{"children_count":13,"file_tree_id":"node_1","file_tree_name":"68","file_tree_type":"directory","level":"debug","msg":"增强扫描结果文件树信息","time":"2025-07-26 12:00:05"}
{"first_child_file_type":"shell","first_child_id":"node_2","first_child_name":"install_ansible.sh","level":"debug","msg":"第一个子节点信息","time":"2025-07-26 12:00:05"}
{"data_length":3720,"level":"debug","msg":"序列化成功","time":"2025-07-26 12:00:05"}
{"json_preview":"{\"surveys\":[{\"path\":\"survey.yml\",\"name\":\"自动化运维脚本集\",\"description\":\"包含多个自动化运维脚本\",\"parameters\":[{\"name\":\"target_hosts\",\"type\":\"string\",\"description\":\"目标主机\",\"required\":true,\"default\":\"localhost\",\"source\":\"survey\"},{\"name\":\"cleanup_tmp_days\",\"type\":\"number\",\"description\":\"临时文件保留天数\",\"required\":false,\"default\":\"7\",\"min_value\":\"1\",\"max_value\":\"90\",\"source\":\"survey\"},{\"name\":\"cleanup_log_days\",\"type\":\"number\",\"description\":\"日志文件保留\ufffd","level":"debug","msg":"JSON预览","time":"2025-07-26 12:00:05"}
{"level":"debug","msg":"JSON数据包含ID字段","time":"2025-07-26 12:00:05"}
{"level":"info","msg":"增强扫描完成，结果已存入Redis","survey_count":1,"task_id":"scan_1_68_1753502339","time":"2025-07-26 12:00:05","total_files":19}
{"level":"info","master_url":"http://localhost:8080","msg":"启动AHOP Worker","time":"2025-07-26 12:01:21","version":"1.0.0","worker_name":"AHOP Worker on development"}
{"level":"info","msg":"使用配置的worker_id","time":"2025-07-26 12:01:21","worker_id":"test-worker-enhanced-001"}
{"error":"向Master认证失败: 认证失败: Worker ID 'test-worker-enhanced-001' 已经被其他实例使用（IP: ::1） (HTTP 200, Code 409)","level":"fatal","msg":"创建Worker失败","time":"2025-07-26 12:01:21"}
{"level":"info","master_url":"http://localhost:8080","msg":"启动AHOP Worker","time":"2025-07-26 12:03:06","version":"1.0.0","worker_name":"AHOP Worker on development"}
{"level":"info","msg":"使用配置的worker_id","time":"2025-07-26 12:03:06","worker_id":"test-worker-debug-001"}
{"level":"info","master_url":"http://localhost:8080","msg":"Worker认证成功，获得数据库和Redis凭据","time":"2025-07-26 12:03:06","worker_id":"test-worker-debug-001"}
{"executors":2,"level":"info","msg":"已注册任务执行器","time":"2025-07-26 12:03:06"}
{"concurrency":2,"level":"info","msg":"Worker启动成功","time":"2025-07-26 12:03:06","worker_id":"test-worker-debug-001"}
{"level":"info","msg":"Worker启动成功，正在等待任务...","time":"2025-07-26 12:03:06"}
{"level":"info","msg":"Git扫描队列消费者已启动","time":"2025-07-26 12:03:06"}
{"consumer_id":1,"level":"info","msg":"任务消费者启动","time":"2025-07-26 12:03:06","worker_id":"test-worker-debug-001"}
{"consumer_id":0,"level":"info","msg":"任务消费者启动","time":"2025-07-26 12:03:06","worker_id":"test-worker-debug-001"}
{"level":"info","msg":"Git同步订阅服务已启动","time":"2025-07-26 12:03:06"}
{"action":"scan","level":"info","msg":"收到Git扫描任务","repository_id":68,"task_id":"scan_1_68_1753502492","tenant_id":1,"time":"2025-07-26 12:03:06"}
{"level":"info","msg":"执行增强扫描（包含文件树）","time":"2025-07-26 12:03:06"}
{"id":68,"level":"info","msg":"开始增强扫描","name":"Private Repo","path":"/data/ahop/repos/1/68","time":"2025-07-26 12:03:06"}
{"level":"info","msg":"开始扫描相关文件","path":"/data/ahop/repos/1/68","time":"2025-07-26 12:03:06"}
{"file_type":"shell","id":"node_2","level":"debug","msg":"添加文件节点","name":"install_ansible.sh","time":"2025-07-26 12:03:06"}
{"file_type":"ansible","id":"node_4","level":"debug","msg":"添加文件节点","name":"cleanup_disk.yml","time":"2025-07-26 12:03:06"}
{"file_type":"ansible","id":"node_5","level":"debug","msg":"添加文件节点","name":"fix_nginx_config.yml","time":"2025-07-26 12:03:06"}
{"file_type":"ansible","id":"node_6","level":"debug","msg":"添加文件节点","name":"nginx_port_config.yml","time":"2025-07-26 12:03:06"}
{"file_type":"ansible","id":"node_7","level":"debug","msg":"添加文件节点","name":"restart_firewall.yml","time":"2025-07-26 12:03:06"}
{"file_type":"ansible","id":"node_8","level":"debug","msg":"添加文件节点","name":"restart_httpd.yml","time":"2025-07-26 12:03:06"}
{"file_type":"ansible","id":"node_9","level":"debug","msg":"添加文件节点","name":"restart_mysql.yml","time":"2025-07-26 12:03:06"}
{"file_type":"ansible","id":"node_10","level":"debug","msg":"添加文件节点","name":"restart_zabbix_agent.yml","time":"2025-07-26 12:03:06"}
{"file_type":"shell","id":"node_11","level":"debug","msg":"添加文件节点","name":"set_environment.sh","time":"2025-07-26 12:03:06"}
{"file_type":"shell","id":"node_12","level":"debug","msg":"添加文件节点","name":"setup_itop.sh","time":"2025-07-26 12:03:06"}
{"file_type":"shell","id":"node_13","level":"debug","msg":"添加文件节点","name":"setup_linux.sh","time":"2025-07-26 12:03:06"}
{"file_type":"shell","id":"node_14","level":"debug","msg":"添加文件节点","name":"setup_services.sh","time":"2025-07-26 12:03:06"}
{"file_type":"shell","id":"node_15","level":"debug","msg":"添加文件节点","name":"start.sh","time":"2025-07-26 12:03:06"}
{"file_type":"shell","id":"node_16","level":"debug","msg":"添加文件节点","name":"start_dev.sh","time":"2025-07-26 12:03:06"}
{"file_type":"shell","id":"node_17","level":"debug","msg":"添加文件节点","name":"start_platform.sh","time":"2025-07-26 12:03:06"}
{"file_type":"shell","id":"node_18","level":"debug","msg":"添加文件节点","name":"start_prod.sh","time":"2025-07-26 12:03:06"}
{"file_type":"survey","id":"node_23","level":"debug","msg":"添加文件节点","name":"survey.yml","time":"2025-07-26 12:03:06"}
{"file_type":"ansible","id":"node_25","level":"debug","msg":"添加文件节点","name":"cleanup_disk.yml","time":"2025-07-26 12:03:06"}
{"file_type":"shell","id":"node_28","level":"debug","msg":"添加文件节点","name":"test_healing.sh","time":"2025-07-26 12:03:06"}
{"level":"debug","msg":"根节点信息","root_id":"node_1","root_name":"68","root_type":"directory","time":"2025-07-26 12:03:06"}
{"level":"info","msg":"相关文件扫描完成","path":"/data/ahop/repos/1/68","time":"2025-07-26 12:03:06"}
{"level":"info","msg":"开始扫描survey文件","path":"/data/ahop/repos/1/68","time":"2025-07-26 12:03:06"}
{"level":"info","msg":"找到survey文件","name":"自动化运维脚本集","parameters":3,"path":"survey.yml","time":"2025-07-26 12:03:06"}
{"count":1,"level":"info","msg":"survey文件扫描完成","time":"2025-07-26 12:03:06"}
{"ansible_files":8,"level":"info","msg":"增强扫描完成","shell_files":10,"surveys":1,"template_files":0,"time":"2025-07-26 12:03:06","total_files":19}
{"children_count":13,"file_tree_id":"node_1","file_tree_name":"68","file_tree_type":"directory","level":"debug","msg":"增强扫描结果文件树信息","time":"2025-07-26 12:03:06"}
{"first_child_file_type":"shell","first_child_id":"node_2","first_child_name":"install_ansible.sh","level":"debug","msg":"第一个子节点信息","time":"2025-07-26 12:03:06"}
{"data_length":3720,"level":"debug","msg":"序列化成功","time":"2025-07-26 12:03:06"}
{"json_preview":"{\"surveys\":[{\"path\":\"survey.yml\",\"name\":\"自动化运维脚本集\",\"description\":\"包含多个自动化运维脚本\",\"parameters\":[{\"name\":\"target_hosts\",\"type\":\"string\",\"description\":\"目标主机\",\"required\":true,\"default\":\"localhost\",\"source\":\"survey\"},{\"name\":\"cleanup_tmp_days\",\"type\":\"number\",\"description\":\"临时文件保留天数\",\"required\":false,\"default\":\"7\",\"min_value\":\"1\",\"max_value\":\"90\",\"source\":\"survey\"},{\"name\":\"cleanup_log_days\",\"type\":\"number\",\"description\":\"日志文件保留\ufffd","level":"debug","msg":"JSON预览","time":"2025-07-26 12:03:06"}
{"level":"debug","msg":"JSON数据包含ID字段","time":"2025-07-26 12:03:06"}
{"level":"info","msg":"增强扫描完成，结果已存入Redis","survey_count":1,"task_id":"scan_1_68_1753502492","time":"2025-07-26 12:03:06","total_files":19}
{"level":"info","master_url":"http://localhost:8080","msg":"启动AHOP Worker","time":"2025-07-26 12:04:37","version":"1.0.0","worker_name":"AHOP Worker on development"}
{"level":"info","msg":"使用配置的worker_id","time":"2025-07-26 12:04:37","worker_id":"test-worker-debug-001"}
{"error":"向Master认证失败: 认证失败: Worker ID 'test-worker-debug-001' 已经被其他实例使用（IP: ::1） (HTTP 200, Code 409)","level":"fatal","msg":"创建Worker失败","time":"2025-07-26 12:04:37"}
{"level":"info","master_url":"http://localhost:8080","msg":"启动AHOP Worker","time":"2025-07-26 12:04:46","version":"1.0.0","worker_name":"AHOP Worker on development"}
{"level":"info","msg":"使用配置的worker_id","time":"2025-07-26 12:04:46","worker_id":"test-worker-001"}
{"level":"info","master_url":"http://localhost:8080","msg":"Worker认证成功，获得数据库和Redis凭据","time":"2025-07-26 12:04:46","worker_id":"test-worker-001"}
{"executors":2,"level":"info","msg":"已注册任务执行器","time":"2025-07-26 12:04:46"}
{"concurrency":2,"level":"info","msg":"Worker启动成功","time":"2025-07-26 12:04:46","worker_id":"test-worker-001"}
{"level":"info","msg":"Worker启动成功，正在等待任务...","time":"2025-07-26 12:04:46"}
{"level":"info","msg":"Git扫描队列消费者已启动","time":"2025-07-26 12:04:46"}
{"consumer_id":1,"level":"info","msg":"任务消费者启动","time":"2025-07-26 12:04:46","worker_id":"test-worker-001"}
{"consumer_id":0,"level":"info","msg":"任务消费者启动","time":"2025-07-26 12:04:46","worker_id":"test-worker-001"}
{"level":"info","msg":"Git同步订阅服务已启动","time":"2025-07-26 12:04:46"}
{"action":"scan","level":"info","msg":"收到Git扫描任务","repository_id":68,"task_id":"scan_1_68_1753502706","tenant_id":1,"time":"2025-07-26 12:05:06"}
{"level":"info","msg":"执行增强扫描（包含文件树）","time":"2025-07-26 12:05:06"}
{"id":68,"level":"info","msg":"开始增强扫描","name":"Private Repo","path":"/data/ahop/repos/1/68","time":"2025-07-26 12:05:06"}
{"level":"info","msg":"开始扫描相关文件","path":"/data/ahop/repos/1/68","time":"2025-07-26 12:05:06"}
{"file_type":"shell","id":"node_2","level":"debug","msg":"添加文件节点","name":"install_ansible.sh","time":"2025-07-26 12:05:06"}
{"file_type":"ansible","id":"node_4","level":"debug","msg":"添加文件节点","name":"cleanup_disk.yml","time":"2025-07-26 12:05:06"}
{"file_type":"ansible","id":"node_5","level":"debug","msg":"添加文件节点","name":"fix_nginx_config.yml","time":"2025-07-26 12:05:06"}
{"file_type":"ansible","id":"node_6","level":"debug","msg":"添加文件节点","name":"nginx_port_config.yml","time":"2025-07-26 12:05:06"}
{"file_type":"ansible","id":"node_7","level":"debug","msg":"添加文件节点","name":"restart_firewall.yml","time":"2025-07-26 12:05:06"}
{"file_type":"ansible","id":"node_8","level":"debug","msg":"添加文件节点","name":"restart_httpd.yml","time":"2025-07-26 12:05:06"}
{"file_type":"ansible","id":"node_9","level":"debug","msg":"添加文件节点","name":"restart_mysql.yml","time":"2025-07-26 12:05:06"}
{"file_type":"ansible","id":"node_10","level":"debug","msg":"添加文件节点","name":"restart_zabbix_agent.yml","time":"2025-07-26 12:05:06"}
{"file_type":"shell","id":"node_11","level":"debug","msg":"添加文件节点","name":"set_environment.sh","time":"2025-07-26 12:05:06"}
{"file_type":"shell","id":"node_12","level":"debug","msg":"添加文件节点","name":"setup_itop.sh","time":"2025-07-26 12:05:06"}
{"file_type":"shell","id":"node_13","level":"debug","msg":"添加文件节点","name":"setup_linux.sh","time":"2025-07-26 12:05:06"}
{"file_type":"shell","id":"node_14","level":"debug","msg":"添加文件节点","name":"setup_services.sh","time":"2025-07-26 12:05:06"}
{"file_type":"shell","id":"node_15","level":"debug","msg":"添加文件节点","name":"start.sh","time":"2025-07-26 12:05:06"}
{"file_type":"shell","id":"node_16","level":"debug","msg":"添加文件节点","name":"start_dev.sh","time":"2025-07-26 12:05:06"}
{"file_type":"shell","id":"node_17","level":"debug","msg":"添加文件节点","name":"start_platform.sh","time":"2025-07-26 12:05:06"}
{"file_type":"shell","id":"node_18","level":"debug","msg":"添加文件节点","name":"start_prod.sh","time":"2025-07-26 12:05:06"}
{"file_type":"survey","id":"node_23","level":"debug","msg":"添加文件节点","name":"survey.yml","time":"2025-07-26 12:05:06"}
{"file_type":"ansible","id":"node_25","level":"debug","msg":"添加文件节点","name":"cleanup_disk.yml","time":"2025-07-26 12:05:06"}
{"file_type":"shell","id":"node_28","level":"debug","msg":"添加文件节点","name":"test_healing.sh","time":"2025-07-26 12:05:06"}
{"level":"debug","msg":"根节点信息","root_id":"node_1","root_name":"68","root_type":"directory","time":"2025-07-26 12:05:06"}
{"level":"info","msg":"相关文件扫描完成","path":"/data/ahop/repos/1/68","time":"2025-07-26 12:05:06"}
{"level":"info","msg":"开始扫描survey文件","path":"/data/ahop/repos/1/68","time":"2025-07-26 12:05:06"}
{"level":"info","msg":"找到survey文件","name":"自动化运维脚本集","parameters":3,"path":"survey.yml","time":"2025-07-26 12:05:06"}
{"count":1,"level":"info","msg":"survey文件扫描完成","time":"2025-07-26 12:05:06"}
{"ansible_files":8,"level":"info","msg":"增强扫描完成","shell_files":10,"surveys":1,"template_files":0,"time":"2025-07-26 12:05:06","total_files":19}
{"children_count":13,"file_tree_id":"node_1","file_tree_name":"68","file_tree_type":"directory","level":"debug","msg":"增强扫描结果文件树信息","time":"2025-07-26 12:05:06"}
{"first_child_file_type":"shell","first_child_id":"node_2","first_child_name":"install_ansible.sh","level":"debug","msg":"第一个子节点信息","time":"2025-07-26 12:05:06"}
{"data_length":3720,"level":"debug","msg":"序列化成功","time":"2025-07-26 12:05:06"}
{"json_preview":"{\"surveys\":[{\"path\":\"survey.yml\",\"name\":\"自动化运维脚本集\",\"description\":\"包含多个自动化运维脚本\",\"parameters\":[{\"name\":\"target_hosts\",\"type\":\"string\",\"description\":\"目标主机\",\"required\":true,\"default\":\"localhost\",\"source\":\"survey\"},{\"name\":\"cleanup_tmp_days\",\"type\":\"number\",\"description\":\"临时文件保留天数\",\"required\":false,\"default\":\"7\",\"min_value\":\"1\",\"max_value\":\"90\",\"source\":\"survey\"},{\"name\":\"cleanup_log_days\",\"type\":\"number\",\"description\":\"日志文件保留\ufffd","level":"debug","msg":"JSON预览","time":"2025-07-26 12:05:06"}
{"level":"debug","msg":"JSON数据包含ID字段","time":"2025-07-26 12:05:06"}
{"level":"info","msg":"增强扫描完成，结果已存入Redis","survey_count":1,"task_id":"scan_1_68_1753502706","time":"2025-07-26 12:05:06","total_files":19}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-26 12:06:46"}
{"action":"scan","level":"info","msg":"收到Git扫描任务","repository_id":69,"task_id":"scan_1_69_1753502830","tenant_id":1,"time":"2025-07-26 12:07:10"}
{"level":"info","msg":"执行增强扫描（包含文件树）","time":"2025-07-26 12:07:10"}
{"id":69,"level":"info","msg":"开始增强扫描","name":"Gin Framework","path":"/data/ahop/repos/1/69","time":"2025-07-26 12:07:10"}
{"level":"info","msg":"开始扫描相关文件","path":"/data/ahop/repos/1/69","time":"2025-07-26 12:07:10"}
{"file_type":"ansible","id":"node_3","level":"debug","msg":"添加文件节点","name":"all.yml","time":"2025-07-26 12:07:10"}
{"file_type":"ansible","id":"node_4","level":"debug","msg":"添加文件节点","name":"init_system.yml","time":"2025-07-26 12:07:10"}
{"file_type":"ansible","id":"node_10","level":"debug","msg":"添加文件节点","name":"main.yml","time":"2025-07-26 12:07:10"}
{"file_type":"ansible","id":"node_12","level":"debug","msg":"添加文件节点","name":"main.yml","time":"2025-07-26 12:07:10"}
{"file_type":"template","id":"node_14","level":"debug","msg":"添加文件节点","name":"env.j2","time":"2025-07-26 12:07:10"}
{"file_type":"ansible","id":"node_17","level":"debug","msg":"添加文件节点","name":"main.yml","time":"2025-07-26 12:07:10"}
{"file_type":"ansible","id":"node_19","level":"debug","msg":"添加文件节点","name":"main.yml","time":"2025-07-26 12:07:10"}
{"file_type":"ansible","id":"node_22","level":"debug","msg":"添加文件节点","name":"main.yml","time":"2025-07-26 12:07:10"}
{"file_type":"template","id":"node_24","level":"debug","msg":"添加文件节点","name":"filebeat.yml.j2","time":"2025-07-26 12:07:10"}
{"file_type":"ansible","id":"node_27","level":"debug","msg":"添加文件节点","name":"main.yml","time":"2025-07-26 12:07:10"}
{"file_type":"ansible","id":"node_29","level":"debug","msg":"添加文件节点","name":"main.yml","time":"2025-07-26 12:07:10"}
{"file_type":"template","id":"node_31","level":"debug","msg":"添加文件节点","name":"prometheus.yml.j2","time":"2025-07-26 12:07:10"}
{"file_type":"ansible","id":"node_34","level":"debug","msg":"添加文件节点","name":"main.yml","time":"2025-07-26 12:07:10"}
{"file_type":"template","id":"node_36","level":"debug","msg":"添加文件节点","name":"nginx.conf.j2","time":"2025-07-26 12:07:10"}
{"file_type":"template","id":"node_37","level":"debug","msg":"添加文件节点","name":"vhosts.conf.j2","time":"2025-07-26 12:07:10"}
{"file_type":"ansible","id":"node_39","level":"debug","msg":"添加文件节点","name":"main.yml","time":"2025-07-26 12:07:10"}
{"file_type":"template","id":"node_42","level":"debug","msg":"添加文件节点","name":"user_config.j2","time":"2025-07-26 12:07:10"}
{"file_type":"ansible","id":"node_43","level":"debug","msg":"添加文件节点","name":"site.yml","time":"2025-07-26 12:07:10"}
{"file_type":"template","id":"node_45","level":"debug","msg":"添加文件节点","name":"hosts.allow.j2","time":"2025-07-26 12:07:10"}
{"file_type":"template","id":"node_46","level":"debug","msg":"添加文件节点","name":"logrotate.j2","time":"2025-07-26 12:07:10"}
{"level":"debug","msg":"根节点信息","root_id":"node_1","root_name":"69","root_type":"directory","time":"2025-07-26 12:07:10"}
{"level":"info","msg":"相关文件扫描完成","path":"/data/ahop/repos/1/69","time":"2025-07-26 12:07:10"}
{"level":"info","msg":"开始扫描survey文件","path":"/data/ahop/repos/1/69","time":"2025-07-26 12:07:10"}
{"count":0,"level":"info","msg":"survey文件扫描完成","time":"2025-07-26 12:07:10"}
{"ansible_files":12,"level":"info","msg":"增强扫描完成","shell_files":0,"surveys":0,"template_files":8,"time":"2025-07-26 12:07:10","total_files":20}
{"children_count":5,"file_tree_id":"node_1","file_tree_name":"69","file_tree_type":"directory","level":"debug","msg":"增强扫描结果文件树信息","time":"2025-07-26 12:07:10"}
{"first_child_file_type":"","first_child_id":"node_2","first_child_name":"group_vars","level":"debug","msg":"第一个子节点信息","time":"2025-07-26 12:07:10"}
{"data_length":5872,"level":"debug","msg":"序列化成功","time":"2025-07-26 12:07:10"}
{"json_preview":"{\"surveys\":[],\"file_tree\":{\"id\":\"node_1\",\"name\":\"69\",\"path\":\".\",\"type\":\"directory\",\"size\":0,\"selectable\":false,\"children\":[{\"id\":\"node_2\",\"name\":\"group_vars\",\"path\":\"group_vars\",\"type\":\"directory\",\"size\":0,\"selectable\":false,\"children\":[{\"id\":\"node_3\",\"name\":\"all.yml\",\"path\":\"group_vars/all.yml\",\"type\":\"file\",\"file_type\":\"ansible\",\"size\":295,\"selectable\":true}]},{\"id\":\"node_4\",\"name\":\"init_system.yml\",\"path\":\"init_system.yml\",\"type\":\"file\",\"file_type\":\"ansible\",\"size\":2660,\"selectable\":true},{\"i","level":"debug","msg":"JSON预览","time":"2025-07-26 12:07:10"}
{"level":"debug","msg":"JSON数据包含ID字段","time":"2025-07-26 12:07:10"}
{"level":"info","msg":"增强扫描完成，结果已存入Redis","survey_count":0,"task_id":"scan_1_69_1753502830","time":"2025-07-26 12:07:10","total_files":20}
{"action":"scan","level":"info","msg":"收到Git扫描任务","repository_id":68,"task_id":"scan_1_68_1753502859","tenant_id":1,"time":"2025-07-26 12:07:39"}
{"level":"info","msg":"执行增强扫描（包含文件树）","time":"2025-07-26 12:07:39"}
{"id":68,"level":"info","msg":"开始增强扫描","name":"Private Repo","path":"/data/ahop/repos/1/68","time":"2025-07-26 12:07:39"}
{"level":"info","msg":"开始扫描相关文件","path":"/data/ahop/repos/1/68","time":"2025-07-26 12:07:39"}
{"file_type":"shell","id":"node_2","level":"debug","msg":"添加文件节点","name":"install_ansible.sh","time":"2025-07-26 12:07:39"}
{"file_type":"ansible","id":"node_4","level":"debug","msg":"添加文件节点","name":"cleanup_disk.yml","time":"2025-07-26 12:07:39"}
{"file_type":"ansible","id":"node_5","level":"debug","msg":"添加文件节点","name":"fix_nginx_config.yml","time":"2025-07-26 12:07:39"}
{"file_type":"ansible","id":"node_6","level":"debug","msg":"添加文件节点","name":"nginx_port_config.yml","time":"2025-07-26 12:07:39"}
{"file_type":"ansible","id":"node_7","level":"debug","msg":"添加文件节点","name":"restart_firewall.yml","time":"2025-07-26 12:07:39"}
{"file_type":"ansible","id":"node_8","level":"debug","msg":"添加文件节点","name":"restart_httpd.yml","time":"2025-07-26 12:07:39"}
{"file_type":"ansible","id":"node_9","level":"debug","msg":"添加文件节点","name":"restart_mysql.yml","time":"2025-07-26 12:07:39"}
{"file_type":"ansible","id":"node_10","level":"debug","msg":"添加文件节点","name":"restart_zabbix_agent.yml","time":"2025-07-26 12:07:39"}
{"file_type":"shell","id":"node_11","level":"debug","msg":"添加文件节点","name":"set_environment.sh","time":"2025-07-26 12:07:39"}
{"file_type":"shell","id":"node_12","level":"debug","msg":"添加文件节点","name":"setup_itop.sh","time":"2025-07-26 12:07:39"}
{"file_type":"shell","id":"node_13","level":"debug","msg":"添加文件节点","name":"setup_linux.sh","time":"2025-07-26 12:07:39"}
{"file_type":"shell","id":"node_14","level":"debug","msg":"添加文件节点","name":"setup_services.sh","time":"2025-07-26 12:07:39"}
{"file_type":"shell","id":"node_15","level":"debug","msg":"添加文件节点","name":"start.sh","time":"2025-07-26 12:07:39"}
{"file_type":"shell","id":"node_16","level":"debug","msg":"添加文件节点","name":"start_dev.sh","time":"2025-07-26 12:07:39"}
{"file_type":"shell","id":"node_17","level":"debug","msg":"添加文件节点","name":"start_platform.sh","time":"2025-07-26 12:07:39"}
{"file_type":"shell","id":"node_18","level":"debug","msg":"添加文件节点","name":"start_prod.sh","time":"2025-07-26 12:07:39"}
{"file_type":"survey","id":"node_23","level":"debug","msg":"添加文件节点","name":"survey.yml","time":"2025-07-26 12:07:39"}
{"file_type":"ansible","id":"node_25","level":"debug","msg":"添加文件节点","name":"cleanup_disk.yml","time":"2025-07-26 12:07:39"}
{"file_type":"shell","id":"node_28","level":"debug","msg":"添加文件节点","name":"test_healing.sh","time":"2025-07-26 12:07:39"}
{"level":"debug","msg":"根节点信息","root_id":"node_1","root_name":"68","root_type":"directory","time":"2025-07-26 12:07:39"}
{"level":"info","msg":"相关文件扫描完成","path":"/data/ahop/repos/1/68","time":"2025-07-26 12:07:39"}
{"level":"info","msg":"开始扫描survey文件","path":"/data/ahop/repos/1/68","time":"2025-07-26 12:07:39"}
{"level":"info","msg":"找到survey文件","name":"自动化运维脚本集","parameters":3,"path":"survey.yml","time":"2025-07-26 12:07:39"}
{"count":1,"level":"info","msg":"survey文件扫描完成","time":"2025-07-26 12:07:39"}
{"ansible_files":8,"level":"info","msg":"增强扫描完成","shell_files":10,"surveys":1,"template_files":0,"time":"2025-07-26 12:07:39","total_files":19}
{"children_count":13,"file_tree_id":"node_1","file_tree_name":"68","file_tree_type":"directory","level":"debug","msg":"增强扫描结果文件树信息","time":"2025-07-26 12:07:39"}
{"first_child_file_type":"shell","first_child_id":"node_2","first_child_name":"install_ansible.sh","level":"debug","msg":"第一个子节点信息","time":"2025-07-26 12:07:39"}
{"data_length":3720,"level":"debug","msg":"序列化成功","time":"2025-07-26 12:07:39"}
{"json_preview":"{\"surveys\":[{\"path\":\"survey.yml\",\"name\":\"自动化运维脚本集\",\"description\":\"包含多个自动化运维脚本\",\"parameters\":[{\"name\":\"target_hosts\",\"type\":\"string\",\"description\":\"目标主机\",\"required\":true,\"default\":\"localhost\",\"source\":\"survey\"},{\"name\":\"cleanup_tmp_days\",\"type\":\"number\",\"description\":\"临时文件保留天数\",\"required\":false,\"default\":\"7\",\"min_value\":\"1\",\"max_value\":\"90\",\"source\":\"survey\"},{\"name\":\"cleanup_log_days\",\"type\":\"number\",\"description\":\"日志文件保留\ufffd","level":"debug","msg":"JSON预览","time":"2025-07-26 12:07:39"}
{"level":"debug","msg":"JSON数据包含ID字段","time":"2025-07-26 12:07:39"}
{"level":"info","msg":"增强扫描完成，结果已存入Redis","survey_count":1,"task_id":"scan_1_68_1753502859","time":"2025-07-26 12:07:39","total_files":19}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-26 12:08:46"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-26 12:10:46"}
{"action":"scan","level":"info","msg":"收到Git扫描任务","repository_id":69,"task_id":"scan_1_69_1753503061","tenant_id":1,"time":"2025-07-26 12:11:01"}
{"level":"info","msg":"执行增强扫描（包含文件树）","time":"2025-07-26 12:11:01"}
{"id":69,"level":"info","msg":"开始增强扫描","name":"Gin Framework","path":"/data/ahop/repos/1/69","time":"2025-07-26 12:11:01"}
{"level":"info","msg":"开始扫描相关文件","path":"/data/ahop/repos/1/69","time":"2025-07-26 12:11:01"}
{"file_type":"shell","id":"node_2","level":"debug","msg":"添加文件节点","name":"deploy_ansible.sh","time":"2025-07-26 12:11:01"}
{"file_type":"ansible","id":"node_4","level":"debug","msg":"添加文件节点","name":"all.yml","time":"2025-07-26 12:11:01"}
{"file_type":"ansible","id":"node_5","level":"debug","msg":"添加文件节点","name":"init_system.yml","time":"2025-07-26 12:11:01"}
{"file_type":"ansible","id":"node_11","level":"debug","msg":"添加文件节点","name":"main.yml","time":"2025-07-26 12:11:01"}
{"file_type":"ansible","id":"node_13","level":"debug","msg":"添加文件节点","name":"main.yml","time":"2025-07-26 12:11:01"}
{"file_type":"template","id":"node_15","level":"debug","msg":"添加文件节点","name":"env.j2","time":"2025-07-26 12:11:01"}
{"file_type":"ansible","id":"node_18","level":"debug","msg":"添加文件节点","name":"main.yml","time":"2025-07-26 12:11:01"}
{"file_type":"ansible","id":"node_20","level":"debug","msg":"添加文件节点","name":"main.yml","time":"2025-07-26 12:11:01"}
{"file_type":"ansible","id":"node_23","level":"debug","msg":"添加文件节点","name":"main.yml","time":"2025-07-26 12:11:01"}
{"file_type":"template","id":"node_25","level":"debug","msg":"添加文件节点","name":"filebeat.yml.j2","time":"2025-07-26 12:11:01"}
{"file_type":"ansible","id":"node_28","level":"debug","msg":"添加文件节点","name":"main.yml","time":"2025-07-26 12:11:01"}
{"file_type":"ansible","id":"node_30","level":"debug","msg":"添加文件节点","name":"main.yml","time":"2025-07-26 12:11:01"}
{"file_type":"template","id":"node_32","level":"debug","msg":"添加文件节点","name":"prometheus.yml.j2","time":"2025-07-26 12:11:01"}
{"file_type":"ansible","id":"node_35","level":"debug","msg":"添加文件节点","name":"main.yml","time":"2025-07-26 12:11:01"}
{"file_type":"template","id":"node_37","level":"debug","msg":"添加文件节点","name":"nginx.conf.j2","time":"2025-07-26 12:11:01"}
{"file_type":"template","id":"node_38","level":"debug","msg":"添加文件节点","name":"vhosts.conf.j2","time":"2025-07-26 12:11:01"}
{"file_type":"ansible","id":"node_40","level":"debug","msg":"添加文件节点","name":"main.yml","time":"2025-07-26 12:11:01"}
{"file_type":"template","id":"node_43","level":"debug","msg":"添加文件节点","name":"user_config.j2","time":"2025-07-26 12:11:01"}
{"file_type":"ansible","id":"node_44","level":"debug","msg":"添加文件节点","name":"site.yml","time":"2025-07-26 12:11:01"}
{"file_type":"template","id":"node_46","level":"debug","msg":"添加文件节点","name":"hosts.allow.j2","time":"2025-07-26 12:11:01"}
{"file_type":"template","id":"node_47","level":"debug","msg":"添加文件节点","name":"logrotate.j2","time":"2025-07-26 12:11:01"}
{"level":"debug","msg":"根节点信息","root_id":"node_1","root_name":"69","root_type":"directory","time":"2025-07-26 12:11:01"}
{"level":"info","msg":"相关文件扫描完成","path":"/data/ahop/repos/1/69","time":"2025-07-26 12:11:01"}
{"level":"info","msg":"开始扫描survey文件","path":"/data/ahop/repos/1/69","time":"2025-07-26 12:11:01"}
{"count":0,"level":"info","msg":"survey文件扫描完成","time":"2025-07-26 12:11:01"}
{"ansible_files":12,"level":"info","msg":"增强扫描完成","shell_files":1,"surveys":0,"template_files":8,"time":"2025-07-26 12:11:01","total_files":21}
{"children_count":6,"file_tree_id":"node_1","file_tree_name":"69","file_tree_type":"directory","level":"debug","msg":"增强扫描结果文件树信息","time":"2025-07-26 12:11:01"}
{"first_child_file_type":"shell","first_child_id":"node_2","first_child_name":"deploy_ansible.sh","level":"debug","msg":"第一个子节点信息","time":"2025-07-26 12:11:01"}
{"data_length":6007,"level":"debug","msg":"序列化成功","time":"2025-07-26 12:11:01"}
{"json_preview":"{\"surveys\":[],\"file_tree\":{\"id\":\"node_1\",\"name\":\"69\",\"path\":\".\",\"type\":\"directory\",\"size\":0,\"selectable\":false,\"children\":[{\"id\":\"node_2\",\"name\":\"deploy_ansible.sh\",\"path\":\"deploy_ansible.sh\",\"type\":\"file\",\"file_type\":\"shell\",\"size\":2426,\"selectable\":true},{\"id\":\"node_3\",\"name\":\"group_vars\",\"path\":\"group_vars\",\"type\":\"directory\",\"size\":0,\"selectable\":false,\"children\":[{\"id\":\"node_4\",\"name\":\"all.yml\",\"path\":\"group_vars/all.yml\",\"type\":\"file\",\"file_type\":\"ansible\",\"size\":295,\"selectable\":true}]},{","level":"debug","msg":"JSON预览","time":"2025-07-26 12:11:01"}
{"level":"debug","msg":"JSON数据包含ID字段","time":"2025-07-26 12:11:01"}
{"level":"info","msg":"增强扫描完成，结果已存入Redis","survey_count":0,"task_id":"scan_1_69_1753503061","time":"2025-07-26 12:11:01","total_files":21}
{"action":"scan","level":"info","msg":"收到Git扫描任务","repository_id":69,"task_id":"scan_1_69_1753503086","tenant_id":1,"time":"2025-07-26 12:11:26"}
{"level":"info","msg":"执行增强扫描（包含文件树）","time":"2025-07-26 12:11:26"}
{"id":69,"level":"info","msg":"开始增强扫描","name":"Gin Framework","path":"/data/ahop/repos/1/69","time":"2025-07-26 12:11:26"}
{"level":"info","msg":"开始扫描相关文件","path":"/data/ahop/repos/1/69","time":"2025-07-26 12:11:26"}
{"file_type":"shell","id":"node_2","level":"debug","msg":"添加文件节点","name":"check_system.sh","time":"2025-07-26 12:11:26"}
{"file_type":"shell","id":"node_3","level":"debug","msg":"添加文件节点","name":"deploy_ansible.sh","time":"2025-07-26 12:11:26"}
{"file_type":"ansible","id":"node_5","level":"debug","msg":"添加文件节点","name":"all.yml","time":"2025-07-26 12:11:26"}
{"file_type":"ansible","id":"node_6","level":"debug","msg":"添加文件节点","name":"init_system.yml","time":"2025-07-26 12:11:26"}
{"file_type":"ansible","id":"node_12","level":"debug","msg":"添加文件节点","name":"main.yml","time":"2025-07-26 12:11:26"}
{"file_type":"ansible","id":"node_14","level":"debug","msg":"添加文件节点","name":"main.yml","time":"2025-07-26 12:11:26"}
{"file_type":"template","id":"node_16","level":"debug","msg":"添加文件节点","name":"env.j2","time":"2025-07-26 12:11:26"}
{"file_type":"ansible","id":"node_19","level":"debug","msg":"添加文件节点","name":"main.yml","time":"2025-07-26 12:11:26"}
{"file_type":"ansible","id":"node_21","level":"debug","msg":"添加文件节点","name":"main.yml","time":"2025-07-26 12:11:26"}
{"file_type":"ansible","id":"node_24","level":"debug","msg":"添加文件节点","name":"main.yml","time":"2025-07-26 12:11:26"}
{"file_type":"template","id":"node_26","level":"debug","msg":"添加文件节点","name":"filebeat.yml.j2","time":"2025-07-26 12:11:26"}
{"file_type":"ansible","id":"node_29","level":"debug","msg":"添加文件节点","name":"main.yml","time":"2025-07-26 12:11:26"}
{"file_type":"ansible","id":"node_31","level":"debug","msg":"添加文件节点","name":"main.yml","time":"2025-07-26 12:11:26"}
{"file_type":"template","id":"node_33","level":"debug","msg":"添加文件节点","name":"prometheus.yml.j2","time":"2025-07-26 12:11:26"}
{"file_type":"ansible","id":"node_36","level":"debug","msg":"添加文件节点","name":"main.yml","time":"2025-07-26 12:11:26"}
{"file_type":"template","id":"node_38","level":"debug","msg":"添加文件节点","name":"nginx.conf.j2","time":"2025-07-26 12:11:26"}
{"file_type":"template","id":"node_39","level":"debug","msg":"添加文件节点","name":"vhosts.conf.j2","time":"2025-07-26 12:11:26"}
{"file_type":"ansible","id":"node_41","level":"debug","msg":"添加文件节点","name":"main.yml","time":"2025-07-26 12:11:26"}
{"file_type":"template","id":"node_44","level":"debug","msg":"添加文件节点","name":"user_config.j2","time":"2025-07-26 12:11:26"}
{"file_type":"ansible","id":"node_45","level":"debug","msg":"添加文件节点","name":"site.yml","time":"2025-07-26 12:11:26"}
{"file_type":"template","id":"node_47","level":"debug","msg":"添加文件节点","name":"hosts.allow.j2","time":"2025-07-26 12:11:26"}
{"file_type":"template","id":"node_48","level":"debug","msg":"添加文件节点","name":"logrotate.j2","time":"2025-07-26 12:11:26"}
{"level":"debug","msg":"根节点信息","root_id":"node_1","root_name":"69","root_type":"directory","time":"2025-07-26 12:11:26"}
{"level":"info","msg":"相关文件扫描完成","path":"/data/ahop/repos/1/69","time":"2025-07-26 12:11:26"}
{"level":"info","msg":"开始扫描survey文件","path":"/data/ahop/repos/1/69","time":"2025-07-26 12:11:26"}
{"count":0,"level":"info","msg":"survey文件扫描完成","time":"2025-07-26 12:11:26"}
{"ansible_files":12,"level":"info","msg":"增强扫描完成","shell_files":2,"surveys":0,"template_files":8,"time":"2025-07-26 12:11:26","total_files":22}
{"children_count":7,"file_tree_id":"node_1","file_tree_name":"69","file_tree_type":"directory","level":"debug","msg":"增强扫描结果文件树信息","time":"2025-07-26 12:11:26"}
{"first_child_file_type":"shell","first_child_id":"node_2","first_child_name":"check_system.sh","level":"debug","msg":"第一个子节点信息","time":"2025-07-26 12:11:26"}
{"data_length":6138,"level":"debug","msg":"序列化成功","time":"2025-07-26 12:11:26"}
{"json_preview":"{\"surveys\":[],\"file_tree\":{\"id\":\"node_1\",\"name\":\"69\",\"path\":\".\",\"type\":\"directory\",\"size\":0,\"selectable\":false,\"children\":[{\"id\":\"node_2\",\"name\":\"check_system.sh\",\"path\":\"check_system.sh\",\"type\":\"file\",\"file_type\":\"shell\",\"size\":3267,\"selectable\":true},{\"id\":\"node_3\",\"name\":\"deploy_ansible.sh\",\"path\":\"deploy_ansible.sh\",\"type\":\"file\",\"file_type\":\"shell\",\"size\":2426,\"selectable\":true},{\"id\":\"node_4\",\"name\":\"group_vars\",\"path\":\"group_vars\",\"type\":\"directory\",\"size\":0,\"selectable\":false,\"children\":","level":"debug","msg":"JSON预览","time":"2025-07-26 12:11:26"}
{"level":"debug","msg":"JSON数据包含ID字段","time":"2025-07-26 12:11:26"}
{"level":"info","msg":"增强扫描完成，结果已存入Redis","survey_count":0,"task_id":"scan_1_69_1753503086","time":"2025-07-26 12:11:26","total_files":22}
{"action":"scan","level":"info","msg":"收到Git扫描任务","repository_id":69,"task_id":"scan_1_69_1753503118","tenant_id":1,"time":"2025-07-26 12:11:58"}
{"level":"info","msg":"执行增强扫描（包含文件树）","time":"2025-07-26 12:11:58"}
{"id":69,"level":"info","msg":"开始增强扫描","name":"Gin Framework","path":"/data/ahop/repos/1/69","time":"2025-07-26 12:11:58"}
{"level":"info","msg":"开始扫描相关文件","path":"/data/ahop/repos/1/69","time":"2025-07-26 12:11:58"}
{"file_type":"shell","id":"node_2","level":"debug","msg":"添加文件节点","name":"backup_database.sh","time":"2025-07-26 12:11:58"}
{"file_type":"shell","id":"node_3","level":"debug","msg":"添加文件节点","name":"check_system.sh","time":"2025-07-26 12:11:58"}
{"file_type":"shell","id":"node_4","level":"debug","msg":"添加文件节点","name":"deploy_ansible.sh","time":"2025-07-26 12:11:58"}
{"file_type":"ansible","id":"node_6","level":"debug","msg":"添加文件节点","name":"all.yml","time":"2025-07-26 12:11:58"}
{"file_type":"ansible","id":"node_7","level":"debug","msg":"添加文件节点","name":"init_system.yml","time":"2025-07-26 12:11:58"}
{"file_type":"ansible","id":"node_13","level":"debug","msg":"添加文件节点","name":"main.yml","time":"2025-07-26 12:11:58"}
{"file_type":"ansible","id":"node_15","level":"debug","msg":"添加文件节点","name":"main.yml","time":"2025-07-26 12:11:58"}
{"file_type":"template","id":"node_17","level":"debug","msg":"添加文件节点","name":"env.j2","time":"2025-07-26 12:11:58"}
{"file_type":"ansible","id":"node_20","level":"debug","msg":"添加文件节点","name":"main.yml","time":"2025-07-26 12:11:58"}
{"file_type":"ansible","id":"node_22","level":"debug","msg":"添加文件节点","name":"main.yml","time":"2025-07-26 12:11:58"}
{"file_type":"ansible","id":"node_25","level":"debug","msg":"添加文件节点","name":"main.yml","time":"2025-07-26 12:11:58"}
{"file_type":"template","id":"node_27","level":"debug","msg":"添加文件节点","name":"filebeat.yml.j2","time":"2025-07-26 12:11:58"}
{"file_type":"ansible","id":"node_30","level":"debug","msg":"添加文件节点","name":"main.yml","time":"2025-07-26 12:11:58"}
{"file_type":"ansible","id":"node_32","level":"debug","msg":"添加文件节点","name":"main.yml","time":"2025-07-26 12:11:58"}
{"file_type":"template","id":"node_34","level":"debug","msg":"添加文件节点","name":"prometheus.yml.j2","time":"2025-07-26 12:11:58"}
{"file_type":"ansible","id":"node_37","level":"debug","msg":"添加文件节点","name":"main.yml","time":"2025-07-26 12:11:58"}
{"file_type":"template","id":"node_39","level":"debug","msg":"添加文件节点","name":"nginx.conf.j2","time":"2025-07-26 12:11:58"}
{"file_type":"template","id":"node_40","level":"debug","msg":"添加文件节点","name":"vhosts.conf.j2","time":"2025-07-26 12:11:58"}
{"file_type":"ansible","id":"node_42","level":"debug","msg":"添加文件节点","name":"main.yml","time":"2025-07-26 12:11:58"}
{"file_type":"template","id":"node_45","level":"debug","msg":"添加文件节点","name":"user_config.j2","time":"2025-07-26 12:11:58"}
{"file_type":"ansible","id":"node_46","level":"debug","msg":"添加文件节点","name":"site.yml","time":"2025-07-26 12:11:58"}
{"file_type":"template","id":"node_48","level":"debug","msg":"添加文件节点","name":"hosts.allow.j2","time":"2025-07-26 12:11:58"}
{"file_type":"template","id":"node_49","level":"debug","msg":"添加文件节点","name":"logrotate.j2","time":"2025-07-26 12:11:58"}
{"level":"debug","msg":"根节点信息","root_id":"node_1","root_name":"69","root_type":"directory","time":"2025-07-26 12:11:58"}
{"level":"info","msg":"相关文件扫描完成","path":"/data/ahop/repos/1/69","time":"2025-07-26 12:11:58"}
{"level":"info","msg":"开始扫描survey文件","path":"/data/ahop/repos/1/69","time":"2025-07-26 12:11:58"}
{"count":0,"level":"info","msg":"survey文件扫描完成","time":"2025-07-26 12:11:58"}
{"ansible_files":12,"level":"info","msg":"增强扫描完成","shell_files":3,"surveys":0,"template_files":8,"time":"2025-07-26 12:11:58","total_files":23}
{"children_count":8,"file_tree_id":"node_1","file_tree_name":"69","file_tree_type":"directory","level":"debug","msg":"增强扫描结果文件树信息","time":"2025-07-26 12:11:58"}
{"first_child_file_type":"shell","first_child_id":"node_2","first_child_name":"backup_database.sh","level":"debug","msg":"第一个子节点信息","time":"2025-07-26 12:11:58"}
{"data_length":6275,"level":"debug","msg":"序列化成功","time":"2025-07-26 12:11:58"}
{"json_preview":"{\"surveys\":[],\"file_tree\":{\"id\":\"node_1\",\"name\":\"69\",\"path\":\".\",\"type\":\"directory\",\"size\":0,\"selectable\":false,\"children\":[{\"id\":\"node_2\",\"name\":\"backup_database.sh\",\"path\":\"backup_database.sh\",\"type\":\"file\",\"file_type\":\"shell\",\"size\":3240,\"selectable\":true},{\"id\":\"node_3\",\"name\":\"check_system.sh\",\"path\":\"check_system.sh\",\"type\":\"file\",\"file_type\":\"shell\",\"size\":3267,\"selectable\":true},{\"id\":\"node_4\",\"name\":\"deploy_ansible.sh\",\"path\":\"deploy_ansible.sh\",\"type\":\"file\",\"file_type\":\"shell\",\"size\":2","level":"debug","msg":"JSON预览","time":"2025-07-26 12:11:58"}
{"level":"debug","msg":"JSON数据包含ID字段","time":"2025-07-26 12:11:58"}
{"level":"info","msg":"增强扫描完成，结果已存入Redis","survey_count":0,"task_id":"scan_1_69_1753503118","time":"2025-07-26 12:11:58","total_files":23}
{"action":"scan","level":"info","msg":"收到Git扫描任务","repository_id":69,"task_id":"scan_1_69_1753503139","tenant_id":1,"time":"2025-07-26 12:12:19"}
{"level":"info","msg":"执行增强扫描（包含文件树）","time":"2025-07-26 12:12:19"}
{"id":69,"level":"info","msg":"开始增强扫描","name":"Gin Framework","path":"/data/ahop/repos/1/69","time":"2025-07-26 12:12:19"}
{"level":"info","msg":"开始扫描相关文件","path":"/data/ahop/repos/1/69","time":"2025-07-26 12:12:19"}
{"file_type":"shell","id":"node_2","level":"debug","msg":"添加文件节点","name":"backup_database.sh","time":"2025-07-26 12:12:19"}
{"file_type":"shell","id":"node_3","level":"debug","msg":"添加文件节点","name":"check_system.sh","time":"2025-07-26 12:12:19"}
{"file_type":"shell","id":"node_4","level":"debug","msg":"添加文件节点","name":"deploy_ansible.sh","time":"2025-07-26 12:12:19"}
{"file_type":"ansible","id":"node_6","level":"debug","msg":"添加文件节点","name":"all.yml","time":"2025-07-26 12:12:19"}
{"file_type":"ansible","id":"node_7","level":"debug","msg":"添加文件节点","name":"init_system.yml","time":"2025-07-26 12:12:19"}
{"file_type":"ansible","id":"node_13","level":"debug","msg":"添加文件节点","name":"main.yml","time":"2025-07-26 12:12:19"}
{"file_type":"ansible","id":"node_15","level":"debug","msg":"添加文件节点","name":"main.yml","time":"2025-07-26 12:12:19"}
{"file_type":"template","id":"node_17","level":"debug","msg":"添加文件节点","name":"env.j2","time":"2025-07-26 12:12:19"}
{"file_type":"ansible","id":"node_20","level":"debug","msg":"添加文件节点","name":"main.yml","time":"2025-07-26 12:12:19"}
{"file_type":"ansible","id":"node_22","level":"debug","msg":"添加文件节点","name":"main.yml","time":"2025-07-26 12:12:19"}
{"file_type":"ansible","id":"node_25","level":"debug","msg":"添加文件节点","name":"main.yml","time":"2025-07-26 12:12:19"}
{"file_type":"template","id":"node_27","level":"debug","msg":"添加文件节点","name":"filebeat.yml.j2","time":"2025-07-26 12:12:19"}
{"file_type":"ansible","id":"node_30","level":"debug","msg":"添加文件节点","name":"main.yml","time":"2025-07-26 12:12:19"}
{"file_type":"ansible","id":"node_32","level":"debug","msg":"添加文件节点","name":"main.yml","time":"2025-07-26 12:12:19"}
{"file_type":"template","id":"node_34","level":"debug","msg":"添加文件节点","name":"prometheus.yml.j2","time":"2025-07-26 12:12:19"}
{"file_type":"ansible","id":"node_37","level":"debug","msg":"添加文件节点","name":"main.yml","time":"2025-07-26 12:12:19"}
{"file_type":"template","id":"node_39","level":"debug","msg":"添加文件节点","name":"nginx.conf.j2","time":"2025-07-26 12:12:19"}
{"file_type":"template","id":"node_40","level":"debug","msg":"添加文件节点","name":"vhosts.conf.j2","time":"2025-07-26 12:12:19"}
{"file_type":"ansible","id":"node_42","level":"debug","msg":"添加文件节点","name":"main.yml","time":"2025-07-26 12:12:19"}
{"file_type":"template","id":"node_45","level":"debug","msg":"添加文件节点","name":"user_config.j2","time":"2025-07-26 12:12:19"}
{"file_type":"ansible","id":"node_46","level":"debug","msg":"添加文件节点","name":"site.yml","time":"2025-07-26 12:12:19"}
{"file_type":"template","id":"node_48","level":"debug","msg":"添加文件节点","name":"hosts.allow.j2","time":"2025-07-26 12:12:19"}
{"file_type":"template","id":"node_49","level":"debug","msg":"添加文件节点","name":"logrotate.j2","time":"2025-07-26 12:12:19"}
{"level":"debug","msg":"根节点信息","root_id":"node_1","root_name":"69","root_type":"directory","time":"2025-07-26 12:12:19"}
{"level":"info","msg":"相关文件扫描完成","path":"/data/ahop/repos/1/69","time":"2025-07-26 12:12:19"}
{"level":"info","msg":"开始扫描survey文件","path":"/data/ahop/repos/1/69","time":"2025-07-26 12:12:19"}
{"count":0,"level":"info","msg":"survey文件扫描完成","time":"2025-07-26 12:12:19"}
{"ansible_files":12,"level":"info","msg":"增强扫描完成","shell_files":3,"surveys":0,"template_files":8,"time":"2025-07-26 12:12:19","total_files":23}
{"children_count":8,"file_tree_id":"node_1","file_tree_name":"69","file_tree_type":"directory","level":"debug","msg":"增强扫描结果文件树信息","time":"2025-07-26 12:12:19"}
{"first_child_file_type":"shell","first_child_id":"node_2","first_child_name":"backup_database.sh","level":"debug","msg":"第一个子节点信息","time":"2025-07-26 12:12:19"}
{"data_length":6275,"level":"debug","msg":"序列化成功","time":"2025-07-26 12:12:19"}
{"json_preview":"{\"surveys\":[],\"file_tree\":{\"id\":\"node_1\",\"name\":\"69\",\"path\":\".\",\"type\":\"directory\",\"size\":0,\"selectable\":false,\"children\":[{\"id\":\"node_2\",\"name\":\"backup_database.sh\",\"path\":\"backup_database.sh\",\"type\":\"file\",\"file_type\":\"shell\",\"size\":3240,\"selectable\":true},{\"id\":\"node_3\",\"name\":\"check_system.sh\",\"path\":\"check_system.sh\",\"type\":\"file\",\"file_type\":\"shell\",\"size\":3267,\"selectable\":true},{\"id\":\"node_4\",\"name\":\"deploy_ansible.sh\",\"path\":\"deploy_ansible.sh\",\"type\":\"file\",\"file_type\":\"shell\",\"size\":2","level":"debug","msg":"JSON预览","time":"2025-07-26 12:12:19"}
{"level":"debug","msg":"JSON数据包含ID字段","time":"2025-07-26 12:12:19"}
{"level":"info","msg":"增强扫描完成，结果已存入Redis","survey_count":0,"task_id":"scan_1_69_1753503139","time":"2025-07-26 12:12:19","total_files":23}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-26 12:12:46"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-26 12:14:46"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-26 12:16:46"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-26 12:18:46"}
{"level":"info","msg":"收到退出信号，正在停止Worker...","time":"2025-07-26 12:19:39"}
{"level":"info","msg":"开始停止Worker","time":"2025-07-26 12:19:39"}
{"level":"info","msg":"Git同步订阅服务收到退出信号","time":"2025-07-26 12:19:39"}
{"consumer_id":1,"level":"info","msg":"任务消费者收到退出信号","time":"2025-07-26 12:19:45","worker_id":"test-worker-001"}
{"consumer_id":0,"level":"info","msg":"任务消费者收到退出信号","time":"2025-07-26 12:19:45","worker_id":"test-worker-001"}
{"level":"info","msg":"所有任务已完成","time":"2025-07-26 12:19:45"}
{"level":"info","msg":"已通知Master断开连接","time":"2025-07-26 12:19:45"}
{"level":"info","msg":"Worker已停止","time":"2025-07-26 12:19:45"}
{"level":"info","msg":"Worker已优雅停止","time":"2025-07-26 12:19:45"}
{"level":"info","master_url":"http://localhost:8080","msg":"启动AHOP Worker","time":"2025-07-26 12:19:49","version":"1.0.0","worker_name":"AHOP Worker on development"}
{"level":"info","msg":"使用配置的worker_id","time":"2025-07-26 12:19:49","worker_id":"test-worker-001"}
{"level":"info","master_url":"http://localhost:8080","msg":"Worker认证成功，获得数据库和Redis凭据","time":"2025-07-26 12:19:49","worker_id":"test-worker-001"}
{"executors":2,"level":"info","msg":"已注册任务执行器","time":"2025-07-26 12:19:49"}
{"concurrency":2,"level":"info","msg":"Worker启动成功","time":"2025-07-26 12:19:49","worker_id":"test-worker-001"}
{"level":"info","msg":"Worker启动成功，正在等待任务...","time":"2025-07-26 12:19:49"}
{"level":"info","msg":"Git扫描队列消费者已启动","time":"2025-07-26 12:19:49"}
{"consumer_id":0,"level":"info","msg":"任务消费者启动","time":"2025-07-26 12:19:49","worker_id":"test-worker-001"}
{"consumer_id":1,"level":"info","msg":"任务消费者启动","time":"2025-07-26 12:19:49","worker_id":"test-worker-001"}
{"level":"info","msg":"Git同步订阅服务已启动","time":"2025-07-26 12:19:49"}
{"level":"info","master_url":"http://localhost:8080","msg":"启动AHOP Worker","time":"2025-07-26 12:21:46","version":"1.0.0","worker_name":"AHOP Worker on development"}
{"level":"info","msg":"使用配置的worker_id","time":"2025-07-26 12:21:46","worker_id":"test-worker-001"}
{"error":"向Master认证失败: 认证失败: Worker ID 'test-worker-001' 已经被其他实例使用（IP: ::1） (HTTP 200, Code 409)","level":"fatal","msg":"创建Worker失败","time":"2025-07-26 12:21:46"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-26 12:21:49"}
{"level":"info","master_url":"http://localhost:8080","msg":"启动AHOP Worker","time":"2025-07-26 12:21:57","version":"1.0.0","worker_name":"AHOP Worker on development"}
{"level":"info","msg":"使用配置的worker_id","time":"2025-07-26 12:21:57","worker_id":"test-worker-001"}
{"error":"向Master认证失败: 认证失败: Worker ID 'test-worker-001' 已经被其他实例使用（IP: ::1） (HTTP 200, Code 409)","level":"fatal","msg":"创建Worker失败","time":"2025-07-26 12:21:57"}
{"level":"info","master_url":"http://localhost:8080","msg":"启动AHOP Worker","time":"2025-07-26 12:22:19","version":"1.0.0","worker_name":"AHOP Worker on development"}
{"level":"info","msg":"使用配置的worker_id","time":"2025-07-26 12:22:19","worker_id":"test-worker-001"}
{"error":"向Master认证失败: 认证失败: Worker ID 'test-worker-001' 已经被其他实例使用（IP: ::1） (HTTP 200, Code 409)","level":"fatal","msg":"创建Worker失败","time":"2025-07-26 12:22:19"}
{"level":"info","master_url":"http://localhost:8080","msg":"启动AHOP Worker","time":"2025-07-26 12:22:32","version":"1.0.0","worker_name":"AHOP Worker on development"}
{"level":"info","msg":"使用配置的worker_id","time":"2025-07-26 12:22:32","worker_id":"test-worker-001"}
{"error":"向Master认证失败: 认证失败: Worker ID 'test-worker-001' 已经被其他实例使用（IP: ::1） (HTTP 200, Code 409)","level":"fatal","msg":"创建Worker失败","time":"2025-07-26 12:22:32"}
{"level":"info","master_url":"http://localhost:8080","msg":"启动AHOP Worker","time":"2025-07-26 12:23:30","version":"1.0.0","worker_name":"AHOP Worker on development"}
{"level":"info","msg":"使用配置的worker_id","time":"2025-07-26 12:23:30","worker_id":"test-worker-001"}
{"level":"info","master_url":"http://localhost:8080","msg":"Worker认证成功，获得数据库和Redis凭据","time":"2025-07-26 12:23:30","worker_id":"test-worker-001"}
{"executors":2,"level":"info","msg":"已注册任务执行器","time":"2025-07-26 12:23:30"}
{"concurrency":2,"level":"info","msg":"Worker启动成功","time":"2025-07-26 12:23:30","worker_id":"test-worker-001"}
{"level":"info","msg":"Worker启动成功，正在等待任务...","time":"2025-07-26 12:23:30"}
{"level":"info","msg":"Git扫描队列消费者已启动","time":"2025-07-26 12:23:30"}
{"consumer_id":1,"level":"info","msg":"任务消费者启动","time":"2025-07-26 12:23:30","worker_id":"test-worker-001"}
{"consumer_id":0,"level":"info","msg":"任务消费者启动","time":"2025-07-26 12:23:30","worker_id":"test-worker-001"}
{"level":"info","msg":"Git同步订阅服务已启动","time":"2025-07-26 12:23:30"}
{"action":"scan","level":"info","msg":"收到Git扫描任务","repository_id":69,"task_id":"scan_1_69_1753503815","tenant_id":1,"time":"2025-07-26 12:23:35"}
{"level":"info","msg":"执行增强扫描（包含文件树）","time":"2025-07-26 12:23:35"}
{"id":69,"level":"info","msg":"开始增强扫描","name":"Gin Framework","path":"/data/ahop/repos/1/69","time":"2025-07-26 12:23:35"}
{"level":"info","msg":"开始扫描相关文件","path":"/data/ahop/repos/1/69","time":"2025-07-26 12:23:35"}
{"level":"info","msg":"相关文件扫描完成","path":"/data/ahop/repos/1/69","time":"2025-07-26 12:23:35"}
{"level":"info","msg":"开始扫描survey文件","path":"/data/ahop/repos/1/69","time":"2025-07-26 12:23:35"}
{"count":0,"level":"info","msg":"survey文件扫描完成","time":"2025-07-26 12:23:35"}
{"level":"debug","msg":"扫描 Shell 脚本","path":"/data/ahop/repos/1/69/backup_database.sh","time":"2025-07-26 12:23:35"}
{"level":"debug","msg":"扫描 Shell 脚本","path":"/data/ahop/repos/1/69/check_system.sh","time":"2025-07-26 12:23:35"}
{"level":"debug","msg":"扫描 Shell 脚本","path":"/data/ahop/repos/1/69/deploy_ansible.sh","time":"2025-07-26 12:23:35"}
{"ansible_files":12,"level":"info","msg":"增强扫描完成","shell_files":3,"surveys":3,"template_files":8,"time":"2025-07-26 12:23:35","total_files":23}
{"level":"info","msg":"增强扫描完成，结果已存入Redis","survey_count":3,"task_id":"scan_1_69_1753503815","time":"2025-07-26 12:23:35","total_files":23}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-26 12:25:30"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-26 12:27:30"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-26 12:29:30"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-26 12:31:30"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-26 12:33:30"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-26 12:35:30"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-26 12:37:30"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-26 12:39:30"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-26 12:41:30"}
{"level":"info","msg":"收到退出信号，正在停止Worker...","time":"2025-07-26 12:42:48"}
{"level":"info","msg":"开始停止Worker","time":"2025-07-26 12:42:48"}
{"level":"info","msg":"Git同步订阅服务收到退出信号","time":"2025-07-26 12:42:48"}
{"consumer_id":0,"level":"info","msg":"任务消费者收到退出信号","time":"2025-07-26 12:42:52","worker_id":"test-worker-001"}
{"consumer_id":1,"level":"info","msg":"任务消费者收到退出信号","time":"2025-07-26 12:42:52","worker_id":"test-worker-001"}
{"level":"info","msg":"所有任务已完成","time":"2025-07-26 12:42:52"}
{"level":"info","msg":"已通知Master断开连接","time":"2025-07-26 12:42:52"}
{"level":"info","msg":"Worker已停止","time":"2025-07-26 12:42:52"}
{"level":"info","msg":"Worker已优雅停止","time":"2025-07-26 12:42:52"}
{"level":"info","master_url":"http://localhost:8080","msg":"启动AHOP Worker","time":"2025-07-26 12:42:54","version":"1.0.0","worker_name":"AHOP Worker on development"}
{"level":"info","msg":"使用配置的worker_id","time":"2025-07-26 12:42:54","worker_id":"test-worker-001"}
{"level":"info","master_url":"http://localhost:8080","msg":"Worker认证成功，获得数据库和Redis凭据","time":"2025-07-26 12:42:54","worker_id":"test-worker-001"}
{"executors":2,"level":"info","msg":"已注册任务执行器","time":"2025-07-26 12:42:54"}
{"concurrency":2,"level":"info","msg":"Worker启动成功","time":"2025-07-26 12:42:54","worker_id":"test-worker-001"}
{"level":"info","msg":"Worker启动成功，正在等待任务...","time":"2025-07-26 12:42:54"}
{"level":"info","msg":"Git扫描队列消费者已启动","time":"2025-07-26 12:42:54"}
{"consumer_id":1,"level":"info","msg":"任务消费者启动","time":"2025-07-26 12:42:54","worker_id":"test-worker-001"}
{"consumer_id":0,"level":"info","msg":"任务消费者启动","time":"2025-07-26 12:42:54","worker_id":"test-worker-001"}
{"level":"info","msg":"Git同步订阅服务已启动","time":"2025-07-26 12:42:54"}
{"action":"scan","level":"info","msg":"收到Git扫描任务","repository_id":69,"task_id":"scan_1_69_1753504978","tenant_id":1,"time":"2025-07-26 12:42:58"}
{"level":"info","msg":"执行增强扫描（包含文件树）","time":"2025-07-26 12:42:58"}
{"id":69,"level":"info","msg":"开始增强扫描","name":"Gin Framework","path":"/data/ahop/repos/1/69","time":"2025-07-26 12:42:58"}
{"level":"info","msg":"开始扫描相关文件","path":"/data/ahop/repos/1/69","time":"2025-07-26 12:42:58"}
{"level":"info","msg":"相关文件扫描完成","path":"/data/ahop/repos/1/69","time":"2025-07-26 12:42:58"}
{"level":"info","msg":"开始扫描survey文件","path":"/data/ahop/repos/1/69","time":"2025-07-26 12:42:58"}
{"count":0,"level":"info","msg":"survey文件扫描完成","time":"2025-07-26 12:42:58"}
{"level":"debug","msg":"扫描 Shell 脚本","path":"/data/ahop/repos/1/69/backup_database.sh","time":"2025-07-26 12:42:58"}
{"level":"debug","msg":"扫描 Shell 脚本","path":"/data/ahop/repos/1/69/check_system.sh","time":"2025-07-26 12:42:58"}
{"level":"debug","msg":"扫描 Shell 脚本","path":"/data/ahop/repos/1/69/deploy_ansible.sh","time":"2025-07-26 12:42:58"}
{"ansible_files":12,"level":"info","msg":"增强扫描完成","shell_files":3,"surveys":3,"template_files":8,"time":"2025-07-26 12:42:58","total_files":23}
{"level":"info","msg":"增强扫描完成，结果已存入Redis","survey_count":3,"task_id":"scan_1_69_1753504978","time":"2025-07-26 12:42:58","total_files":23}
{"level":"info","msg":"收到退出信号，正在停止Worker...","time":"2025-07-26 12:44:23"}
{"level":"info","msg":"开始停止Worker","time":"2025-07-26 12:44:23"}
{"level":"info","msg":"Git同步订阅服务收到退出信号","time":"2025-07-26 12:44:23"}
{"consumer_id":0,"level":"info","msg":"任务消费者收到退出信号","time":"2025-07-26 12:44:25","worker_id":"test-worker-001"}
{"consumer_id":1,"level":"info","msg":"任务消费者收到退出信号","time":"2025-07-26 12:44:25","worker_id":"test-worker-001"}
{"level":"info","msg":"所有任务已完成","time":"2025-07-26 12:44:25"}
{"level":"info","msg":"已通知Master断开连接","time":"2025-07-26 12:44:25"}
{"level":"info","msg":"Worker已停止","time":"2025-07-26 12:44:25"}
{"level":"info","msg":"Worker已优雅停止","time":"2025-07-26 12:44:25"}
{"level":"info","master_url":"http://localhost:8080","msg":"启动AHOP Worker","time":"2025-07-26 12:44:30","version":"1.0.0","worker_name":"AHOP Worker on development"}
{"level":"info","msg":"使用配置的worker_id","time":"2025-07-26 12:44:30","worker_id":"test-worker-001"}
{"level":"info","master_url":"http://localhost:8080","msg":"Worker认证成功，获得数据库和Redis凭据","time":"2025-07-26 12:44:30","worker_id":"test-worker-001"}
{"executors":2,"level":"info","msg":"已注册任务执行器","time":"2025-07-26 12:44:30"}
{"concurrency":2,"level":"info","msg":"Worker启动成功","time":"2025-07-26 12:44:30","worker_id":"test-worker-001"}
{"level":"info","msg":"Worker启动成功，正在等待任务...","time":"2025-07-26 12:44:30"}
{"level":"info","msg":"Git扫描队列消费者已启动","time":"2025-07-26 12:44:30"}
{"level":"info","msg":"Git同步订阅服务已启动","time":"2025-07-26 12:44:30"}
{"consumer_id":0,"level":"info","msg":"任务消费者启动","time":"2025-07-26 12:44:30","worker_id":"test-worker-001"}
{"consumer_id":1,"level":"info","msg":"任务消费者启动","time":"2025-07-26 12:44:30","worker_id":"test-worker-001"}
{"action":"scan","level":"info","msg":"收到Git扫描任务","repository_id":69,"task_id":"scan_1_69_1753505072","tenant_id":1,"time":"2025-07-26 12:44:32"}
{"level":"info","msg":"执行增强扫描（包含文件树）","time":"2025-07-26 12:44:32"}
{"id":69,"level":"info","msg":"开始增强扫描","name":"Gin Framework","path":"/data/ahop/repos/1/69","time":"2025-07-26 12:44:32"}
{"level":"info","msg":"开始扫描相关文件","path":"/data/ahop/repos/1/69","time":"2025-07-26 12:44:32"}
{"level":"info","msg":"相关文件扫描完成","path":"/data/ahop/repos/1/69","time":"2025-07-26 12:44:32"}
{"level":"info","msg":"开始扫描survey文件","path":"/data/ahop/repos/1/69","time":"2025-07-26 12:44:32"}
{"count":0,"level":"info","msg":"survey文件扫描完成","time":"2025-07-26 12:44:32"}
{"level":"debug","msg":"扫描 Shell 脚本","path":"/data/ahop/repos/1/69/backup_database.sh","time":"2025-07-26 12:44:32"}
{"level":"debug","msg":"扫描 Shell 脚本","path":"/data/ahop/repos/1/69/check_system.sh","time":"2025-07-26 12:44:32"}
{"level":"debug","msg":"扫描 Shell 脚本","path":"/data/ahop/repos/1/69/deploy_ansible.sh","time":"2025-07-26 12:44:32"}
{"ansible_files":12,"level":"info","msg":"增强扫描完成","shell_files":3,"surveys":3,"template_files":8,"time":"2025-07-26 12:44:32","total_files":23}
{"level":"info","msg":"增强扫描完成，结果已存入Redis","survey_count":3,"task_id":"scan_1_69_1753505072","time":"2025-07-26 12:44:32","total_files":23}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-26 12:46:30"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-26 12:48:30"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-26 12:50:30"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-26 12:52:30"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-26 12:54:30"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-26 12:56:30"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-26 12:58:30"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-26 13:00:30"}
{"action":"scan","level":"info","msg":"收到Git扫描任务","repository_id":69,"task_id":"scan_1_69_1753506149","tenant_id":1,"time":"2025-07-26 13:02:29"}
{"level":"info","msg":"执行增强扫描（包含文件树）","time":"2025-07-26 13:02:29"}
{"id":69,"level":"info","msg":"开始增强扫描","name":"Gin Framework","path":"/data/ahop/repos/1/69","time":"2025-07-26 13:02:29"}
{"level":"info","msg":"开始扫描相关文件","path":"/data/ahop/repos/1/69","time":"2025-07-26 13:02:29"}
{"level":"info","msg":"相关文件扫描完成","path":"/data/ahop/repos/1/69","time":"2025-07-26 13:02:29"}
{"level":"info","msg":"开始扫描survey文件","path":"/data/ahop/repos/1/69","time":"2025-07-26 13:02:29"}
{"count":0,"level":"info","msg":"survey文件扫描完成","time":"2025-07-26 13:02:29"}
{"level":"debug","msg":"扫描 Shell 脚本","path":"/data/ahop/repos/1/69/backup_database.sh","time":"2025-07-26 13:02:29"}
{"level":"debug","msg":"扫描 Shell 脚本","path":"/data/ahop/repos/1/69/check_system.sh","time":"2025-07-26 13:02:29"}
{"level":"debug","msg":"扫描 Shell 脚本","path":"/data/ahop/repos/1/69/deploy_ansible.sh","time":"2025-07-26 13:02:29"}
{"ansible_files":12,"level":"info","msg":"增强扫描完成","shell_files":3,"surveys":3,"template_files":8,"time":"2025-07-26 13:02:29","total_files":23}
{"level":"info","msg":"增强扫描完成，结果已存入Redis","survey_count":3,"task_id":"scan_1_69_1753506149","time":"2025-07-26 13:02:29","total_files":23}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-26 13:02:30"}
{"action":"scan","level":"info","msg":"收到Git扫描任务","repository_id":69,"task_id":"scan_1_69_1753506159","tenant_id":1,"time":"2025-07-26 13:02:39"}
{"level":"info","msg":"执行增强扫描（包含文件树）","time":"2025-07-26 13:02:39"}
{"id":69,"level":"info","msg":"开始增强扫描","name":"Gin Framework","path":"/data/ahop/repos/1/69","time":"2025-07-26 13:02:39"}
{"level":"info","msg":"开始扫描相关文件","path":"/data/ahop/repos/1/69","time":"2025-07-26 13:02:39"}
{"level":"info","msg":"相关文件扫描完成","path":"/data/ahop/repos/1/69","time":"2025-07-26 13:02:39"}
{"level":"info","msg":"开始扫描survey文件","path":"/data/ahop/repos/1/69","time":"2025-07-26 13:02:39"}
{"count":0,"level":"info","msg":"survey文件扫描完成","time":"2025-07-26 13:02:39"}
{"level":"debug","msg":"扫描 Shell 脚本","path":"/data/ahop/repos/1/69/backup_database.sh","time":"2025-07-26 13:02:39"}
{"level":"debug","msg":"扫描 Shell 脚本","path":"/data/ahop/repos/1/69/check_system.sh","time":"2025-07-26 13:02:39"}
{"level":"debug","msg":"扫描 Shell 脚本","path":"/data/ahop/repos/1/69/deploy_ansible.sh","time":"2025-07-26 13:02:39"}
{"ansible_files":12,"level":"info","msg":"增强扫描完成","shell_files":3,"surveys":3,"template_files":8,"time":"2025-07-26 13:02:39","total_files":23}
{"level":"info","msg":"增强扫描完成，结果已存入Redis","survey_count":3,"task_id":"scan_1_69_1753506159","time":"2025-07-26 13:02:39","total_files":23}
{"action":"scan","level":"info","msg":"收到Git扫描任务","repository_id":69,"task_id":"scan_1_69_1753506168","tenant_id":1,"time":"2025-07-26 13:02:48"}
{"level":"info","msg":"执行增强扫描（包含文件树）","time":"2025-07-26 13:02:48"}
{"id":69,"level":"info","msg":"开始增强扫描","name":"Gin Framework","path":"/data/ahop/repos/1/69","time":"2025-07-26 13:02:48"}
{"level":"info","msg":"开始扫描相关文件","path":"/data/ahop/repos/1/69","time":"2025-07-26 13:02:48"}
{"level":"info","msg":"相关文件扫描完成","path":"/data/ahop/repos/1/69","time":"2025-07-26 13:02:48"}
{"level":"info","msg":"开始扫描survey文件","path":"/data/ahop/repos/1/69","time":"2025-07-26 13:02:48"}
{"count":0,"level":"info","msg":"survey文件扫描完成","time":"2025-07-26 13:02:48"}
{"level":"debug","msg":"扫描 Shell 脚本","path":"/data/ahop/repos/1/69/backup_database.sh","time":"2025-07-26 13:02:48"}
{"level":"debug","msg":"扫描 Shell 脚本","path":"/data/ahop/repos/1/69/check_system.sh","time":"2025-07-26 13:02:48"}
{"level":"debug","msg":"扫描 Shell 脚本","path":"/data/ahop/repos/1/69/deploy_ansible.sh","time":"2025-07-26 13:02:48"}
{"ansible_files":12,"level":"info","msg":"增强扫描完成","shell_files":3,"surveys":3,"template_files":8,"time":"2025-07-26 13:02:48","total_files":23}
{"level":"info","msg":"增强扫描完成，结果已存入Redis","survey_count":3,"task_id":"scan_1_69_1753506168","time":"2025-07-26 13:02:48","total_files":23}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-26 13:04:30"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-26 13:06:30"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-26 13:08:30"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-26 13:10:30"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-26 13:12:30"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-26 13:14:30"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-26 13:16:30"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-26 13:18:30"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-26 13:20:30"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-26 13:22:30"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-26 13:24:30"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-26 13:26:30"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-26 13:28:30"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-26 13:30:30"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-26 13:32:30"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-26 13:34:30"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-26 13:36:30"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-26 13:38:30"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-26 13:40:30"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-26 13:42:30"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-26 13:44:30"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-26 13:46:30"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-26 13:48:30"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-26 13:50:30"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-26 13:52:30"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-26 13:54:30"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-26 13:56:30"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-26 13:58:30"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-26 14:00:30"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-26 14:02:30"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-26 14:04:30"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-26 14:06:30"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-26 14:08:30"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-26 14:10:30"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-26 14:12:30"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-26 14:14:30"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-26 14:16:30"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-26 14:18:30"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-26 14:20:30"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-26 14:22:30"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-26 14:24:30"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-26 14:26:30"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-26 14:28:30"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-26 14:30:30"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-26 14:32:30"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-26 14:34:30"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-26 14:36:30"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-26 14:38:30"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-26 14:40:30"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-26 14:42:30"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-26 14:44:30"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-26 14:46:30"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-26 14:48:30"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-26 14:50:30"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-26 14:52:30"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-26 14:54:30"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-26 14:56:30"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-26 14:58:30"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-26 15:00:30"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-26 15:02:30"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-26 15:04:30"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-26 15:06:30"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-26 15:08:30"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-26 15:10:30"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-26 15:12:30"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-26 15:14:30"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-26 15:16:30"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-26 15:18:30"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-26 15:20:30"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-26 15:22:30"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-26 15:24:30"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-26 15:26:30"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-26 15:28:30"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-26 15:30:30"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-26 15:32:30"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-26 15:34:30"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-26 15:36:30"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-26 15:38:30"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-26 15:40:30"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-26 15:42:30"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-26 15:44:30"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-26 15:46:30"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-26 15:48:30"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-26 15:50:30"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-26 15:52:30"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-26 15:54:30"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-26 15:56:30"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-26 15:58:30"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-26 16:00:30"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-26 16:02:30"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-26 16:04:30"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-26 16:06:30"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-26 16:08:30"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-26 16:10:30"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-26 16:12:30"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-26 16:14:30"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-26 16:16:30"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-26 16:18:30"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-26 16:20:30"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-26 16:22:30"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-26 16:24:30"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-26 16:26:30"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-26 16:28:30"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-26 16:30:30"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-26 16:32:30"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-26 16:34:30"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-26 16:36:30"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-26 16:38:30"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-26 16:40:30"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-26 16:42:30"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-26 16:44:30"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-26 16:46:30"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-26 16:48:30"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-26 16:50:30"}
{"error":"请求失败: Put \"http://localhost:8080/api/v1/worker/heartbeat\": dial tcp [::1]:8080: connect: connection refused","level":"warning","msg":"更新Master心跳失败","time":"2025-07-26 16:51:01"}
{"error":"请求失败: Put \"http://localhost:8080/api/v1/worker/heartbeat\": dial tcp [::1]:8080: connect: connection refused","level":"warning","msg":"更新Master心跳失败","time":"2025-07-26 16:51:31"}
{"error":"请求失败: Put \"http://localhost:8080/api/v1/worker/heartbeat\": dial tcp [::1]:8080: connect: connection refused","level":"warning","msg":"更新Master心跳失败","time":"2025-07-26 16:52:01"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-26 16:52:30"}
{"error":"请求失败: Put \"http://localhost:8080/api/v1/worker/heartbeat\": dial tcp [::1]:8080: connect: connection refused","level":"warning","msg":"更新Master心跳失败","time":"2025-07-26 16:52:31"}
{"error":"请求失败: Put \"http://localhost:8080/api/v1/worker/heartbeat\": dial tcp [::1]:8080: connect: connection refused","level":"warning","msg":"更新Master心跳失败","time":"2025-07-26 16:53:01"}
{"error":"请求失败: Put \"http://localhost:8080/api/v1/worker/heartbeat\": dial tcp [::1]:8080: connect: connection refused","level":"warning","msg":"更新Master心跳失败","time":"2025-07-26 16:53:31"}
{"error":"请求失败: Put \"http://localhost:8080/api/v1/worker/heartbeat\": dial tcp [::1]:8080: connect: connection refused","level":"warning","msg":"更新Master心跳失败","time":"2025-07-26 16:54:01"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-26 16:54:30"}
{"error":"请求失败: Put \"http://localhost:8080/api/v1/worker/heartbeat\": dial tcp [::1]:8080: connect: connection refused","level":"warning","msg":"更新Master心跳失败","time":"2025-07-26 16:54:31"}
{"error":"请求失败: Put \"http://localhost:8080/api/v1/worker/heartbeat\": dial tcp [::1]:8080: connect: connection refused","level":"warning","msg":"更新Master心跳失败","time":"2025-07-26 16:55:01"}
{"error":"请求失败: Put \"http://localhost:8080/api/v1/worker/heartbeat\": dial tcp [::1]:8080: connect: connection refused","level":"warning","msg":"更新Master心跳失败","time":"2025-07-26 16:55:31"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-26 16:56:30"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-26 16:58:30"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-26 17:00:30"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-26 17:02:30"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-26 17:04:30"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-26 17:06:30"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-26 17:08:30"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-26 17:10:30"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-26 17:12:30"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-26 17:14:30"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-26 17:16:30"}
{"level":"info","msg":"收到退出信号，正在停止Worker...","time":"2025-07-26 17:16:51"}
{"level":"info","msg":"开始停止Worker","time":"2025-07-26 17:16:51"}
{"level":"info","msg":"Git同步订阅服务收到退出信号","time":"2025-07-26 17:16:51"}
{"consumer_id":0,"level":"info","msg":"任务消费者收到退出信号","time":"2025-07-26 17:16:59","worker_id":"test-worker-001"}
{"consumer_id":1,"level":"info","msg":"任务消费者收到退出信号","time":"2025-07-26 17:16:59","worker_id":"test-worker-001"}
{"level":"info","msg":"所有任务已完成","time":"2025-07-26 17:16:59"}
{"level":"info","msg":"已通知Master断开连接","time":"2025-07-26 17:16:59"}
{"level":"info","msg":"Worker已停止","time":"2025-07-26 17:16:59"}
{"level":"info","msg":"Worker已优雅停止","time":"2025-07-26 17:16:59"}
{"level":"info","master_url":"http://localhost:8080","msg":"启动AHOP Worker","time":"2025-07-26 17:17:00","version":"1.0.0","worker_name":"AHOP Worker on development"}
{"level":"info","msg":"使用配置的worker_id","time":"2025-07-26 17:17:00","worker_id":"test-worker-001"}
{"level":"info","master_url":"http://localhost:8080","msg":"Worker认证成功，获得数据库和Redis凭据","time":"2025-07-26 17:17:00","worker_id":"test-worker-001"}
{"executors":2,"level":"info","msg":"已注册任务执行器","time":"2025-07-26 17:17:00"}
{"concurrency":2,"level":"info","msg":"Worker启动成功","time":"2025-07-26 17:17:00","worker_id":"test-worker-001"}
{"level":"info","msg":"Worker启动成功，正在等待任务...","time":"2025-07-26 17:17:00"}
{"consumer_id":1,"level":"info","msg":"任务消费者启动","time":"2025-07-26 17:17:00","worker_id":"test-worker-001"}
{"level":"info","msg":"Git扫描队列消费者已启动","time":"2025-07-26 17:17:00"}
{"consumer_id":0,"level":"info","msg":"任务消费者启动","time":"2025-07-26 17:17:00","worker_id":"test-worker-001"}
{"level":"info","msg":"Git同步订阅服务已启动","time":"2025-07-26 17:17:00"}
{"consumer_id":1,"level":"info","msg":"开始处理任务","source":"api","task_id":"f65d9bda-380a-4017-8ed3-915b53b15e16","task_type":"ping","tenant_id":1,"tenant_name":"默认租户","time":"2025-07-26 17:17:14","user_id":1,"username":"admin","worker_id":"test-worker-001"}
{"count":2,"host_ids":[2,1],"level":"debug","msg":"开始查询主机信息","tenant_id":1,"time":"2025-07-26 17:17:14"}
{"credential_type":"password","host_id":2,"host_ip":"127.0.0.1","host_name":"development","level":"debug","msg":"准备主机连接信息","time":"2025-07-26 17:17:14"}
{"credential_type":"password","host_id":1,"host_ip":"adassad","host_name":"","level":"debug","msg":"准备主机连接信息","time":"2025-07-26 17:17:14"}
{"level":"debug","msg":"主机信息准备完成","time":"2025-07-26 17:17:14","total_prepared":2,"total_requested":2}
{"host_id":2,"level":"debug","msg":"更新主机 ping 状态成功","status":"online","time":"2025-07-26 17:17:17"}
{"host_id":1,"level":"debug","msg":"更新主机 ping 状态成功","status":"offline","time":"2025-07-26 17:17:17"}
{"consumer_id":1,"level":"info","msg":"任务执行成功","source":"api","task_id":"f65d9bda-380a-4017-8ed3-915b53b15e16","task_type":"ping","tenant_id":1,"tenant_name":"默认租户","time":"2025-07-26 17:17:17","user_id":1,"username":"admin","worker_id":"test-worker-001"}
{"consumer_id":1,"level":"info","msg":"开始处理任务","source":"api","task_id":"b044655c-d85e-486d-8f60-e408f68c51cc","task_type":"collect","tenant_id":1,"tenant_name":"默认租户","time":"2025-07-26 17:17:21","user_id":1,"username":"admin","worker_id":"test-worker-001"}
{"count":2,"host_ids":[2,1],"level":"debug","msg":"开始查询主机信息","tenant_id":1,"time":"2025-07-26 17:17:21"}
{"credential_type":"password","host_id":2,"host_ip":"127.0.0.1","host_name":"development","level":"debug","msg":"准备主机连接信息","time":"2025-07-26 17:17:21"}
{"credential_type":"password","host_id":1,"host_ip":"adassad","host_name":"","level":"debug","msg":"准备主机连接信息","time":"2025-07-26 17:17:21"}
{"level":"debug","msg":"主机信息准备完成","time":"2025-07-26 17:17:21","total_prepared":2,"total_requested":2}
{"host_id":2,"level":"debug","msg":"ansible_facts 字段数量: 109","time":"2025-07-26 17:17:29"}
{"host_id":2,"level":"debug","msg":"找到字段: ansible_mounts","time":"2025-07-26 17:17:29"}
{"host_id":2,"level":"debug","msg":"找到字段: ansible_interfaces","time":"2025-07-26 17:17:29"}
{"host_id":2,"level":"info","msg":"更新主机系统信息成功","time":"2025-07-26 17:17:29"}
{"host_id":1,"level":"debug","msg":"ansible_facts 字段数量: 5","time":"2025-07-26 17:17:29"}
{"host_id":1,"level":"debug","msg":"没有找到挂载点信息","time":"2025-07-26 17:17:29"}
{"host_id":1,"level":"debug","msg":"没有找到网络接口信息","time":"2025-07-26 17:17:29"}
{"host_id":1,"level":"info","msg":"更新主机系统信息成功","time":"2025-07-26 17:17:29"}
{"consumer_id":1,"level":"info","msg":"任务执行成功","source":"api","task_id":"b044655c-d85e-486d-8f60-e408f68c51cc","task_type":"collect","tenant_id":1,"tenant_name":"默认租户","time":"2025-07-26 17:17:29","user_id":1,"username":"admin","worker_id":"test-worker-001"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-26 17:19:00"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-26 17:21:00"}
{"consumer_id":1,"level":"info","msg":"开始处理任务","source":"api","task_id":"cab9d0d2-b082-4b04-8a74-b3fb7d632081","task_type":"template","tenant_id":1,"tenant_name":"默认租户","time":"2025-07-26 17:22:26","user_id":1,"username":"admin","worker_id":"test-worker-001"}
{"consumer_id":1,"error":"缺少 hosts 参数","level":"error","msg":"准备主机信息失败","source":"api","task_id":"cab9d0d2-b082-4b04-8a74-b3fb7d632081","task_type":"template","tenant_id":1,"tenant_name":"默认租户","time":"2025-07-26 17:22:26","user_id":1,"username":"admin","worker_id":"test-worker-001"}
{"consumer_id":1,"level":"warning","msg":"主机信息准备失败，任务将重新入队","source":"api","task_id":"cab9d0d2-b082-4b04-8a74-b3fb7d632081","task_type":"template","tenant_id":1,"tenant_name":"默认租户","time":"2025-07-26 17:22:26","user_id":1,"username":"admin","worker_id":"test-worker-001"}
{"consumer_id":1,"error":"Worker无法重新入队任务，请等待恢复服务处理","level":"error","msg":"重新入队失败","source":"api","task_id":"cab9d0d2-b082-4b04-8a74-b3fb7d632081","task_type":"template","tenant_id":1,"tenant_name":"默认租户","time":"2025-07-26 17:22:26","user_id":1,"username":"admin","worker_id":"test-worker-001"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-26 17:23:00"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-26 17:25:00"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-26 17:27:00"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-26 17:29:00"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-26 17:31:00"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-26 17:33:00"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-26 17:35:00"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-26 17:37:00"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-26 17:39:00"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-26 17:41:00"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-26 17:43:00"}
{"level":"info","msg":"收到退出信号，正在停止Worker...","time":"2025-07-26 17:44:55"}
{"level":"info","msg":"开始停止Worker","time":"2025-07-26 17:44:55"}
{"level":"info","msg":"Git同步订阅服务收到退出信号","time":"2025-07-26 17:44:55"}
{"consumer_id":0,"level":"info","msg":"任务消费者收到退出信号","time":"2025-07-26 17:44:58","worker_id":"test-worker-001"}
{"consumer_id":1,"level":"info","msg":"任务消费者收到退出信号","time":"2025-07-26 17:45:01","worker_id":"test-worker-001"}
{"level":"info","msg":"所有任务已完成","time":"2025-07-26 17:45:01"}
{"level":"info","msg":"已通知Master断开连接","time":"2025-07-26 17:45:01"}
{"level":"info","msg":"Worker已停止","time":"2025-07-26 17:45:01"}
{"level":"info","msg":"Worker已优雅停止","time":"2025-07-26 17:45:01"}
{"level":"info","master_url":"http://localhost:8080","msg":"启动AHOP Worker","time":"2025-07-26 17:45:07","version":"1.0.0","worker_name":"AHOP Worker on development"}
{"level":"info","msg":"使用配置的worker_id","time":"2025-07-26 17:45:07","worker_id":"test-worker-001"}
{"level":"info","master_url":"http://localhost:8080","msg":"Worker认证成功，获得数据库和Redis凭据","time":"2025-07-26 17:45:07","worker_id":"test-worker-001"}
{"executors":2,"level":"info","msg":"已注册任务执行器","time":"2025-07-26 17:45:07"}
{"concurrency":2,"level":"info","msg":"Worker启动成功","time":"2025-07-26 17:45:07","worker_id":"test-worker-001"}
{"level":"info","msg":"Worker启动成功，正在等待任务...","time":"2025-07-26 17:45:07"}
{"level":"info","msg":"Git扫描队列消费者已启动","time":"2025-07-26 17:45:07"}
{"consumer_id":1,"level":"info","msg":"任务消费者启动","time":"2025-07-26 17:45:07","worker_id":"test-worker-001"}
{"consumer_id":0,"level":"info","msg":"任务消费者启动","time":"2025-07-26 17:45:07","worker_id":"test-worker-001"}
{"level":"info","msg":"Git同步订阅服务已启动","time":"2025-07-26 17:45:07"}
{"consumer_id":0,"level":"info","msg":"开始处理任务","source":"api","task_id":"d044c77f-ba48-4fb6-b9cc-4c8d9b9374e4","task_type":"template","tenant_id":1,"tenant_name":"默认租户","time":"2025-07-26 17:45:21","user_id":1,"username":"admin","worker_id":"test-worker-001"}
{"count":3,"host_ids":[1,2,3],"level":"debug","msg":"开始查询主机信息","tenant_id":1,"time":"2025-07-26 17:45:21"}
{"credential_type":"password","host_id":3,"host_ip":"192.168.1.100","host_name":"","level":"debug","msg":"准备主机连接信息","time":"2025-07-26 17:45:21"}
{"credential_type":"password","host_id":2,"host_ip":"127.0.0.1","host_name":"development","level":"debug","msg":"准备主机连接信息","time":"2025-07-26 17:45:21"}
{"credential_type":"password","host_id":1,"host_ip":"adassad","host_name":"","level":"debug","msg":"准备主机连接信息","time":"2025-07-26 17:45:21"}
{"level":"debug","msg":"主机信息准备完成","time":"2025-07-26 17:45:21","total_prepared":3,"total_requested":3}
{"consumer_id":0,"error":"不支持的任务类型: template","level":"error","msg":"任务执行失败","source":"api","task_id":"d044c77f-ba48-4fb6-b9cc-4c8d9b9374e4","task_type":"template","tenant_id":1,"tenant_name":"默认租户","time":"2025-07-26 17:45:21","user_id":1,"username":"admin","worker_id":"test-worker-001"}
{"consumer_id":1,"level":"info","msg":"开始处理任务","source":"api","task_id":"6e107d44-a8fe-4ee4-9620-780c90c5b9ea","task_type":"ping","tenant_id":1,"tenant_name":"默认租户","time":"2025-07-26 17:45:31","user_id":1,"username":"admin","worker_id":"test-worker-001"}
{"count":2,"host_ids":[2,1],"level":"debug","msg":"开始查询主机信息","tenant_id":1,"time":"2025-07-26 17:45:31"}
{"credential_type":"password","host_id":2,"host_ip":"127.0.0.1","host_name":"development","level":"debug","msg":"准备主机连接信息","time":"2025-07-26 17:45:31"}
{"credential_type":"password","host_id":1,"host_ip":"adassad","host_name":"","level":"debug","msg":"准备主机连接信息","time":"2025-07-26 17:45:31"}
{"level":"debug","msg":"主机信息准备完成","time":"2025-07-26 17:45:31","total_prepared":2,"total_requested":2}
{"host_id":2,"level":"debug","msg":"更新主机 ping 状态成功","status":"online","time":"2025-07-26 17:45:33"}
{"host_id":1,"level":"debug","msg":"更新主机 ping 状态成功","status":"offline","time":"2025-07-26 17:45:33"}
{"consumer_id":1,"level":"info","msg":"任务执行成功","source":"api","task_id":"6e107d44-a8fe-4ee4-9620-780c90c5b9ea","task_type":"ping","tenant_id":1,"tenant_name":"默认租户","time":"2025-07-26 17:45:33","user_id":1,"username":"admin","worker_id":"test-worker-001"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-26 17:47:07"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-26 17:49:07"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-26 17:51:07"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-26 17:53:07"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-26 17:55:07"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-26 17:57:07"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-26 17:59:07"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-26 18:01:07"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-26 18:03:07"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-26 18:05:07"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-26 18:07:07"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-26 18:09:07"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-26 18:11:07"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-26 18:13:07"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-26 18:15:07"}
{"level":"info","msg":"收到退出信号，正在停止Worker...","time":"2025-07-26 18:16:07"}
{"level":"info","msg":"开始停止Worker","time":"2025-07-26 18:16:07"}
{"level":"info","msg":"Git同步订阅服务收到退出信号","time":"2025-07-26 18:16:07"}
{"consumer_id":0,"level":"info","msg":"任务消费者收到退出信号","time":"2025-07-26 18:16:12","worker_id":"test-worker-001"}
{"consumer_id":1,"level":"info","msg":"任务消费者收到退出信号","time":"2025-07-26 18:16:14","worker_id":"test-worker-001"}
{"level":"info","msg":"所有任务已完成","time":"2025-07-26 18:16:14"}
{"level":"info","msg":"已通知Master断开连接","time":"2025-07-26 18:16:14"}
{"level":"info","msg":"Worker已停止","time":"2025-07-26 18:16:14"}
{"level":"info","msg":"Worker已优雅停止","time":"2025-07-26 18:16:14"}
{"level":"info","master_url":"http://localhost:8080","msg":"启动AHOP Worker","time":"2025-07-26 18:16:20","version":"1.0.0","worker_name":"AHOP Worker on development"}
{"level":"info","msg":"使用配置的worker_id","time":"2025-07-26 18:16:20","worker_id":"test-worker-001"}
{"level":"info","master_url":"http://localhost:8080","msg":"Worker认证成功，获得数据库和Redis凭据","time":"2025-07-26 18:16:20","worker_id":"test-worker-001"}
{"executors":3,"level":"info","msg":"已注册任务执行器","time":"2025-07-26 18:16:20"}
{"concurrency":2,"level":"info","msg":"Worker启动成功","time":"2025-07-26 18:16:20","worker_id":"test-worker-001"}
{"level":"info","msg":"Worker启动成功，正在等待任务...","time":"2025-07-26 18:16:20"}
{"level":"info","msg":"Git扫描队列消费者已启动","time":"2025-07-26 18:16:20"}
{"consumer_id":0,"level":"info","msg":"任务消费者启动","time":"2025-07-26 18:16:20","worker_id":"test-worker-001"}
{"consumer_id":1,"level":"info","msg":"任务消费者启动","time":"2025-07-26 18:16:20","worker_id":"test-worker-001"}
{"level":"info","msg":"Git同步订阅服务已启动","time":"2025-07-26 18:16:20"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-26 18:18:20"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-26 18:20:20"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-26 18:22:20"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-26 18:24:20"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-26 18:26:20"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-26 18:28:20"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-26 18:30:20"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-26 18:32:20"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-26 18:34:20"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-26 18:36:20"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-26 18:38:20"}
{"level":"debug","msg":"开始查找pending状态的同步日志","repository_id":73,"tenant_id":1,"time":"2025-07-26 18:39:23"}
{"count":0,"level":"debug","logs":[],"msg":"查询到的所有同步日志","time":"2025-07-26 18:39:23"}
{"level":"info","msg":"未找到属于本 Worker 的同步日志，创建新日志","time":"2025-07-26 18:39:23"}
{"level":"info","msg":"成功创建同步日志","sync_log_id":121,"time":"2025-07-26 18:39:23","worker_id":"test-worker-001"}
{"level":"info","msg":"开始处理Git同步任务","time":"2025-07-26 18:39:23"}
{"action":"sync","level":"info","msg":"仓库不存在，将克隆到: /data/ahop/repos/1/73","repository_id":73,"tenant_id":1,"time":"2025-07-26 18:39:23","worker_id":"test-worker-001"}
{"level":"info","msg":"成功克隆仓库到: /data/ahop/repos/1/73","time":"2025-07-26 18:39:23"}
{"level":"debug","msg":"准备更新同步日志","sync_log_id":121,"time":"2025-07-26 18:39:23","update_data":{"duration":647,"error_message":"","finished_at":"2025-07-26T18:39:23.983233622+08:00","local_path":"/data/ahop/repos/1/73","status":"success","to_commit":"60ee0325754a28319fee235288156f59c90481e1","worker_id":"test-worker-001"}}
{"level":"info","msg":"成功更新同步日志","status":"success","sync_log_id":121,"time":"2025-07-26 18:39:23"}
{"level":"info","msg":"Git仓库同步成功，耗时: 647.35924ms","time":"2025-07-26 18:39:23"}
{"level":"debug","msg":"开始查找pending状态的同步日志","repository_id":73,"tenant_id":1,"time":"2025-07-26 18:40:15"}
{"count":1,"level":"debug","logs":[{"ID":121,"RepositoryID":73,"TenantID":1,"TaskID":"","TaskType":"scheduled","WorkerID":"test-worker-001","OperatorID":null,"StartedAt":"2025-07-26T18:39:23.344236+08:00","FinishedAt":"2025-07-26T18:39:23.983233+08:00","Duration":647,"Status":"success","FromCommit":"","ToCommit":"60ee0325754a28319fee235288156f59c90481e1","ErrorMessage":"","LocalPath":"/data/ahop/repos/1/73","CommandOutput":"","CreatedAt":"2025-07-26T18:39:23.344236+08:00"}],"msg":"查询到的所有同步日志","time":"2025-07-26 18:40:15"}
{"level":"info","msg":"未找到属于本 Worker 的同步日志，创建新日志","time":"2025-07-26 18:40:15"}
{"level":"info","msg":"成功创建同步日志","sync_log_id":122,"time":"2025-07-26 18:40:15","worker_id":"test-worker-001"}
{"level":"info","msg":"开始处理Git同步任务","time":"2025-07-26 18:40:15"}
{"action":"sync","level":"info","msg":"仓库已存在，将拉取更新: /data/ahop/repos/1/73","repository_id":73,"tenant_id":1,"time":"2025-07-26 18:40:15","worker_id":"test-worker-001"}
{"level":"info","msg":"成功更新仓库","time":"2025-07-26 18:40:16"}
{"level":"debug","msg":"准备更新同步日志","sync_log_id":122,"time":"2025-07-26 18:40:16","update_data":{"duration":1054,"error_message":"","finished_at":"2025-07-26T18:40:16.092617434+08:00","from_commit":"60ee0325754a28319fee235288156f59c90481e1","local_path":"/data/ahop/repos/1/73","status":"success","to_commit":"60ee0325754a28319fee235288156f59c90481e1","worker_id":"test-worker-001"}}
{"level":"info","msg":"成功更新同步日志","status":"success","sync_log_id":122,"time":"2025-07-26 18:40:16"}
{"level":"info","msg":"Git仓库同步成功，耗时: 1.054346269s","time":"2025-07-26 18:40:16"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-26 18:40:20"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-26 18:42:20"}
{"action":"scan","level":"info","msg":"收到Git扫描任务","repository_id":73,"task_id":"scan_1_73_1753526547","tenant_id":1,"time":"2025-07-26 18:42:27"}
{"level":"info","msg":"执行增强扫描（包含文件树）","time":"2025-07-26 18:42:27"}
{"id":73,"level":"info","msg":"开始增强扫描","name":"测试脚本仓库","path":"/data/ahop/repos/1/73","time":"2025-07-26 18:42:27"}
{"level":"info","msg":"开始扫描相关文件","path":"/data/ahop/repos/1/73","time":"2025-07-26 18:42:27"}
{"level":"info","msg":"相关文件扫描完成","path":"/data/ahop/repos/1/73","time":"2025-07-26 18:42:27"}
{"level":"info","msg":"开始扫描survey文件","path":"/data/ahop/repos/1/73","time":"2025-07-26 18:42:27"}
{"level":"info","msg":"找到survey文件","name":"Nginx部署配置","parameters":6,"path":"survey.yml","time":"2025-07-26 18:42:27"}
{"count":1,"level":"info","msg":"survey文件扫描完成","time":"2025-07-26 18:42:27"}
{"level":"debug","msg":"扫描 Shell 脚本","path":"/data/ahop/repos/1/73/scripts/backup_database.sh","time":"2025-07-26 18:42:27"}
{"level":"debug","msg":"扫描 Shell 脚本","path":"/data/ahop/repos/1/73/scripts/system_info.sh","time":"2025-07-26 18:42:27"}
{"ansible_files":1,"level":"info","msg":"增强扫描完成","shell_files":2,"surveys":3,"template_files":1,"time":"2025-07-26 18:42:27","total_files":5}
{"level":"info","msg":"增强扫描完成，结果已存入Redis","survey_count":3,"task_id":"scan_1_73_1753526547","time":"2025-07-26 18:42:27","total_files":5}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-26 18:44:20"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-26 18:46:20"}
{"error":"ERROR: relation \"workers\" does not exist (SQLSTATE 42P01)","level":"error","msg":"发送心跳失败","time":"2025-07-26 18:46:51"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-26 18:48:20"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-26 18:50:20"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-26 18:52:20"}
{"level":"debug","msg":"开始查找pending状态的同步日志","repository_id":1,"tenant_id":1,"time":"2025-07-26 18:54:08"}
{"count":0,"level":"debug","logs":[],"msg":"查询到的所有同步日志","time":"2025-07-26 18:54:08"}
{"level":"info","msg":"未找到属于本 Worker 的同步日志，创建新日志","time":"2025-07-26 18:54:08"}
{"level":"info","msg":"成功创建同步日志","sync_log_id":1,"time":"2025-07-26 18:54:08","worker_id":"test-worker-001"}
{"level":"info","msg":"开始处理Git同步任务","time":"2025-07-26 18:54:08"}
{"action":"sync","level":"info","msg":"仓库不存在，将克隆到: /data/ahop/repos/1/1","repository_id":1,"tenant_id":1,"time":"2025-07-26 18:54:08","worker_id":"test-worker-001"}
{"level":"info","msg":"成功克隆仓库到: /data/ahop/repos/1/1","time":"2025-07-26 18:54:09"}
{"level":"debug","msg":"准备更新同步日志","sync_log_id":1,"time":"2025-07-26 18:54:09","update_data":{"duration":1276,"error_message":"","finished_at":"2025-07-26T18:54:09.357031183+08:00","local_path":"/data/ahop/repos/1/1","status":"success","to_commit":"60ee0325754a28319fee235288156f59c90481e1","worker_id":"test-worker-001"}}
{"level":"info","msg":"成功更新同步日志","status":"success","sync_log_id":1,"time":"2025-07-26 18:54:09"}
{"level":"info","msg":"Git仓库同步成功，耗时: 1.276923738s","time":"2025-07-26 18:54:09"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-26 18:54:20"}
{"level":"debug","msg":"开始查找pending状态的同步日志","repository_id":1,"tenant_id":1,"time":"2025-07-26 18:54:22"}
{"count":1,"level":"debug","logs":[{"ID":1,"RepositoryID":1,"TenantID":1,"TaskID":"","TaskType":"scheduled","WorkerID":"test-worker-001","OperatorID":null,"StartedAt":"2025-07-26T18:54:08.086707+08:00","FinishedAt":"2025-07-26T18:54:09.357031+08:00","Duration":1276,"Status":"success","FromCommit":"","ToCommit":"60ee0325754a28319fee235288156f59c90481e1","ErrorMessage":"","LocalPath":"/data/ahop/repos/1/1","CommandOutput":"","CreatedAt":"2025-07-26T18:54:08.086708+08:00"}],"msg":"查询到的所有同步日志","time":"2025-07-26 18:54:22"}
{"level":"info","msg":"未找到属于本 Worker 的同步日志，创建新日志","time":"2025-07-26 18:54:22"}
{"level":"info","msg":"成功创建同步日志","sync_log_id":2,"time":"2025-07-26 18:54:22","worker_id":"test-worker-001"}
{"level":"info","msg":"开始处理Git同步任务","time":"2025-07-26 18:54:22"}
{"action":"sync","level":"info","msg":"仓库已存在，将拉取更新: /data/ahop/repos/1/1","repository_id":1,"tenant_id":1,"time":"2025-07-26 18:54:22","worker_id":"test-worker-001"}
{"level":"info","msg":"成功更新仓库","time":"2025-07-26 18:54:23"}
{"level":"debug","msg":"准备更新同步日志","sync_log_id":2,"time":"2025-07-26 18:54:23","update_data":{"duration":1134,"error_message":"","finished_at":"2025-07-26T18:54:23.405070771+08:00","from_commit":"60ee0325754a28319fee235288156f59c90481e1","local_path":"/data/ahop/repos/1/1","status":"success","to_commit":"60ee0325754a28319fee235288156f59c90481e1","worker_id":"test-worker-001"}}
{"level":"info","msg":"成功更新同步日志","status":"success","sync_log_id":2,"time":"2025-07-26 18:54:23"}
{"level":"info","msg":"Git仓库同步成功，耗时: 1.134852589s","time":"2025-07-26 18:54:23"}
{"action":"scan","level":"info","msg":"收到Git扫描任务","repository_id":1,"task_id":"scan_1_1_1753527274","tenant_id":1,"time":"2025-07-26 18:54:34"}
{"level":"info","msg":"执行增强扫描（包含文件树）","time":"2025-07-26 18:54:34"}
{"id":1,"level":"info","msg":"开始增强扫描","name":"测试脚本仓库","path":"/data/ahop/repos/1/1","time":"2025-07-26 18:54:34"}
{"level":"info","msg":"开始扫描相关文件","path":"/data/ahop/repos/1/1","time":"2025-07-26 18:54:34"}
{"level":"info","msg":"相关文件扫描完成","path":"/data/ahop/repos/1/1","time":"2025-07-26 18:54:34"}
{"level":"info","msg":"开始扫描survey文件","path":"/data/ahop/repos/1/1","time":"2025-07-26 18:54:34"}
{"level":"info","msg":"找到survey文件","name":"Nginx部署配置","parameters":6,"path":"survey.yml","time":"2025-07-26 18:54:34"}
{"count":1,"level":"info","msg":"survey文件扫描完成","time":"2025-07-26 18:54:34"}
{"level":"debug","msg":"扫描 Shell 脚本","path":"/data/ahop/repos/1/1/scripts/backup_database.sh","time":"2025-07-26 18:54:34"}
{"level":"debug","msg":"扫描 Shell 脚本","path":"/data/ahop/repos/1/1/scripts/system_info.sh","time":"2025-07-26 18:54:34"}
{"ansible_files":1,"level":"info","msg":"增强扫描完成","shell_files":2,"surveys":3,"template_files":1,"time":"2025-07-26 18:54:34","total_files":5}
{"level":"info","msg":"增强扫描完成，结果已存入Redis","survey_count":3,"task_id":"scan_1_1_1753527274","time":"2025-07-26 18:54:34","total_files":5}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-26 18:56:20"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-26 18:58:20"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-26 19:00:20"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-26 19:02:20"}
{"consumer_id":1,"level":"info","msg":"开始处理任务","source":"api","task_id":"5ea08c67-2ece-4e82-b253-33f4f2f6983a","task_type":"template","tenant_id":1,"tenant_name":"默认租户","time":"2025-07-26 19:03:23","user_id":1,"username":"admin","worker_id":"test-worker-001"}
{"count":2,"host_ids":[1,2],"level":"debug","msg":"开始查询主机信息","tenant_id":1,"time":"2025-07-26 19:03:23"}
{"credential_type":"password","host_id":1,"host_ip":"127.0.0.1","host_name":"","level":"debug","msg":"准备主机连接信息","time":"2025-07-26 19:03:23"}
{"credential_type":"password","host_id":2,"host_ip":"192.168.31.66","host_name":"","level":"debug","msg":"准备主机连接信息","time":"2025-07-26 19:03:23"}
{"level":"debug","msg":"主机信息准备完成","time":"2025-07-26 19:03:23","total_prepared":2,"total_requested":2}
{"consumer_id":1,"error":"所有主机执行失败","level":"error","msg":"任务执行失败","source":"api","task_id":"5ea08c67-2ece-4e82-b253-33f4f2f6983a","task_type":"template","tenant_id":1,"tenant_name":"默认租户","time":"2025-07-26 19:03:24","user_id":1,"username":"admin","worker_id":"test-worker-001"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-26 19:04:20"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-26 19:06:20"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-26 19:08:20"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-26 19:10:20"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-26 19:12:20"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-26 19:14:20"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-26 19:16:20"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-26 19:18:20"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-26 19:20:20"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-26 19:22:20"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-26 19:24:20"}
{"level":"info","msg":"收到退出信号，正在停止Worker...","time":"2025-07-26 19:25:26"}
{"level":"info","msg":"开始停止Worker","time":"2025-07-26 19:25:26"}
{"level":"info","msg":"Git同步订阅服务收到退出信号","time":"2025-07-26 19:25:26"}
{"consumer_id":1,"level":"info","msg":"任务消费者收到退出信号","time":"2025-07-26 19:25:29","worker_id":"test-worker-001"}
{"consumer_id":0,"level":"info","msg":"任务消费者收到退出信号","time":"2025-07-26 19:25:34","worker_id":"test-worker-001"}
{"level":"info","msg":"所有任务已完成","time":"2025-07-26 19:25:34"}
{"level":"info","msg":"已通知Master断开连接","time":"2025-07-26 19:25:34"}
{"level":"info","msg":"Worker已停止","time":"2025-07-26 19:25:34"}
{"level":"info","msg":"Worker已优雅停止","time":"2025-07-26 19:25:34"}
{"level":"info","master_url":"http://localhost:8080","msg":"启动AHOP Worker","time":"2025-07-26 19:25:39","version":"1.0.0","worker_name":"AHOP Worker on development"}
{"level":"info","msg":"使用配置的worker_id","time":"2025-07-26 19:25:39","worker_id":"test-worker-001"}
{"error":"向Master认证失败: 认证失败: 无效的AccessKey (HTTP 200, Code 401)","level":"fatal","msg":"创建Worker失败","time":"2025-07-26 19:25:39"}
{"level":"info","master_url":"http://localhost:8080","msg":"启动AHOP Worker","time":"2025-07-26 19:25:48","version":"1.0.0","worker_name":"AHOP Worker on development"}
{"level":"info","msg":"使用配置的worker_id","time":"2025-07-26 19:25:48","worker_id":"test-worker-001"}
{"error":"向Master认证失败: 认证失败: 无效的AccessKey (HTTP 200, Code 401)","level":"fatal","msg":"创建Worker失败","time":"2025-07-26 19:25:48"}
{"level":"info","master_url":"http://localhost:8080","msg":"启动AHOP Worker","time":"2025-07-26 19:26:25","version":"1.0.0","worker_name":"AHOP Worker on development"}
{"level":"info","msg":"使用配置的worker_id","time":"2025-07-26 19:26:25","worker_id":"test-worker-001"}
{"level":"info","master_url":"http://localhost:8080","msg":"Worker认证成功，获得数据库和Redis凭据","time":"2025-07-26 19:26:25","worker_id":"test-worker-001"}
{"executors":3,"level":"info","msg":"已注册任务执行器","time":"2025-07-26 19:26:25"}
{"concurrency":2,"level":"info","msg":"Worker启动成功","time":"2025-07-26 19:26:25","worker_id":"test-worker-001"}
{"level":"info","msg":"Worker启动成功，正在等待任务...","time":"2025-07-26 19:26:25"}
{"level":"info","msg":"Git扫描队列消费者已启动","time":"2025-07-26 19:26:25"}
{"consumer_id":0,"level":"info","msg":"任务消费者启动","time":"2025-07-26 19:26:25","worker_id":"test-worker-001"}
{"consumer_id":1,"level":"info","msg":"任务消费者启动","time":"2025-07-26 19:26:25","worker_id":"test-worker-001"}
{"level":"info","msg":"Git同步订阅服务已启动","time":"2025-07-26 19:26:25"}
{"consumer_id":1,"level":"info","msg":"开始处理任务","source":"api","task_id":"993521af-262f-4248-8d8c-5c7a1fa1e23d","task_type":"template","tenant_id":1,"tenant_name":"默认租户","time":"2025-07-26 19:26:39","user_id":1,"username":"admin","worker_id":"test-worker-001"}
{"count":2,"host_ids":[1,2],"level":"debug","msg":"开始查询主机信息","tenant_id":1,"time":"2025-07-26 19:26:39"}
{"credential_type":"password","host_id":1,"host_ip":"127.0.0.1","host_name":"","level":"debug","msg":"准备主机连接信息","time":"2025-07-26 19:26:39"}
{"credential_type":"password","host_id":2,"host_ip":"192.168.31.66","host_name":"","level":"debug","msg":"准备主机连接信息","time":"2025-07-26 19:26:39"}
{"level":"debug","msg":"主机信息准备完成","time":"2025-07-26 19:26:39","total_prepared":2,"total_requested":2}
{"consumer_id":1,"error":"所有主机执行失败","level":"error","msg":"任务执行失败","source":"api","task_id":"993521af-262f-4248-8d8c-5c7a1fa1e23d","task_type":"template","tenant_id":1,"tenant_name":"默认租户","time":"2025-07-26 19:26:40","user_id":1,"username":"admin","worker_id":"test-worker-001"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-26 19:28:25"}
{"level":"info","msg":"收到退出信号，正在停止Worker...","time":"2025-07-26 19:30:24"}
{"level":"info","msg":"开始停止Worker","time":"2025-07-26 19:30:24"}
{"level":"info","msg":"Git同步订阅服务收到退出信号","time":"2025-07-26 19:30:24"}
{"consumer_id":0,"level":"info","msg":"任务消费者收到退出信号","time":"2025-07-26 19:30:28","worker_id":"test-worker-001"}
{"consumer_id":1,"level":"info","msg":"任务消费者收到退出信号","time":"2025-07-26 19:30:33","worker_id":"test-worker-001"}
{"level":"info","msg":"所有任务已完成","time":"2025-07-26 19:30:33"}
{"level":"info","msg":"已通知Master断开连接","time":"2025-07-26 19:30:33"}
{"level":"info","msg":"Worker已停止","time":"2025-07-26 19:30:33"}
{"level":"info","msg":"Worker已优雅停止","time":"2025-07-26 19:30:33"}
{"level":"info","master_url":"http://localhost:8080","msg":"启动AHOP Worker","time":"2025-07-26 19:30:36","version":"1.0.0","worker_name":"AHOP Worker on development"}
{"level":"info","msg":"使用配置的worker_id","time":"2025-07-26 19:30:36","worker_id":"test-worker-001"}
{"level":"info","master_url":"http://localhost:8080","msg":"Worker认证成功，获得数据库和Redis凭据","time":"2025-07-26 19:30:36","worker_id":"test-worker-001"}
{"executors":3,"level":"info","msg":"已注册任务执行器","time":"2025-07-26 19:30:36"}
{"concurrency":2,"level":"info","msg":"Worker启动成功","time":"2025-07-26 19:30:36","worker_id":"test-worker-001"}
{"level":"info","msg":"Worker启动成功，正在等待任务...","time":"2025-07-26 19:30:36"}
{"level":"info","msg":"Git扫描队列消费者已启动","time":"2025-07-26 19:30:36"}
{"consumer_id":1,"level":"info","msg":"任务消费者启动","time":"2025-07-26 19:30:36","worker_id":"test-worker-001"}
{"consumer_id":0,"level":"info","msg":"任务消费者启动","time":"2025-07-26 19:30:36","worker_id":"test-worker-001"}
{"level":"info","msg":"Git同步订阅服务已启动","time":"2025-07-26 19:30:36"}
{"consumer_id":1,"level":"info","msg":"开始处理任务","source":"api","task_id":"cf94df3c-c358-4a9a-8cc6-bfbf71cdb131","task_type":"template","tenant_id":1,"tenant_name":"默认租户","time":"2025-07-26 19:30:50","user_id":1,"username":"admin","worker_id":"test-worker-001"}
{"count":2,"host_ids":[1,2],"level":"debug","msg":"开始查询主机信息","tenant_id":1,"time":"2025-07-26 19:30:51"}
{"credential_type":"password","host_id":1,"host_ip":"127.0.0.1","host_name":"","level":"debug","msg":"准备主机连接信息","time":"2025-07-26 19:30:51"}
{"credential_type":"password","host_id":2,"host_ip":"192.168.31.66","host_name":"","level":"debug","msg":"准备主机连接信息","time":"2025-07-26 19:30:51"}
{"level":"debug","msg":"主机信息准备完成","time":"2025-07-26 19:30:51","total_prepared":2,"total_requested":2}
{"consumer_id":1,"error":"所有主机执行失败","level":"error","msg":"任务执行失败","source":"api","task_id":"cf94df3c-c358-4a9a-8cc6-bfbf71cdb131","task_type":"template","tenant_id":1,"tenant_name":"默认租户","time":"2025-07-26 19:30:52","user_id":1,"username":"admin","worker_id":"test-worker-001"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-26 19:32:36"}
{"level":"info","msg":"收到退出信号，正在停止Worker...","time":"2025-07-26 19:33:07"}
{"level":"info","msg":"开始停止Worker","time":"2025-07-26 19:33:07"}
{"level":"info","msg":"Git同步订阅服务收到退出信号","time":"2025-07-26 19:33:07"}
{"consumer_id":0,"level":"info","msg":"任务消费者收到退出信号","time":"2025-07-26 19:33:08","worker_id":"test-worker-001"}
{"consumer_id":1,"level":"info","msg":"任务消费者收到退出信号","time":"2025-07-26 19:33:13","worker_id":"test-worker-001"}
{"level":"info","msg":"所有任务已完成","time":"2025-07-26 19:33:13"}
{"level":"info","msg":"已通知Master断开连接","time":"2025-07-26 19:33:13"}
{"level":"info","msg":"Worker已停止","time":"2025-07-26 19:33:13"}
{"level":"info","msg":"Worker已优雅停止","time":"2025-07-26 19:33:13"}
{"level":"info","master_url":"http://localhost:8080","msg":"启动AHOP Worker","time":"2025-07-26 19:33:22","version":"1.0.0","worker_name":"AHOP Worker on development"}
{"level":"info","msg":"使用配置的worker_id","time":"2025-07-26 19:33:22","worker_id":"test-worker-001"}
{"level":"info","master_url":"http://localhost:8080","msg":"Worker认证成功，获得数据库和Redis凭据","time":"2025-07-26 19:33:22","worker_id":"test-worker-001"}
{"executors":3,"level":"info","msg":"已注册任务执行器","time":"2025-07-26 19:33:22"}
{"concurrency":2,"level":"info","msg":"Worker启动成功","time":"2025-07-26 19:33:22","worker_id":"test-worker-001"}
{"level":"info","msg":"Worker启动成功，正在等待任务...","time":"2025-07-26 19:33:22"}
{"level":"info","msg":"Git扫描队列消费者已启动","time":"2025-07-26 19:33:22"}
{"consumer_id":0,"level":"info","msg":"任务消费者启动","time":"2025-07-26 19:33:22","worker_id":"test-worker-001"}
{"consumer_id":1,"level":"info","msg":"任务消费者启动","time":"2025-07-26 19:33:22","worker_id":"test-worker-001"}
{"level":"info","msg":"Git同步订阅服务已启动","time":"2025-07-26 19:33:22"}
{"consumer_id":0,"level":"info","msg":"开始处理任务","source":"api","task_id":"f5571045-c22c-4daa-a9c8-9d4d2c9ce538","task_type":"template","tenant_id":1,"tenant_name":"默认租户","time":"2025-07-26 19:33:36","user_id":1,"username":"admin","worker_id":"test-worker-001"}
{"count":2,"host_ids":[1,2],"level":"debug","msg":"开始查询主机信息","tenant_id":1,"time":"2025-07-26 19:33:36"}
{"credential_type":"password","host_id":1,"host_ip":"127.0.0.1","host_name":"","level":"debug","msg":"准备主机连接信息","time":"2025-07-26 19:33:36"}
{"credential_type":"password","host_id":2,"host_ip":"192.168.31.66","host_name":"","level":"debug","msg":"准备主机连接信息","time":"2025-07-26 19:33:36"}
{"level":"debug","msg":"主机信息准备完成","time":"2025-07-26 19:33:36","total_prepared":2,"total_requested":2}
{"consumer_id":0,"error":"所有主机执行失败","level":"error","msg":"任务执行失败","source":"api","task_id":"f5571045-c22c-4daa-a9c8-9d4d2c9ce538","task_type":"template","tenant_id":1,"tenant_name":"默认租户","time":"2025-07-26 19:33:37","user_id":1,"username":"admin","worker_id":"test-worker-001"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-26 19:35:22"}
{"level":"info","msg":"收到退出信号，正在停止Worker...","time":"2025-07-26 19:36:19"}
{"level":"info","msg":"开始停止Worker","time":"2025-07-26 19:36:19"}
{"level":"info","msg":"Git同步订阅服务收到退出信号","time":"2025-07-26 19:36:19"}
{"consumer_id":1,"level":"info","msg":"任务消费者收到退出信号","time":"2025-07-26 19:36:24","worker_id":"test-worker-001"}
{"consumer_id":0,"level":"info","msg":"任务消费者收到退出信号","time":"2025-07-26 19:36:29","worker_id":"test-worker-001"}
{"level":"info","msg":"所有任务已完成","time":"2025-07-26 19:36:29"}
{"level":"info","msg":"已通知Master断开连接","time":"2025-07-26 19:36:29"}
{"level":"info","msg":"Worker已停止","time":"2025-07-26 19:36:29"}
{"level":"info","msg":"Worker已优雅停止","time":"2025-07-26 19:36:29"}
{"level":"info","master_url":"http://localhost:8080","msg":"启动AHOP Worker","time":"2025-07-26 19:36:32","version":"1.0.0","worker_name":"AHOP Worker on development"}
{"level":"info","msg":"使用配置的worker_id","time":"2025-07-26 19:36:32","worker_id":"test-worker-001"}
{"level":"info","master_url":"http://localhost:8080","msg":"Worker认证成功，获得数据库和Redis凭据","time":"2025-07-26 19:36:32","worker_id":"test-worker-001"}
{"executors":3,"level":"info","msg":"已注册任务执行器","time":"2025-07-26 19:36:32"}
{"concurrency":2,"level":"info","msg":"Worker启动成功","time":"2025-07-26 19:36:32","worker_id":"test-worker-001"}
{"level":"info","msg":"Worker启动成功，正在等待任务...","time":"2025-07-26 19:36:32"}
{"consumer_id":1,"level":"info","msg":"任务消费者启动","time":"2025-07-26 19:36:32","worker_id":"test-worker-001"}
{"level":"info","msg":"Git扫描队列消费者已启动","time":"2025-07-26 19:36:32"}
{"consumer_id":0,"level":"info","msg":"任务消费者启动","time":"2025-07-26 19:36:32","worker_id":"test-worker-001"}
{"level":"info","msg":"Git同步订阅服务已启动","time":"2025-07-26 19:36:32"}
{"consumer_id":1,"level":"info","msg":"开始处理任务","source":"api","task_id":"ed8480ae-a0a9-4cc9-9694-4944d5fe3d9f","task_type":"template","tenant_id":1,"tenant_name":"默认租户","time":"2025-07-26 19:36:46","user_id":1,"username":"admin","worker_id":"test-worker-001"}
{"count":2,"host_ids":[1,2],"level":"debug","msg":"开始查询主机信息","tenant_id":1,"time":"2025-07-26 19:36:46"}
{"credential_type":"password","host_id":1,"host_ip":"127.0.0.1","host_name":"","level":"debug","msg":"准备主机连接信息","time":"2025-07-26 19:36:46"}
{"credential_type":"password","host_id":2,"host_ip":"192.168.31.66","host_name":"","level":"debug","msg":"准备主机连接信息","time":"2025-07-26 19:36:46"}
{"level":"debug","msg":"主机信息准备完成","time":"2025-07-26 19:36:46","total_prepared":2,"total_requested":2}
{"consumer_id":1,"error":"所有主机执行失败","level":"error","msg":"任务执行失败","source":"api","task_id":"ed8480ae-a0a9-4cc9-9694-4944d5fe3d9f","task_type":"template","tenant_id":1,"tenant_name":"默认租户","time":"2025-07-26 19:36:47","user_id":1,"username":"admin","worker_id":"test-worker-001"}
{"consumer_id":0,"level":"info","msg":"开始处理任务","source":"api","task_id":"8aecffb2-36de-4a33-a554-bce69a2d5fcc","task_type":"template","tenant_id":1,"tenant_name":"默认租户","time":"2025-07-26 19:37:47","user_id":1,"username":"admin","worker_id":"test-worker-001"}
{"count":2,"host_ids":[1,2],"level":"debug","msg":"开始查询主机信息","tenant_id":1,"time":"2025-07-26 19:37:47"}
{"credential_type":"password","host_id":1,"host_ip":"127.0.0.1","host_name":"","level":"debug","msg":"准备主机连接信息","time":"2025-07-26 19:37:47"}
{"credential_type":"password","host_id":2,"host_ip":"192.168.31.66","host_name":"","level":"debug","msg":"准备主机连接信息","time":"2025-07-26 19:37:47"}
{"level":"debug","msg":"主机信息准备完成","time":"2025-07-26 19:37:47","total_prepared":2,"total_requested":2}
{"consumer_id":0,"level":"info","msg":"任务执行成功","source":"api","task_id":"8aecffb2-36de-4a33-a554-bce69a2d5fcc","task_type":"template","tenant_id":1,"tenant_name":"默认租户","time":"2025-07-26 19:37:48","user_id":1,"username":"admin","worker_id":"test-worker-001"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-26 19:38:32"}
{"consumer_id":1,"level":"info","msg":"开始处理任务","source":"api","task_id":"f1da8087-a231-4992-9557-afe7b65f01d2","task_type":"template","tenant_id":1,"tenant_name":"默认租户","time":"2025-07-26 19:39:43","user_id":1,"username":"admin","worker_id":"test-worker-001"}
{"count":3,"host_ids":[1,2,3],"level":"debug","msg":"开始查询主机信息","tenant_id":1,"time":"2025-07-26 19:39:43"}
{"credential_type":"password","host_id":1,"host_ip":"127.0.0.1","host_name":"","level":"debug","msg":"准备主机连接信息","time":"2025-07-26 19:39:43"}
{"credential_type":"password","host_id":2,"host_ip":"192.168.31.66","host_name":"","level":"debug","msg":"准备主机连接信息","time":"2025-07-26 19:39:43"}
{"credential_type":"password","host_id":3,"host_ip":"192.168.31.100","host_name":"","level":"debug","msg":"准备主机连接信息","time":"2025-07-26 19:39:43"}
{"level":"debug","msg":"主机信息准备完成","time":"2025-07-26 19:39:43","total_prepared":3,"total_requested":3}
{"consumer_id":1,"level":"info","msg":"任务执行成功","source":"api","task_id":"f1da8087-a231-4992-9557-afe7b65f01d2","task_type":"template","tenant_id":1,"tenant_name":"默认租户","time":"2025-07-26 19:39:45","user_id":1,"username":"admin","worker_id":"test-worker-001"}
{"consumer_id":1,"level":"info","msg":"开始处理任务","source":"api","task_id":"656d8080-2140-4aef-ba2e-5cb5d2fb40b4","task_type":"template","tenant_id":1,"tenant_name":"默认租户","time":"2025-07-26 19:40:30","user_id":1,"username":"admin","worker_id":"test-worker-001"}
{"count":4,"host_ids":[1,2,3,4],"level":"debug","msg":"开始查询主机信息","tenant_id":1,"time":"2025-07-26 19:40:30"}
{"credential_type":"password","host_id":1,"host_ip":"127.0.0.1","host_name":"","level":"debug","msg":"准备主机连接信息","time":"2025-07-26 19:40:30"}
{"credential_type":"password","host_id":2,"host_ip":"192.168.31.66","host_name":"","level":"debug","msg":"准备主机连接信息","time":"2025-07-26 19:40:30"}
{"credential_type":"password","host_id":3,"host_ip":"192.168.31.100","host_name":"","level":"debug","msg":"准备主机连接信息","time":"2025-07-26 19:40:30"}
{"credential_type":"password","host_id":4,"host_ip":"192.168.31.100","host_name":"","level":"debug","msg":"准备主机连接信息","time":"2025-07-26 19:40:30"}
{"level":"debug","msg":"主机信息准备完成","time":"2025-07-26 19:40:30","total_prepared":4,"total_requested":4}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-26 19:40:32"}
{"consumer_id":1,"level":"info","msg":"任务执行成功","source":"api","task_id":"656d8080-2140-4aef-ba2e-5cb5d2fb40b4","task_type":"template","tenant_id":1,"tenant_name":"默认租户","time":"2025-07-26 19:40:35","user_id":1,"username":"admin","worker_id":"test-worker-001"}
{"consumer_id":0,"level":"info","msg":"开始处理任务","source":"api","task_id":"1be7a791-7331-4822-b48b-01432f6f4419","task_type":"template","tenant_id":1,"tenant_name":"默认租户","time":"2025-07-26 19:41:35","user_id":1,"username":"admin","worker_id":"test-worker-001"}
{"count":3,"host_ids":[1,2,4],"level":"debug","msg":"开始查询主机信息","tenant_id":1,"time":"2025-07-26 19:41:35"}
{"credential_type":"password","host_id":1,"host_ip":"127.0.0.1","host_name":"","level":"debug","msg":"准备主机连接信息","time":"2025-07-26 19:41:35"}
{"credential_type":"password","host_id":2,"host_ip":"192.168.31.66","host_name":"","level":"debug","msg":"准备主机连接信息","time":"2025-07-26 19:41:35"}
{"credential_type":"password","host_id":4,"host_ip":"192.168.31.100","host_name":"","level":"debug","msg":"准备主机连接信息","time":"2025-07-26 19:41:35"}
{"level":"debug","msg":"主机信息准备完成","time":"2025-07-26 19:41:35","total_prepared":3,"total_requested":3}
{"consumer_id":0,"level":"info","msg":"任务执行成功","source":"api","task_id":"1be7a791-7331-4822-b48b-01432f6f4419","task_type":"template","tenant_id":1,"tenant_name":"默认租户","time":"2025-07-26 19:41:39","user_id":1,"username":"admin","worker_id":"test-worker-001"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-26 19:42:32"}
{"consumer_id":1,"level":"info","msg":"开始处理任务","source":"api","task_id":"9de55014-09ff-4545-b2d8-c6d8adaa62bf","task_type":"template","tenant_id":1,"tenant_name":"默认租户","time":"2025-07-26 19:42:43","user_id":1,"username":"admin","worker_id":"test-worker-001"}
{"count":2,"host_ids":[1,3],"level":"debug","msg":"开始查询主机信息","tenant_id":1,"time":"2025-07-26 19:42:43"}
{"credential_type":"password","host_id":1,"host_ip":"127.0.0.1","host_name":"","level":"debug","msg":"准备主机连接信息","time":"2025-07-26 19:42:43"}
{"credential_type":"password","host_id":3,"host_ip":"192.168.31.100","host_name":"","level":"debug","msg":"准备主机连接信息","time":"2025-07-26 19:42:43"}
{"level":"debug","msg":"主机信息准备完成","time":"2025-07-26 19:42:43","total_prepared":2,"total_requested":2}
{"consumer_id":1,"error":"Ansible执行失败: exit status 4","level":"error","msg":"任务执行失败","source":"api","task_id":"9de55014-09ff-4545-b2d8-c6d8adaa62bf","task_type":"template","tenant_id":1,"tenant_name":"默认租户","time":"2025-07-26 19:42:44","user_id":1,"username":"admin","worker_id":"test-worker-001"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-26 19:44:32"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-26 19:46:32"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-26 19:48:32"}
{"level":"info","msg":"收到退出信号，正在停止Worker...","time":"2025-07-26 19:50:13"}
{"level":"info","msg":"开始停止Worker","time":"2025-07-26 19:50:13"}
{"level":"info","msg":"Git同步订阅服务收到退出信号","time":"2025-07-26 19:50:13"}
{"consumer_id":0,"level":"info","msg":"任务消费者收到退出信号","time":"2025-07-26 19:50:15","worker_id":"test-worker-001"}
{"consumer_id":1,"level":"info","msg":"任务消费者收到退出信号","time":"2025-07-26 19:50:19","worker_id":"test-worker-001"}
{"level":"info","msg":"所有任务已完成","time":"2025-07-26 19:50:19"}
{"level":"info","msg":"已通知Master断开连接","time":"2025-07-26 19:50:19"}
{"level":"info","msg":"Worker已停止","time":"2025-07-26 19:50:19"}
{"level":"info","msg":"Worker已优雅停止","time":"2025-07-26 19:50:19"}
{"level":"info","master_url":"http://localhost:8080","msg":"启动AHOP Worker","time":"2025-07-26 19:50:22","version":"1.0.0","worker_name":"AHOP Worker on development"}
{"level":"info","msg":"使用配置的worker_id","time":"2025-07-26 19:50:22","worker_id":"test-worker-001"}
{"level":"info","master_url":"http://localhost:8080","msg":"Worker认证成功，获得数据库和Redis凭据","time":"2025-07-26 19:50:22","worker_id":"test-worker-001"}
{"executors":3,"level":"info","msg":"已注册任务执行器","time":"2025-07-26 19:50:22"}
{"concurrency":2,"level":"info","msg":"Worker启动成功","time":"2025-07-26 19:50:22","worker_id":"test-worker-001"}
{"level":"info","msg":"Worker启动成功，正在等待任务...","time":"2025-07-26 19:50:22"}
{"consumer_id":0,"level":"info","msg":"任务消费者启动","time":"2025-07-26 19:50:22","worker_id":"test-worker-001"}
{"consumer_id":1,"level":"info","msg":"任务消费者启动","time":"2025-07-26 19:50:22","worker_id":"test-worker-001"}
{"level":"info","msg":"Git扫描队列消费者已启动","time":"2025-07-26 19:50:22"}
{"level":"info","msg":"Git同步订阅服务已启动","time":"2025-07-26 19:50:22"}
{"consumer_id":0,"level":"info","msg":"开始处理任务","source":"api","task_id":"521263a8-7157-4716-a523-814bb3ee9989","task_type":"template","tenant_id":1,"tenant_name":"默认租户","time":"2025-07-26 19:50:49","user_id":1,"username":"admin","worker_id":"test-worker-001"}
{"count":2,"host_ids":[1,3],"level":"debug","msg":"开始查询主机信息","tenant_id":1,"time":"2025-07-26 19:50:49"}
{"credential_type":"password","host_id":1,"host_ip":"127.0.0.1","host_name":"","level":"debug","msg":"准备主机连接信息","time":"2025-07-26 19:50:49"}
{"credential_type":"password","host_id":3,"host_ip":"192.168.31.100","host_name":"","level":"debug","msg":"准备主机连接信息","time":"2025-07-26 19:50:49"}
{"level":"debug","msg":"主机信息准备完成","time":"2025-07-26 19:50:49","total_prepared":2,"total_requested":2}
{"consumer_id":0,"error":"Ansible执行失败: exit status 2","level":"error","msg":"任务执行失败","source":"api","task_id":"521263a8-7157-4716-a523-814bb3ee9989","task_type":"template","tenant_id":1,"tenant_name":"默认租户","time":"2025-07-26 19:51:34","user_id":1,"username":"admin","worker_id":"test-worker-001"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-26 19:52:22"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-26 19:54:22"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-26 19:56:22"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-26 19:58:22"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-26 20:00:22"}
{"level":"info","msg":"收到退出信号，正在停止Worker...","time":"2025-07-26 20:02:08"}
{"level":"info","msg":"开始停止Worker","time":"2025-07-26 20:02:08"}
{"level":"info","msg":"Git同步订阅服务收到退出信号","time":"2025-07-26 20:02:08"}
{"consumer_id":1,"level":"info","msg":"任务消费者收到退出信号","time":"2025-07-26 20:02:10","worker_id":"test-worker-001"}
{"consumer_id":0,"level":"info","msg":"任务消费者收到退出信号","time":"2025-07-26 20:02:12","worker_id":"test-worker-001"}
{"level":"info","msg":"所有任务已完成","time":"2025-07-26 20:02:12"}
{"level":"info","msg":"已通知Master断开连接","time":"2025-07-26 20:02:12"}
{"level":"info","msg":"Worker已停止","time":"2025-07-26 20:02:12"}
{"level":"info","msg":"Worker已优雅停止","time":"2025-07-26 20:02:12"}
{"level":"info","master_url":"http://localhost:8080","msg":"启动AHOP Worker","time":"2025-07-26 20:02:15","version":"1.0.0","worker_name":"AHOP Worker on development"}
{"level":"info","msg":"使用配置的worker_id","time":"2025-07-26 20:02:15","worker_id":"test-worker-001"}
{"level":"info","master_url":"http://localhost:8080","msg":"Worker认证成功，获得数据库和Redis凭据","time":"2025-07-26 20:02:15","worker_id":"test-worker-001"}
{"executors":3,"level":"info","msg":"已注册任务执行器","time":"2025-07-26 20:02:15"}
{"concurrency":2,"level":"info","msg":"Worker启动成功","time":"2025-07-26 20:02:15","worker_id":"test-worker-001"}
{"level":"info","msg":"Worker启动成功，正在等待任务...","time":"2025-07-26 20:02:15"}
{"level":"info","msg":"Git扫描队列消费者已启动","time":"2025-07-26 20:02:15"}
{"consumer_id":0,"level":"info","msg":"任务消费者启动","time":"2025-07-26 20:02:15","worker_id":"test-worker-001"}
{"level":"info","msg":"Git同步订阅服务已启动","time":"2025-07-26 20:02:15"}
{"consumer_id":1,"level":"info","msg":"任务消费者启动","time":"2025-07-26 20:02:15","worker_id":"test-worker-001"}
{"consumer_id":0,"level":"info","msg":"开始处理任务","source":"api","task_id":"0cab51ca-d54b-4d04-adbb-b152256458b2","task_type":"template","tenant_id":1,"tenant_name":"默认租户","time":"2025-07-26 20:02:22","user_id":1,"username":"admin","worker_id":"test-worker-001"}
{"count":2,"host_ids":[1,3],"level":"debug","msg":"开始查询主机信息","tenant_id":1,"time":"2025-07-26 20:02:22"}
{"credential_type":"password","host_id":1,"host_ip":"127.0.0.1","host_name":"","level":"debug","msg":"准备主机连接信息","time":"2025-07-26 20:02:22"}
{"credential_type":"password","host_id":3,"host_ip":"192.168.31.100","host_name":"","level":"debug","msg":"准备主机连接信息","time":"2025-07-26 20:02:22"}
{"level":"debug","msg":"主机信息准备完成","time":"2025-07-26 20:02:22","total_prepared":2,"total_requested":2}
{"consumer_id":0,"error":"Ansible执行失败: exit status 2","level":"error","msg":"任务执行失败","source":"api","task_id":"0cab51ca-d54b-4d04-adbb-b152256458b2","task_type":"template","tenant_id":1,"tenant_name":"默认租户","time":"2025-07-26 20:02:23","user_id":1,"username":"admin","worker_id":"test-worker-001"}
{"consumer_id":0,"level":"info","msg":"开始处理任务","source":"api","task_id":"91dcab47-5cf3-495c-932f-69547342234f","task_type":"collect","tenant_id":1,"tenant_name":"默认租户","time":"2025-07-26 20:03:49","user_id":1,"username":"admin","worker_id":"test-worker-001"}
{"count":2,"host_ids":[2,1],"level":"debug","msg":"开始查询主机信息","tenant_id":1,"time":"2025-07-26 20:03:49"}
{"credential_type":"password","host_id":1,"host_ip":"127.0.0.1","host_name":"","level":"debug","msg":"准备主机连接信息","time":"2025-07-26 20:03:49"}
{"credential_type":"password","host_id":2,"host_ip":"192.168.31.66","host_name":"","level":"debug","msg":"准备主机连接信息","time":"2025-07-26 20:03:49"}
{"level":"debug","msg":"主机信息准备完成","time":"2025-07-26 20:03:49","total_prepared":2,"total_requested":2}
{"host_id":1,"level":"debug","msg":"ansible_facts 字段数量: 109","time":"2025-07-26 20:03:56"}
{"host_id":1,"level":"debug","msg":"找到字段: ansible_interfaces","time":"2025-07-26 20:03:56"}
{"host_id":1,"level":"debug","msg":"找到字段: ansible_mounts","time":"2025-07-26 20:03:56"}
{"host_id":1,"level":"info","msg":"更新主机系统信息成功","time":"2025-07-26 20:03:56"}
{"host_id":2,"level":"debug","msg":"ansible_facts 字段数量: 109","time":"2025-07-26 20:03:56"}
{"host_id":2,"level":"debug","msg":"找到字段: ansible_interfaces","time":"2025-07-26 20:03:56"}
{"host_id":2,"level":"debug","msg":"找到字段: ansible_mounts","time":"2025-07-26 20:03:56"}
{"host_id":2,"level":"info","msg":"更新主机系统信息成功","time":"2025-07-26 20:03:56"}
{"consumer_id":0,"level":"info","msg":"任务执行成功","source":"api","task_id":"91dcab47-5cf3-495c-932f-69547342234f","task_type":"collect","tenant_id":1,"tenant_name":"默认租户","time":"2025-07-26 20:03:56","user_id":1,"username":"admin","worker_id":"test-worker-001"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-26 20:04:15"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-26 20:06:15"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-26 20:08:15"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-26 20:10:15"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-26 20:12:15"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-26 20:14:15"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-26 20:16:15"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-26 20:18:15"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-26 20:20:15"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-26 20:22:15"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-26 20:24:15"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-26 20:26:15"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-26 20:28:15"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-26 20:30:15"}
{"level":"debug","msg":"开始查找pending状态的同步日志","repository_id":1,"tenant_id":1,"time":"2025-07-26 20:31:27"}
{"count":2,"level":"debug","logs":[{"ID":1,"RepositoryID":1,"TenantID":1,"TaskID":"","TaskType":"scheduled","WorkerID":"test-worker-001","OperatorID":null,"StartedAt":"2025-07-26T18:54:08.086707+08:00","FinishedAt":"2025-07-26T18:54:09.357031+08:00","Duration":1276,"Status":"success","FromCommit":"","ToCommit":"60ee0325754a28319fee235288156f59c90481e1","ErrorMessage":"","LocalPath":"/data/ahop/repos/1/1","CommandOutput":"","CreatedAt":"2025-07-26T18:54:08.086708+08:00"},{"ID":2,"RepositoryID":1,"TenantID":1,"TaskID":"","TaskType":"manual","WorkerID":"test-worker-001","OperatorID":1,"StartedAt":"2025-07-26T18:54:22.273116+08:00","FinishedAt":"2025-07-26T18:54:23.40507+08:00","Duration":1134,"Status":"success","FromCommit":"60ee0325754a28319fee235288156f59c90481e1","ToCommit":"60ee0325754a28319fee235288156f59c90481e1","ErrorMessage":"","LocalPath":"/data/ahop/repos/1/1","CommandOutput":"","CreatedAt":"2025-07-26T18:54:22.273116+08:00"}],"msg":"查询到的所有同步日志","time":"2025-07-26 20:31:27"}
{"level":"info","msg":"未找到属于本 Worker 的同步日志，创建新日志","time":"2025-07-26 20:31:27"}
{"level":"info","msg":"成功创建同步日志","sync_log_id":3,"time":"2025-07-26 20:31:27","worker_id":"test-worker-001"}
{"level":"info","msg":"开始处理Git同步任务","time":"2025-07-26 20:31:27"}
{"action":"sync","level":"info","msg":"仓库已存在，将拉取更新: /data/ahop/repos/1/1","repository_id":1,"tenant_id":1,"time":"2025-07-26 20:31:27","worker_id":"test-worker-001"}
{"level":"info","msg":"成功更新仓库","time":"2025-07-26 20:31:28"}
{"level":"debug","msg":"准备更新同步日志","sync_log_id":3,"time":"2025-07-26 20:31:28","update_data":{"duration":629,"error_message":"","finished_at":"2025-07-26T20:31:28.059208955+08:00","from_commit":"60ee0325754a28319fee235288156f59c90481e1","local_path":"/data/ahop/repos/1/1","status":"success","to_commit":"e9ccee223425e980b7cba5cd706e9fd1cf644c92","worker_id":"test-worker-001"}}
{"level":"info","msg":"成功更新同步日志","status":"success","sync_log_id":3,"time":"2025-07-26 20:31:28"}
{"level":"info","msg":"Git仓库同步成功，耗时: 629.353868ms","time":"2025-07-26 20:31:28"}
{"level":"info","msg":"收到退出信号，正在停止Worker...","time":"2025-07-26 20:31:37"}
{"level":"info","msg":"开始停止Worker","time":"2025-07-26 20:31:37"}
{"level":"info","msg":"Git同步订阅服务收到退出信号","time":"2025-07-26 20:31:37"}
{"consumer_id":1,"level":"info","msg":"任务消费者收到退出信号","time":"2025-07-26 20:31:44","worker_id":"test-worker-001"}
{"consumer_id":0,"level":"info","msg":"任务消费者收到退出信号","time":"2025-07-26 20:31:44","worker_id":"test-worker-001"}
{"level":"info","msg":"所有任务已完成","time":"2025-07-26 20:31:44"}
{"level":"info","msg":"已通知Master断开连接","time":"2025-07-26 20:31:44"}
{"level":"info","msg":"Worker已停止","time":"2025-07-26 20:31:44"}
{"level":"info","msg":"Worker已优雅停止","time":"2025-07-26 20:31:44"}
{"level":"info","master_url":"http://localhost:8080","msg":"启动AHOP Worker","time":"2025-07-26 20:31:46","version":"1.0.0","worker_name":"AHOP Worker on development"}
{"level":"info","msg":"使用配置的worker_id","time":"2025-07-26 20:31:46","worker_id":"test-worker-001"}
{"level":"info","master_url":"http://localhost:8080","msg":"Worker认证成功，获得数据库和Redis凭据","time":"2025-07-26 20:31:46","worker_id":"test-worker-001"}
{"executors":3,"level":"info","msg":"已注册任务执行器","time":"2025-07-26 20:31:46"}
{"concurrency":2,"level":"info","msg":"Worker启动成功","time":"2025-07-26 20:31:46","worker_id":"test-worker-001"}
{"level":"info","msg":"Worker启动成功，正在等待任务...","time":"2025-07-26 20:31:46"}
{"level":"info","msg":"Git扫描队列消费者已启动","time":"2025-07-26 20:31:46"}
{"consumer_id":1,"level":"info","msg":"任务消费者启动","time":"2025-07-26 20:31:46","worker_id":"test-worker-001"}
{"consumer_id":0,"level":"info","msg":"任务消费者启动","time":"2025-07-26 20:31:46","worker_id":"test-worker-001"}
{"level":"info","msg":"Git同步订阅服务已启动","time":"2025-07-26 20:31:46"}
{"consumer_id":0,"level":"info","msg":"开始处理任务","source":"api","task_id":"c5bdd491-50c8-46bb-9afd-0024d567a84c","task_type":"template","tenant_id":1,"tenant_name":"默认租户","time":"2025-07-26 20:32:04","user_id":1,"username":"admin","worker_id":"test-worker-001"}
{"count":2,"host_ids":[1,3],"level":"debug","msg":"开始查询主机信息","tenant_id":1,"time":"2025-07-26 20:32:04"}
{"credential_type":"password","host_id":1,"host_ip":"127.0.0.1","host_name":"development","level":"debug","msg":"准备主机连接信息","time":"2025-07-26 20:32:04"}
{"credential_type":"password","host_id":3,"host_ip":"192.168.31.100","host_name":"","level":"debug","msg":"准备主机连接信息","time":"2025-07-26 20:32:04"}
{"level":"debug","msg":"主机信息准备完成","time":"2025-07-26 20:32:04","total_prepared":2,"total_requested":2}
{"consumer_id":0,"error":"Ansible执行失败: exit status 2","level":"error","msg":"任务执行失败","source":"api","task_id":"c5bdd491-50c8-46bb-9afd-0024d567a84c","task_type":"template","tenant_id":1,"tenant_name":"默认租户","time":"2025-07-26 20:32:37","user_id":1,"username":"admin","worker_id":"test-worker-001"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-26 20:33:46"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-26 20:35:46"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-26 20:37:46"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-26 20:39:46"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-26 20:41:46"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-26 20:43:46"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-26 20:45:46"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-26 20:47:46"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-26 20:49:46"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-26 20:51:46"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-26 20:53:46"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-26 20:55:46"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-26 20:57:46"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-26 20:59:46"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-26 21:01:46"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-26 21:03:46"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-26 21:05:46"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-26 21:07:46"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-26 21:09:46"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-26 21:11:46"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-26 21:13:46"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-26 21:15:46"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-26 21:17:46"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-26 21:19:46"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-26 21:21:46"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-26 21:23:46"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-26 21:25:46"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-26 21:27:46"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-26 21:29:46"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-26 21:31:46"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-26 21:33:46"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-26 21:35:46"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-26 21:37:46"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-26 21:39:46"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-26 21:41:46"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-26 21:43:46"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-26 21:45:46"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-26 21:47:46"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-26 21:49:46"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-26 21:51:46"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-26 21:53:46"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-26 21:55:46"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-26 21:57:46"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-26 21:59:46"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-26 22:01:46"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-26 22:03:46"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-26 22:05:46"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-26 22:07:46"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-26 22:09:46"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-26 22:11:46"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-26 22:13:46"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-26 22:15:46"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-26 22:17:46"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-26 22:19:46"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-26 22:21:46"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-26 22:23:46"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-26 22:25:46"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-26 22:27:46"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-26 22:29:46"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-26 22:31:46"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-26 22:33:46"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-26 22:35:46"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-26 22:37:46"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-26 22:39:46"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-26 22:41:46"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-26 22:43:46"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-26 22:45:46"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-26 22:47:46"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-26 22:49:46"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-26 22:51:46"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-26 22:53:46"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-26 22:55:46"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-26 22:57:46"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-26 22:59:46"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-26 23:01:46"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-26 23:03:46"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-26 23:05:46"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-26 23:07:46"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-26 23:09:46"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-26 23:11:46"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-26 23:13:46"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-26 23:15:46"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-26 23:17:46"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-26 23:19:46"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-26 23:21:46"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-26 23:23:46"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-26 23:25:46"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-26 23:27:46"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-26 23:29:46"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-26 23:31:46"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-26 23:33:46"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-26 23:35:46"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-26 23:37:46"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-26 23:39:46"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-26 23:41:46"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-26 23:43:46"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-26 23:45:46"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-26 23:47:46"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-26 23:49:46"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-26 23:51:46"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-26 23:53:46"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-26 23:55:46"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-26 23:57:46"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-26 23:59:46"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-27 00:01:46"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-27 00:03:46"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-27 00:05:46"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-27 00:07:46"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-27 00:09:46"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-27 00:11:46"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-27 00:13:46"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-27 00:15:46"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-27 00:17:46"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-27 00:19:46"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-27 00:21:46"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-27 00:23:46"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-27 00:25:46"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-27 00:27:46"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-27 00:29:46"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-27 00:31:46"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-27 00:33:46"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-27 00:35:46"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-27 00:37:46"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-27 00:39:46"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-27 00:41:46"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-27 00:43:46"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-27 00:45:46"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-27 00:47:46"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-27 00:49:46"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-27 00:51:46"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-27 00:53:46"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-27 00:55:46"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-27 00:57:46"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-27 00:59:46"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-27 01:01:46"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-27 01:03:46"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-27 01:05:46"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-27 01:07:46"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-27 01:09:46"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-27 01:11:46"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-27 01:13:46"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-27 01:15:46"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-27 01:17:46"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-27 01:19:46"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-27 01:21:46"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-27 01:23:46"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-27 01:25:46"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-27 01:27:46"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-27 01:29:46"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-27 01:31:46"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-27 01:33:46"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-27 01:35:46"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-27 01:37:46"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-27 01:39:46"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-27 01:41:46"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-27 01:43:46"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-27 01:45:46"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-27 01:47:46"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-27 01:49:46"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-27 01:51:46"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-27 01:53:46"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-27 01:55:46"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-27 01:57:46"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-27 01:59:46"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-27 02:01:46"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-27 02:03:46"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-27 02:05:46"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-27 02:07:46"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-27 02:09:46"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-27 02:11:46"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-27 02:13:46"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-27 02:15:46"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-27 02:17:46"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-27 02:19:46"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-27 02:21:46"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-27 02:23:46"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-27 02:25:46"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-27 02:27:46"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-27 02:29:46"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-27 02:31:46"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-27 02:33:46"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-27 02:35:46"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-27 02:37:46"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-27 02:39:46"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-27 02:41:46"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-27 02:43:46"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-27 02:45:46"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-27 02:47:46"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-27 02:49:46"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-27 02:51:46"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-27 02:53:46"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-27 02:55:46"}
{"level":"debug","msg":"开始查找pending状态的同步日志","repository_id":1,"tenant_id":1,"time":"2025-07-27 02:56:28"}
{"count":3,"level":"debug","logs":[{"ID":1,"RepositoryID":1,"TenantID":1,"TaskID":"","TaskType":"scheduled","WorkerID":"test-worker-001","OperatorID":null,"StartedAt":"2025-07-26T18:54:08.086707+08:00","FinishedAt":"2025-07-26T18:54:09.357031+08:00","Duration":1276,"Status":"success","FromCommit":"","ToCommit":"60ee0325754a28319fee235288156f59c90481e1","ErrorMessage":"","LocalPath":"/data/ahop/repos/1/1","CommandOutput":"","CreatedAt":"2025-07-26T18:54:08.086708+08:00"},{"ID":2,"RepositoryID":1,"TenantID":1,"TaskID":"","TaskType":"manual","WorkerID":"test-worker-001","OperatorID":1,"StartedAt":"2025-07-26T18:54:22.273116+08:00","FinishedAt":"2025-07-26T18:54:23.40507+08:00","Duration":1134,"Status":"success","FromCommit":"60ee0325754a28319fee235288156f59c90481e1","ToCommit":"60ee0325754a28319fee235288156f59c90481e1","ErrorMessage":"","LocalPath":"/data/ahop/repos/1/1","CommandOutput":"","CreatedAt":"2025-07-26T18:54:22.273116+08:00"},{"ID":3,"RepositoryID":1,"TenantID":1,"TaskID":"","TaskType":"manual","WorkerID":"test-worker-001","OperatorID":1,"StartedAt":"2025-07-26T20:31:27.435438+08:00","FinishedAt":"2025-07-26T20:31:28.059208+08:00","Duration":629,"Status":"success","FromCommit":"60ee0325754a28319fee235288156f59c90481e1","ToCommit":"e9ccee223425e980b7cba5cd706e9fd1cf644c92","ErrorMessage":"","LocalPath":"/data/ahop/repos/1/1","CommandOutput":"","CreatedAt":"2025-07-26T20:31:27.435438+08:00"}],"msg":"查询到的所有同步日志","time":"2025-07-27 02:56:28"}
{"level":"info","msg":"未找到属于本 Worker 的同步日志，创建新日志","time":"2025-07-27 02:56:28"}
{"level":"info","msg":"成功创建同步日志","sync_log_id":4,"time":"2025-07-27 02:56:28","worker_id":"test-worker-001"}
{"level":"info","msg":"开始处理Git同步任务","time":"2025-07-27 02:56:28"}
{"action":"sync","level":"info","msg":"仓库已存在，将拉取更新: /data/ahop/repos/1/1","repository_id":1,"tenant_id":1,"time":"2025-07-27 02:56:28","worker_id":"test-worker-001"}
{"level":"info","msg":"成功更新仓库","time":"2025-07-27 02:56:29"}
{"level":"debug","msg":"准备更新同步日志","sync_log_id":4,"time":"2025-07-27 02:56:29","update_data":{"duration":536,"error_message":"","finished_at":"2025-07-27T02:56:29.498294208+08:00","from_commit":"e9ccee223425e980b7cba5cd706e9fd1cf644c92","local_path":"/data/ahop/repos/1/1","status":"success","to_commit":"e9ccee223425e980b7cba5cd706e9fd1cf644c92","worker_id":"test-worker-001"}}
{"level":"info","msg":"成功更新同步日志","status":"success","sync_log_id":4,"time":"2025-07-27 02:56:29"}
{"level":"info","msg":"Git仓库同步成功，耗时: 536.106288ms","time":"2025-07-27 02:56:29"}
{"consumer_id":1,"level":"info","msg":"开始处理任务","source":"api","task_id":"ba0103c7-9633-4ea4-8cd1-12aa4efc0a22","task_type":"template","tenant_id":1,"tenant_name":"默认租户","time":"2025-07-27 02:56:43","user_id":1,"username":"admin","worker_id":"test-worker-001"}
{"count":2,"host_ids":[1,3],"level":"debug","msg":"开始查询主机信息","tenant_id":1,"time":"2025-07-27 02:56:43"}
{"credential_type":"password","host_id":1,"host_ip":"127.0.0.1","host_name":"development","level":"debug","msg":"准备主机连接信息","time":"2025-07-27 02:56:43"}
{"credential_type":"password","host_id":3,"host_ip":"192.168.31.100","host_name":"","level":"debug","msg":"准备主机连接信息","time":"2025-07-27 02:56:43"}
{"level":"debug","msg":"主机信息准备完成","time":"2025-07-27 02:56:43","total_prepared":2,"total_requested":2}
{"consumer_id":1,"level":"info","msg":"任务执行成功","source":"api","task_id":"ba0103c7-9633-4ea4-8cd1-12aa4efc0a22","task_type":"template","tenant_id":1,"tenant_name":"默认租户","time":"2025-07-27 02:57:02","user_id":1,"username":"admin","worker_id":"test-worker-001"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-27 02:57:46"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-27 02:59:46"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-27 03:01:46"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-27 03:03:46"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-27 03:05:46"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-27 03:07:46"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-27 03:09:46"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-27 03:11:46"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-27 03:13:46"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-27 03:15:46"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-27 03:17:46"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-27 03:19:46"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-27 03:21:46"}
{"level":"debug","msg":"完成孤儿任务扫描","time":"2025-07-27 03:23:46"}
