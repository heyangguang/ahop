[defaults]
# 禁用主机密钥检查
host_key_checking = False

# SSH连接参数
ssh_args = -o StrictHostKeyChecking=no -o UserKnownHostsFile=/dev/null -o PasswordAuthentication=yes -o PreferredAuthentications=password

# 超时设置
timeout = 30
command_timeout = 30

# 日志设置
stdout_callback = json
log_path = logs/ansible.log

# 连接设置
transport = smart
pipelining = False

# 禁用cowsay
nocows = 1

# 使用sshpass进行密码认证
executable = /bin/bash

[ssh_connection]
# SSH连接重试
retries = 2
# 禁用SSH多路复用，避免错误凭证使用已建立的连接
ssh_args = -o StrictHostKeyChecking=no -o UserKnownHostsFile=/dev/null -o PasswordAuthentication=yes -o PreferredAuthentications=password -o ConnectTimeout=10 -o ServerAliveInterval=60 -o ControlMaster=no -o ControlPath=none
control_path_dir = /tmp
control_path = none
pipelining = False