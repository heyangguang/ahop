{
  "说明": "测试用的任务模板，不依赖外部命令和facts",
  
  "1_创建Shell测试模板": {
    "method": "POST",
    "url": "/api/v1/task-templates",
    "headers": {
      "Authorization": "Bearer {token}"
    },
    "body": {
      "name": "Echo测试模板",
      "code": "echo_test",
      "description": "简单的echo测试脚本",
      "script_type": "shell",
      "entry_file": "test_echo.sh",
      "included_files": [
        {
          "path": "test_echo.sh",
          "file_type": "shell"
        }
      ],
      "original_path": "test/scripts",
      "repository_id": 1,
      "execution_type": "ssh",
      "require_sudo": false,
      "timeout": 60,
      "parameters": [
        {
          "name": "message",
          "type": "text",
          "label": "测试消息",
          "description": "要显示的消息内容",
          "required": false,
          "default": "Hello from AHOP!"
        },
        {
          "name": "count",
          "type": "number",
          "label": "重复次数",
          "description": "消息重复显示的次数",
          "required": false,
          "default": "3",
          "validation": {
            "min": 1,
            "max": 10
          }
        }
      ]
    }
  },

  "2_创建Ansible测试模板": {
    "method": "POST",
    "url": "/api/v1/task-templates",
    "headers": {
      "Authorization": "Bearer {token}"
    },
    "body": {
      "name": "Ansible Echo测试模板",
      "code": "ansible_echo_test",
      "description": "简单的Ansible测试任务，不需要facts",
      "script_type": "ansible",
      "entry_file": "test_echo.yml",
      "included_files": [
        {
          "path": "test_echo.yml",
          "file_type": "yaml"
        }
      ],
      "original_path": "test/playbooks",
      "repository_id": 1,
      "execution_type": "ansible",
      "require_sudo": false,
      "timeout": 120,
      "parameters": [
        {
          "name": "message",
          "type": "text",
          "label": "测试消息",
          "description": "要显示的消息内容",
          "required": false,
          "default": "Hello from AHOP Task Template!"
        },
        {
          "name": "count",
          "type": "number",
          "label": "重复次数",
          "description": "消息重复显示的次数",
          "required": false,
          "default": "3",
          "validation": {
            "min": 1,
            "max": 10
          }
        }
      ]
    }
  },

  "3_创建Nginx部署模板（无Facts版）": {
    "method": "POST",
    "url": "/api/v1/task-templates",
    "headers": {
      "Authorization": "Bearer {token}"
    },
    "body": {
      "name": "Nginx部署模板（无Facts）",
      "code": "nginx_deploy_no_facts",
      "description": "不依赖facts的Nginx部署模板",
      "script_type": "ansible",
      "entry_file": "nginx_deploy_no_facts.yml",
      "included_files": [
        {
          "path": "nginx_deploy_no_facts.yml",
          "file_type": "yaml"
        }
      ],
      "original_path": "test/playbooks",
      "repository_id": 1,
      "execution_type": "ansible",
      "require_sudo": true,
      "timeout": 600,
      "parameters": [
        {
          "name": "nginx_version",
          "type": "select",
          "label": "Nginx版本",
          "description": "要安装的Nginx版本",
          "required": false,
          "default": "stable",
          "options": ["stable", "mainline"]
        },
        {
          "name": "server_name",
          "type": "text",
          "label": "服务器域名",
          "description": "Nginx站点域名",
          "required": false,
          "default": "example.com"
        },
        {
          "name": "listen_port",
          "type": "number",
          "label": "监听端口",
          "description": "Nginx监听端口",
          "required": false,
          "default": "80",
          "validation": {
            "min": 1,
            "max": 65535
          }
        },
        {
          "name": "os_type",
          "type": "select",
          "label": "操作系统类型",
          "description": "目标服务器的操作系统",
          "required": true,
          "default": "ubuntu",
          "options": ["ubuntu", "debian", "centos", "rhel"]
        }
      ]
    }
  }
}